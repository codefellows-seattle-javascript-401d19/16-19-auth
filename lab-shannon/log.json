{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T22:44:32.911Z"}
{"level":"info","message":"Processing : GET on : /friends/notAnId","timestamp":"2017-12-21T22:44:33.005Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T22:44:33.014Z"}
{"message":"Cast to ObjectId failed for value \"notAnId\" at path \"_id\" for model \"friend\"","stack":"CastError: Cast to ObjectId failed for value \"notAnId\" at path \"_id\" for model \"friend\"\n    at new CastError (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/kareem/index.js:250:8\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"CastError","stringValue":"\"notAnId\"","kind":"ObjectId","value":"notAnId","path":"_id","level":"info","timestamp":"2017-12-21T22:44:33.014Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-21T22:44:33.015Z"}
{"level":"info","message":"Turning the server off","timestamp":"2017-12-21T22:44:33.028Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T22:45:02.924Z"}
{"level":"info","message":"Processing : GET on : /friends/notAnId","timestamp":"2017-12-21T22:45:02.990Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T22:45:02.996Z"}
{"message":"Cast to ObjectId failed for value \"notAnId\" at path \"_id\" for model \"friend\"","stack":"CastError: Cast to ObjectId failed for value \"notAnId\" at path \"_id\" for model \"friend\"\n    at new CastError (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/kareem/index.js:250:8\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"CastError","stringValue":"\"notAnId\"","kind":"ObjectId","value":"notAnId","path":"_id","level":"info","timestamp":"2017-12-21T22:45:02.996Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-21T22:45:02.997Z"}
{"level":"info","message":"Turning the server off","timestamp":"2017-12-21T22:45:03.015Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T22:45:27.608Z"}
{"level":"info","message":"Processing : GET on : /friends/notAnId","timestamp":"2017-12-21T22:45:27.678Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T22:45:27.684Z"}
{"message":"Cast to ObjectId failed for value \"notAnId\" at path \"_id\" for model \"friend\"","stack":"CastError: Cast to ObjectId failed for value \"notAnId\" at path \"_id\" for model \"friend\"\n    at new CastError (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/kareem/index.js:250:8\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"CastError","stringValue":"\"notAnId\"","kind":"ObjectId","value":"notAnId","path":"_id","level":"info","timestamp":"2017-12-21T22:45:27.684Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-21T22:45:27.685Z"}
{"level":"info","message":"Turning the server off","timestamp":"2017-12-21T22:45:27.698Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T22:45:37.702Z"}
{"level":"info","message":"Processing : GET on : /friends/notAnId","timestamp":"2017-12-21T22:45:37.772Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T22:45:37.778Z"}
{"message":"Cast to ObjectId failed for value \"notAnId\" at path \"_id\" for model \"friend\"","stack":"CastError: Cast to ObjectId failed for value \"notAnId\" at path \"_id\" for model \"friend\"\n    at new CastError (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/kareem/index.js:250:8\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"CastError","stringValue":"\"notAnId\"","kind":"ObjectId","value":"notAnId","path":"_id","level":"info","timestamp":"2017-12-21T22:45:37.778Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-21T22:45:37.779Z"}
{"level":"info","message":"Turning the server off","timestamp":"2017-12-21T22:45:37.793Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T22:46:31.560Z"}
{"level":"info","message":"Processing : GET on : /friends/5a3c39c7d1fd341f9f3a7b74","timestamp":"2017-12-21T22:46:31.631Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T22:46:31.634Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/lib/bearer-auth-middleware.js:10:13)\n    at new Promise (<anonymous>)\n    at args (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/lib/bearer-auth-middleware.js:9:12)\n    at Object.<anonymous>.module.exports (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/lib/bearer-auth-middleware.js:27:40)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:275:10)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/lib/logger-middleware.js:8:10)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","expose":true,"statusCode":401,"status":401,"level":"info","timestamp":"2017-12-21T22:46:31.634Z"}
{"level":"info","message":"Responding with a 401 status and message: jwt malformed","timestamp":"2017-12-21T22:46:31.636Z"}
{"level":"info","message":"Turning the server off","timestamp":"2017-12-21T22:46:31.647Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T22:46:44.013Z"}
{"level":"info","message":"Processing : GET on : /friends5a3c39d4a1c5131fa9b1cdc1","timestamp":"2017-12-21T22:46:44.084Z"}
{"level":"info","message":"Returning a 404 status from * route","timestamp":"2017-12-21T22:46:44.085Z"}
{"level":"info","message":"Turning the server off","timestamp":"2017-12-21T22:46:44.096Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T22:47:18.862Z"}
{"level":"info","message":"Processing : GET on : /friends5a3c39f695a6ed1fb54c977a","timestamp":"2017-12-21T22:47:18.930Z"}
{"level":"info","message":"Returning a 404 status from * route","timestamp":"2017-12-21T22:47:18.931Z"}
{"level":"info","message":"Turning the server off","timestamp":"2017-12-21T22:47:18.943Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T22:47:40.544Z"}
{"level":"info","message":"Processing : GET on : /friends5a3c3a0ce5954e1fc2aa5f5b","timestamp":"2017-12-21T22:47:40.617Z"}
{"level":"info","message":"Returning a 404 status from * route","timestamp":"2017-12-21T22:47:40.617Z"}
{"level":"info","message":"Turning the server off","timestamp":"2017-12-21T22:47:40.628Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T22:51:48.532Z"}
{"level":"info","message":"Turning the server off","timestamp":"2017-12-21T22:51:48.594Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T22:52:29.577Z"}
{"level":"info","message":"Processing : GET on : /friends5a3c3b2d488d2f200460948a","timestamp":"2017-12-21T22:52:29.644Z"}
{"level":"info","message":"Returning a 404 status from * route","timestamp":"2017-12-21T22:52:29.645Z"}
{"level":"info","message":"Turning the server off","timestamp":"2017-12-21T22:52:29.655Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T22:53:27.079Z"}
{"level":"info","message":"Processing : GET on : /friends5a3c3b676e431820143e04e1","timestamp":"2017-12-21T22:53:27.155Z"}
{"level":"info","message":"Returning a 404 status from * route","timestamp":"2017-12-21T22:53:27.156Z"}
{"level":"info","message":"Turning the server off","timestamp":"2017-12-21T22:53:27.168Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T22:54:25.237Z"}
{"level":"info","message":"Processing : GET on : /friends/5a3c3ba1a3ac0c2025800bfd","timestamp":"2017-12-21T22:54:25.309Z"}
{"level":"info","message":"Turning the server off","timestamp":"2017-12-21T22:54:25.327Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T22:54:36.232Z"}
{"level":"info","message":"Processing : POST on : /friends","timestamp":"2017-12-21T22:54:36.295Z"}
{"level":"info","message":"Processing : POST on : /friends","timestamp":"2017-12-21T22:54:36.324Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T22:54:36.324Z"}
{"message":"BAD REQUEST: authorization header is required","stack":"BadRequestError: BAD REQUEST: authorization header is required\n    at Object.<anonymous>.module.exports (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/lib/bearer-auth-middleware.js:21:17)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:275:10)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/lib/logger-middleware.js:8:10)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T22:54:36.325Z"}
{"level":"info","message":"Responding with a 400 status and message: BAD REQUEST: authorization header is required","timestamp":"2017-12-21T22:54:36.326Z"}
{"level":"info","message":"Processing : POST on : /friends","timestamp":"2017-12-21T22:54:36.331Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T22:54:36.332Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/lib/bearer-auth-middleware.js:10:13)\n    at new Promise (<anonymous>)\n    at args (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/lib/bearer-auth-middleware.js:9:12)\n    at Object.<anonymous>.module.exports (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/lib/bearer-auth-middleware.js:27:40)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:275:10)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/lib/logger-middleware.js:8:10)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","expose":true,"statusCode":401,"status":401,"level":"info","timestamp":"2017-12-21T22:54:36.332Z"}
{"level":"info","message":"Responding with a 401 status and message: jwt malformed","timestamp":"2017-12-21T22:54:36.332Z"}
{"level":"info","message":"Processing : GET on : /friends/5a3c3bacd2f543202f2c31c6","timestamp":"2017-12-21T22:54:36.360Z"}
{"level":"info","message":"Processing : GET on : /friends/notAnId","timestamp":"2017-12-21T22:54:36.398Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T22:54:36.401Z"}
{"message":"Cast to ObjectId failed for value \"notAnId\" at path \"_id\" for model \"friend\"","stack":"CastError: Cast to ObjectId failed for value \"notAnId\" at path \"_id\" for model \"friend\"\n    at new CastError (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/kareem/index.js:250:8\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"CastError","stringValue":"\"notAnId\"","kind":"ObjectId","value":"notAnId","path":"_id","level":"info","timestamp":"2017-12-21T22:54:36.401Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-21T22:54:36.402Z"}
{"level":"info","message":"Processing : GET on : /friends/5a3c3bacd2f543202f2c31ca","timestamp":"2017-12-21T22:54:36.428Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T22:54:36.428Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/lib/bearer-auth-middleware.js:10:13)\n    at new Promise (<anonymous>)\n    at args (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/lib/bearer-auth-middleware.js:9:12)\n    at Object.<anonymous>.module.exports (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/lib/bearer-auth-middleware.js:27:40)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:275:10)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/lib/logger-middleware.js:8:10)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","expose":true,"statusCode":401,"status":401,"level":"info","timestamp":"2017-12-21T22:54:36.428Z"}
{"level":"info","message":"Responding with a 401 status and message: jwt malformed","timestamp":"2017-12-21T22:54:36.429Z"}
{"level":"info","message":"Turning the server off","timestamp":"2017-12-21T22:54:36.433Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T22:55:07.158Z"}
{"level":"info","message":"Processing : POST on : /friends","timestamp":"2017-12-21T22:55:07.221Z"}
{"level":"info","message":"Processing : POST on : /friends","timestamp":"2017-12-21T22:55:07.255Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T22:55:07.256Z"}
{"message":"BAD REQUEST: authorization header is required","stack":"BadRequestError: BAD REQUEST: authorization header is required\n    at Object.<anonymous>.module.exports (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/lib/bearer-auth-middleware.js:21:17)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:275:10)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/lib/logger-middleware.js:8:10)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T22:55:07.256Z"}
{"level":"info","message":"Responding with a 400 status and message: BAD REQUEST: authorization header is required","timestamp":"2017-12-21T22:55:07.257Z"}
{"level":"info","message":"Processing : POST on : /friends","timestamp":"2017-12-21T22:55:07.261Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T22:55:07.262Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/lib/bearer-auth-middleware.js:10:13)\n    at new Promise (<anonymous>)\n    at args (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/lib/bearer-auth-middleware.js:9:12)\n    at Object.<anonymous>.module.exports (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/lib/bearer-auth-middleware.js:27:40)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:275:10)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/lib/logger-middleware.js:8:10)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","expose":true,"statusCode":401,"status":401,"level":"info","timestamp":"2017-12-21T22:55:07.262Z"}
{"level":"info","message":"Responding with a 401 status and message: jwt malformed","timestamp":"2017-12-21T22:55:07.263Z"}
{"level":"info","message":"Processing : GET on : /friends/5a3c3bcb31ef6b203acb2200","timestamp":"2017-12-21T22:55:07.291Z"}
{"level":"info","message":"Processing : GET on : /friends/notAnId","timestamp":"2017-12-21T22:55:07.322Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T22:55:07.325Z"}
{"message":"Cast to ObjectId failed for value \"notAnId\" at path \"_id\" for model \"friend\"","stack":"CastError: Cast to ObjectId failed for value \"notAnId\" at path \"_id\" for model \"friend\"\n    at new CastError (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/kareem/index.js:250:8\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"CastError","stringValue":"\"notAnId\"","kind":"ObjectId","value":"notAnId","path":"_id","level":"info","timestamp":"2017-12-21T22:55:07.325Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-21T22:55:07.326Z"}
{"level":"info","message":"Processing : GET on : /friends/5a3c3bcb31ef6b203acb2204","timestamp":"2017-12-21T22:55:07.353Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T22:55:07.354Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/lib/bearer-auth-middleware.js:10:13)\n    at new Promise (<anonymous>)\n    at args (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/lib/bearer-auth-middleware.js:9:12)\n    at Object.<anonymous>.module.exports (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/lib/bearer-auth-middleware.js:27:40)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:275:10)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/lib/logger-middleware.js:8:10)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","expose":true,"statusCode":401,"status":401,"level":"info","timestamp":"2017-12-21T22:55:07.354Z"}
{"level":"info","message":"Responding with a 401 status and message: jwt malformed","timestamp":"2017-12-21T22:55:07.354Z"}
{"level":"info","message":"Turning the server off","timestamp":"2017-12-21T22:55:07.358Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-21T22:55:07.827Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T22:55:07.844Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T22:55:07.881Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T22:55:07.882Z"}
{"message":"Username, email, and password are required in order to create an account","stack":"BadRequestError: Username, email, and password are required in order to create an account\n    at Object.<anonymous>.authRouter.post (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/route/auth-router.js:14:11)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/route.js:137:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/raw-body/index.js:224:16)\n    at done (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/raw-body/index.js:273:7)\n    at IncomingMessage.emit (events.js:159:13)\n    at endReadableNT (_stream_readable.js:1054:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T22:55:07.882Z"}
{"level":"info","message":"Responding with a 400 status and message: Username, email, and password are required in order to create an account","timestamp":"2017-12-21T22:55:07.883Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-21T22:55:07.911Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T22:55:07.936Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: username_1 dup key: { : \"Jay.Boehm89\" }","op":{"username":"Jay.Boehm89","email":"anotherthing@gmail.com","passwordHash":"$2a$08$52PyMF/1uMhQRBIULRuLkupkSCWQ8TGcjgm3OdHWBI1gAeEV3GZFm","tokenSeed":"234e10cf4528c5b5e151b83ff62f7a368728b50756425d30961c0b95b45da94185b022d69b809b33430b26d0621360f5e6198a298b1ded82dd722358be578168","_id":"5a3c3bcb8de164203ac3f55e","created":"2017-12-21T22:55:07.930Z","__v":0}}
{"level":"info","message":"responding with a 409 status code","timestamp":"2017-12-21T22:55:07.937Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T22:55:07.963Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T22:55:07.990Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T22:55:07.990Z"}
{"message":"BAD REQUEST: authorization header is required","stack":"BadRequestError: BAD REQUEST: authorization header is required\n    at Object.<anonymous>.module.exports (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/lib/logger-middleware.js:8:10)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-21T22:55:07.990Z"}
{"level":"info","message":"Responding with a 400 status and message: BAD REQUEST: authorization header is required","timestamp":"2017-12-21T22:55:07.991Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-21T22:55:08.016Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-21T22:55:08.018Z"}
{"message":"NOT FOUND","stack":"NotFoundError: NOT FOUND\n    at Account.findOne.then.account (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lab-shannon/lib/basic-auth-middleware.js:24:19)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-21T22:55:08.018Z"}
{"level":"info","message":"Responding with a 404 status and message: NOT FOUND","timestamp":"2017-12-21T22:55:08.018Z"}
{"level":"info","message":"Turning the server off","timestamp":"2017-12-21T22:55:08.021Z"}
