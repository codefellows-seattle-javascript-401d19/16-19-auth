{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-21T08:31:43.098Z"}
{"level":"info","message":"Handling a GET request at endpoint /movies/123123123.","timestamp":"2017-12-21T08:31:43.175Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-21T08:33:36.306Z"}
{"level":"info","message":"Handling a GET request at endpoint /movies/123123123.","timestamp":"2017-12-21T08:33:36.384Z"}
{"message":"Cast to ObjectId failed for value \"123123123\" at path \"_id\" for model \"movie\"","stack":"CastError: Cast to ObjectId failed for value \"123123123\" at path \"_id\" for model \"movie\"\n    at new CastError (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/kareem/index.js:250:8\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"CastError","stringValue":"\"123123123\"","kind":"ObjectId","value":"123123123","path":"_id","level":"error","timestamp":"2017-12-21T08:33:36.390Z"}
{"level":"error","message":"Invalid id. Responding with a 404 status.","timestamp":"2017-12-21T08:33:36.390Z"}
{"level":"info","message":"Server successfully shut down.","timestamp":"2017-12-21T08:33:36.399Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-21T08:34:24.225Z"}
{"level":"info","message":"Handling a GET request at endpoint /movies/123123123.","timestamp":"2017-12-21T08:34:24.321Z"}
{"message":"Cast to ObjectId failed for value \"123123123\" at path \"_id\" for model \"movie\"","stack":"CastError: Cast to ObjectId failed for value \"123123123\" at path \"_id\" for model \"movie\"\n    at new CastError (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/kareem/index.js:250:8\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"CastError","stringValue":"\"123123123\"","kind":"ObjectId","value":"123123123","path":"_id","level":"error","timestamp":"2017-12-21T08:34:24.326Z"}
{"level":"error","message":"Invalid id. Responding with a 404 status.","timestamp":"2017-12-21T08:34:24.327Z"}
{"level":"info","message":"Server successfully shut down.","timestamp":"2017-12-21T08:34:24.336Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-21T08:34:24.503Z"}
{"level":"info","message":"Handling a POST request at endpoint /signup.","timestamp":"2017-12-21T08:34:24.567Z"}
{"level":"info","message":"Handling a POST request at endpoint /signup.","timestamp":"2017-12-21T08:34:24.606Z"}
{"message":"__ERROR__ username, email & password required to sign up.","stack":"BadRequestError: __ERROR__ username, email & password required to sign up.\n    at Object.<anonymous>.authRouter.post (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/route/auth-router.js:13:91)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/raw-body/index.js:224:16)\n    at done (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/raw-body/index.js:273:7)\n    at IncomingMessage.emit (events.js:159:13)\n    at endReadableNT (_stream_readable.js:1054:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"error","timestamp":"2017-12-21T08:34:24.606Z"}
{"level":"error","message":"Message: __ERROR__ username, email & password required to sign up.. Responding with a 400 status.","timestamp":"2017-12-21T08:34:24.608Z"}
{"level":"info","message":"Handling a POST request at endpoint /signup.","timestamp":"2017-12-21T08:34:24.632Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: username_1 dup key: { : \"Gaylord.Nienow\" }","op":{"username":"Gaylord.Nienow","email":"new@email.com","passwordHash":"$2a$08$rfWwU438E1iZ8DhHRffomu9QeapzRDAQR2o3Fy08jwADzp/vbz.cC","tokenSeed":"70a87ac3b65481151128cab4fce83985d4f7140f62903309c11e9a50998978fb4131ce1dbd74896e24007e6b84215aaa2d24e3cbe869e841444d0054ff89a3fb","_id":"5a3b721044ede855a1fe7670","created":"2017-12-21T08:34:24.649Z","__v":0}}
{"level":"error","message":"Duplicate key found. Responding with a 409 status.","timestamp":"2017-12-21T08:34:24.652Z"}
{"level":"info","message":"Handling a POST request at endpoint /signup.","timestamp":"2017-12-21T08:34:24.674Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"Brown96@hotmail.com\" }","op":{"username":"myName","email":"Brown96@hotmail.com","passwordHash":"$2a$08$lSCbb8JAx2I00A2DkHJFnuPv4.wh8ClGk3FvmM8OrVt7P7f9V4qmS","tokenSeed":"6ee404631aa634f44715c2c32c611ead5054fd5d024225c49e50d5074e9eb4aab983df4ef6de4ecd70fe1efa6ad98cf1c9594c95beafefe2f046698ae614e1df","_id":"5a3b721044ede855a1fe7672","created":"2017-12-21T08:34:24.691Z","__v":0}}
{"level":"error","message":"Duplicate key found. Responding with a 409 status.","timestamp":"2017-12-21T08:34:24.692Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-21T08:34:24.714Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-21T08:34:24.754Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/basic-auth-middleware.js:8:89)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-21T08:34:24.754Z"}
{"level":"error","message":"Message: __ERROR__ authorization header required. Responding with a 400 status.","timestamp":"2017-12-21T08:34:24.756Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-21T08:34:24.778Z"}
{"message":"__ERROR__ Basic authorization required","stack":"BadRequestError: __ERROR__ Basic authorization required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/basic-auth-middleware.js:13:89)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-21T08:34:24.778Z"}
{"level":"error","message":"Message: __ERROR__ Basic authorization required. Responding with a 400 status.","timestamp":"2017-12-21T08:34:24.778Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-21T08:34:24.799Z"}
{"message":"__ERROR__ username and password required","stack":"BadRequestError: __ERROR__ username and password required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/basic-auth-middleware.js:20:90)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-21T08:34:24.800Z"}
{"level":"error","message":"Message: __ERROR__ username and password required. Responding with a 400 status.","timestamp":"2017-12-21T08:34:24.800Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-21T08:34:24.821Z"}
{"message":"__ERROR__ not found","stack":"NotFoundError: __ERROR__ not found\n    at Account.findOne.then.account (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/basic-auth-middleware.js:25:86)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"error","timestamp":"2017-12-21T08:34:24.822Z"}
{"level":"error","message":"Message: __ERROR__ not found. Responding with a 404 status.","timestamp":"2017-12-21T08:34:24.822Z"}
{"level":"info","message":"Server successfully shut down.","timestamp":"2017-12-21T08:34:24.823Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-21T08:37:54.439Z"}
{"level":"info","message":"Handling a GET request at endpoint /movies/123123123.","timestamp":"2017-12-21T08:37:54.516Z"}
{"message":"Cast to ObjectId failed for value \"123123123\" at path \"_id\" for model \"movie\"","stack":"CastError: Cast to ObjectId failed for value \"123123123\" at path \"_id\" for model \"movie\"\n    at new CastError (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/kareem/index.js:250:8\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"CastError","stringValue":"\"123123123\"","kind":"ObjectId","value":"123123123","path":"_id","level":"error","timestamp":"2017-12-21T08:37:54.521Z"}
{"level":"error","message":"Invalid id. Responding with a 404 status.","timestamp":"2017-12-21T08:37:54.522Z"}
{"level":"info","message":"Server successfully shut down.","timestamp":"2017-12-21T08:37:54.530Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-21T08:37:54.688Z"}
{"level":"info","message":"Handling a POST request at endpoint /signup.","timestamp":"2017-12-21T08:37:54.753Z"}
{"level":"info","message":"Handling a POST request at endpoint /signup.","timestamp":"2017-12-21T08:37:54.791Z"}
{"message":"__ERROR__ username, email & password required to sign up.","stack":"BadRequestError: __ERROR__ username, email & password required to sign up.\n    at Object.<anonymous>.authRouter.post (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/route/auth-router.js:13:91)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/raw-body/index.js:224:16)\n    at done (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/raw-body/index.js:273:7)\n    at IncomingMessage.emit (events.js:159:13)\n    at endReadableNT (_stream_readable.js:1054:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"error","timestamp":"2017-12-21T08:37:54.791Z"}
{"level":"error","message":"Message: __ERROR__ username, email & password required to sign up.. Responding with a 400 status.","timestamp":"2017-12-21T08:37:54.793Z"}
{"level":"info","message":"Handling a POST request at endpoint /signup.","timestamp":"2017-12-21T08:37:54.816Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: username_1 dup key: { : \"Eino_Kessler\" }","op":{"username":"Eino_Kessler","email":"new@email.com","passwordHash":"$2a$08$4DA7h2wdmmMKEoumdU2T1OOM1NApgsuJ3bCY5ibjD4JE.NOB2Pcta","tokenSeed":"1161d6d70c0b61745817e972a1baeab7a555e06bf98e11c891b0152dc045b3157e4090a58a35dd4a7e85dad3d9162a0dafc9b5c01b35296ed2aa002056d0d680","_id":"5a3b72e2144c60562d3ee763","created":"2017-12-21T08:37:54.833Z","__v":0}}
{"level":"error","message":"Duplicate key found. Responding with a 409 status.","timestamp":"2017-12-21T08:37:54.836Z"}
{"level":"info","message":"Handling a POST request at endpoint /signup.","timestamp":"2017-12-21T08:37:54.857Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"Pete_Friesen@yahoo.com\" }","op":{"username":"myName","email":"Pete_Friesen@yahoo.com","passwordHash":"$2a$08$1G4Tu8BVEQ3j/w98exBdZerS9OP6jfwMaC/FWCrPvNt772iKS2am6","tokenSeed":"a8fc7512d5a8e7d705a331bba5cc0b01a99c505c8803c96ece605c9d746c0f0adbef7c82ef8cec086f362d677a1886c383d564f15ebd1bf5f08fc2e32555c3f4","_id":"5a3b72e2144c60562d3ee765","created":"2017-12-21T08:37:54.875Z","__v":0}}
{"level":"error","message":"Duplicate key found. Responding with a 409 status.","timestamp":"2017-12-21T08:37:54.876Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-21T08:37:54.899Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-21T08:37:54.938Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/basic-auth-middleware.js:8:89)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-21T08:37:54.939Z"}
{"level":"error","message":"Message: __ERROR__ authorization header required. Responding with a 400 status.","timestamp":"2017-12-21T08:37:54.940Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-21T08:37:54.962Z"}
{"message":"__ERROR__ Basic authorization required","stack":"BadRequestError: __ERROR__ Basic authorization required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/basic-auth-middleware.js:13:89)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-21T08:37:54.962Z"}
{"level":"error","message":"Message: __ERROR__ Basic authorization required. Responding with a 400 status.","timestamp":"2017-12-21T08:37:54.962Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-21T08:37:54.985Z"}
{"message":"__ERROR__ username and password required","stack":"BadRequestError: __ERROR__ username and password required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/basic-auth-middleware.js:20:90)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-21T08:37:54.985Z"}
{"level":"error","message":"Message: __ERROR__ username and password required. Responding with a 400 status.","timestamp":"2017-12-21T08:37:54.985Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-21T08:37:55.006Z"}
{"message":"__ERROR__ not found","stack":"NotFoundError: __ERROR__ not found\n    at Account.findOne.then.account (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/basic-auth-middleware.js:25:86)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"error","timestamp":"2017-12-21T08:37:55.008Z"}
{"level":"error","message":"Message: __ERROR__ not found. Responding with a 404 status.","timestamp":"2017-12-21T08:37:55.008Z"}
{"level":"info","message":"Server successfully shut down.","timestamp":"2017-12-21T08:37:55.009Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-21T08:38:07.943Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-21T08:38:08.014Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-21T08:38:08.059Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:19:90)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-21T08:38:08.059Z"}
{"level":"error","message":"Message: __ERROR__ authorization header required. Responding with a 400 status.","timestamp":"2017-12-21T08:38:08.061Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-21T08:38:08.082Z"}
{"message":"__ERROR__ Auth token required","stack":"BadRequestError: __ERROR__ Auth token required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:24:90)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-21T08:38:08.083Z"}
{"level":"error","message":"Message: __ERROR__ Auth token required. Responding with a 400 status.","timestamp":"2017-12-21T08:38:08.083Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-21T08:38:08.104Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:26:40)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"error","timestamp":"2017-12-21T08:38:08.105Z"}
{"level":"error","message":"Unauthorized access. Responding with a 401 status.","timestamp":"2017-12-21T08:38:08.106Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-21T08:38:08.130Z"}
{"message":"__ERROR__ not found","stack":"NotFoundError: __ERROR__ not found\n    at promisify.then.then.account (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:32:86)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"error","timestamp":"2017-12-21T08:38:08.131Z"}
{"level":"error","message":"Message: __ERROR__ not found. Responding with a 404 status.","timestamp":"2017-12-21T08:38:08.131Z"}
{"level":"info","message":"Handling a GET request at endpoint /movies/5a3b72f0a2557f56532563ed.","timestamp":"2017-12-21T08:38:08.157Z"}
{"level":"info","message":"Handling a GET request at endpoint /movies/123123123.","timestamp":"2017-12-21T08:38:08.184Z"}
{"message":"Cast to ObjectId failed for value \"123123123\" at path \"_id\" for model \"movie\"","stack":"CastError: Cast to ObjectId failed for value \"123123123\" at path \"_id\" for model \"movie\"\n    at new CastError (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/kareem/index.js:250:8\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"CastError","stringValue":"\"123123123\"","kind":"ObjectId","value":"123123123","path":"_id","level":"error","timestamp":"2017-12-21T08:38:08.187Z"}
{"level":"error","message":"Invalid id. Responding with a 404 status.","timestamp":"2017-12-21T08:38:08.188Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-21T08:38:08.209Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:26:40)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"error","timestamp":"2017-12-21T08:38:08.209Z"}
{"level":"error","message":"Unauthorized access. Responding with a 401 status.","timestamp":"2017-12-21T08:38:08.209Z"}
{"level":"info","message":"Server successfully shut down.","timestamp":"2017-12-21T08:38:08.213Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-21T08:38:08.388Z"}
{"level":"info","message":"Handling a POST request at endpoint /signup.","timestamp":"2017-12-21T08:38:08.453Z"}
{"level":"info","message":"Handling a POST request at endpoint /signup.","timestamp":"2017-12-21T08:38:08.482Z"}
{"message":"__ERROR__ username, email & password required to sign up.","stack":"BadRequestError: __ERROR__ username, email & password required to sign up.\n    at Object.<anonymous>.authRouter.post (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/route/auth-router.js:13:91)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/raw-body/index.js:224:16)\n    at done (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/raw-body/index.js:273:7)\n    at IncomingMessage.emit (events.js:159:13)\n    at endReadableNT (_stream_readable.js:1054:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"error","timestamp":"2017-12-21T08:38:08.483Z"}
{"level":"error","message":"Message: __ERROR__ username, email & password required to sign up.. Responding with a 400 status.","timestamp":"2017-12-21T08:38:08.484Z"}
{"level":"info","message":"Handling a POST request at endpoint /signup.","timestamp":"2017-12-21T08:38:08.509Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: username_1 dup key: { : \"Tess_Reichel16\" }","op":{"username":"Tess_Reichel16","email":"new@email.com","passwordHash":"$2a$08$YKhCaJrk6Cd2ZDYwZIjZ1ubVbOO6Ha1Cahf2e0RyCic1kdmwQ/006","tokenSeed":"e85243f029ef1a96805cf61c711922ba7206c861edc99227d9ec8463a4ec1a5fe098378ff85fb1c7fc6197582bb5269457d4e37cbf067ace92d4b4b695687c81","_id":"5a3b72f0adc51656537c20c3","created":"2017-12-21T08:38:08.525Z","__v":0}}
{"level":"error","message":"Duplicate key found. Responding with a 409 status.","timestamp":"2017-12-21T08:38:08.528Z"}
{"level":"info","message":"Handling a POST request at endpoint /signup.","timestamp":"2017-12-21T08:38:08.549Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"Creola.Kihn55@yahoo.com\" }","op":{"username":"myName","email":"Creola.Kihn55@yahoo.com","passwordHash":"$2a$08$qSUBOT6PG9HVxFAgr.wFVuQh/UIKn5d7Bdqg9mYZph7NhxixFVcVm","tokenSeed":"687e7f30d6cf9a57df9d6a0968838ecfd42667bc779de229f453232d9640928a14398bd1b2be05f1b47f1c32fabba8d4ba9b78aad0ef158e24d4d76236e728ce","_id":"5a3b72f0adc51656537c20c5","created":"2017-12-21T08:38:08.565Z","__v":0}}
{"level":"error","message":"Duplicate key found. Responding with a 409 status.","timestamp":"2017-12-21T08:38:08.566Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-21T08:38:08.588Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-21T08:38:08.627Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/basic-auth-middleware.js:8:89)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-21T08:38:08.628Z"}
{"level":"error","message":"Message: __ERROR__ authorization header required. Responding with a 400 status.","timestamp":"2017-12-21T08:38:08.629Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-21T08:38:08.650Z"}
{"message":"__ERROR__ Basic authorization required","stack":"BadRequestError: __ERROR__ Basic authorization required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/basic-auth-middleware.js:13:89)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-21T08:38:08.650Z"}
{"level":"error","message":"Message: __ERROR__ Basic authorization required. Responding with a 400 status.","timestamp":"2017-12-21T08:38:08.651Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-21T08:38:08.673Z"}
{"message":"__ERROR__ username and password required","stack":"BadRequestError: __ERROR__ username and password required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/basic-auth-middleware.js:20:90)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-21T08:38:08.673Z"}
{"level":"error","message":"Message: __ERROR__ username and password required. Responding with a 400 status.","timestamp":"2017-12-21T08:38:08.674Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-21T08:38:08.696Z"}
{"message":"__ERROR__ not found","stack":"NotFoundError: __ERROR__ not found\n    at Account.findOne.then.account (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/basic-auth-middleware.js:25:86)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"error","timestamp":"2017-12-21T08:38:08.697Z"}
{"level":"error","message":"Message: __ERROR__ not found. Responding with a 404 status.","timestamp":"2017-12-21T08:38:08.697Z"}
{"level":"info","message":"Server successfully shut down.","timestamp":"2017-12-21T08:38:08.698Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-21T08:38:18.949Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-21T08:38:19.021Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-21T08:38:19.066Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:19:90)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-21T08:38:19.067Z"}
{"level":"error","message":"Message: __ERROR__ authorization header required. Responding with a 400 status.","timestamp":"2017-12-21T08:38:19.069Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-21T08:38:19.090Z"}
{"message":"__ERROR__ Auth token required","stack":"BadRequestError: __ERROR__ Auth token required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:24:90)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-21T08:38:19.091Z"}
{"level":"error","message":"Message: __ERROR__ Auth token required. Responding with a 400 status.","timestamp":"2017-12-21T08:38:19.091Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-21T08:38:19.113Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:26:40)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"error","timestamp":"2017-12-21T08:38:19.114Z"}
{"level":"error","message":"Unauthorized access. Responding with a 401 status.","timestamp":"2017-12-21T08:38:19.115Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-21T08:38:19.136Z"}
{"message":"__ERROR__ not found","stack":"NotFoundError: __ERROR__ not found\n    at promisify.then.then.account (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:32:86)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"error","timestamp":"2017-12-21T08:38:19.137Z"}
{"level":"error","message":"Message: __ERROR__ not found. Responding with a 404 status.","timestamp":"2017-12-21T08:38:19.137Z"}
{"level":"info","message":"Handling a GET request at endpoint /movies/5a3b72fbd50c2a5678338b82.","timestamp":"2017-12-21T08:38:19.163Z"}
{"level":"info","message":"Handling a GET request at endpoint /movies/123123123.","timestamp":"2017-12-21T08:38:19.191Z"}
{"message":"Cast to ObjectId failed for value \"123123123\" at path \"_id\" for model \"movie\"","stack":"CastError: Cast to ObjectId failed for value \"123123123\" at path \"_id\" for model \"movie\"\n    at new CastError (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/kareem/index.js:250:8\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"CastError","stringValue":"\"123123123\"","kind":"ObjectId","value":"123123123","path":"_id","level":"error","timestamp":"2017-12-21T08:38:19.194Z"}
{"level":"error","message":"Invalid id. Responding with a 404 status.","timestamp":"2017-12-21T08:38:19.195Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-21T08:38:19.217Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:26:40)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"error","timestamp":"2017-12-21T08:38:19.217Z"}
{"level":"error","message":"Unauthorized access. Responding with a 401 status.","timestamp":"2017-12-21T08:38:19.218Z"}
{"level":"info","message":"Server successfully shut down.","timestamp":"2017-12-21T08:38:19.219Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-21T08:38:19.382Z"}
{"level":"info","message":"Handling a POST request at endpoint /signup.","timestamp":"2017-12-21T08:38:19.443Z"}
{"level":"info","message":"Handling a POST request at endpoint /signup.","timestamp":"2017-12-21T08:38:19.471Z"}
{"message":"__ERROR__ username, email & password required to sign up.","stack":"BadRequestError: __ERROR__ username, email & password required to sign up.\n    at Object.<anonymous>.authRouter.post (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/route/auth-router.js:13:91)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/raw-body/index.js:224:16)\n    at done (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/raw-body/index.js:273:7)\n    at IncomingMessage.emit (events.js:159:13)\n    at endReadableNT (_stream_readable.js:1054:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"error","timestamp":"2017-12-21T08:38:19.471Z"}
{"level":"error","message":"Message: __ERROR__ username, email & password required to sign up.. Responding with a 400 status.","timestamp":"2017-12-21T08:38:19.473Z"}
{"level":"info","message":"Handling a POST request at endpoint /signup.","timestamp":"2017-12-21T08:38:19.497Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: username_1 dup key: { : \"Polly.Balistreri88\" }","op":{"username":"Polly.Balistreri88","email":"new@email.com","passwordHash":"$2a$08$pvy46P1MbAVDx2JLlTOFHuH2dAoM2Ql/vCeehjK8KAmgMlVciohrC","tokenSeed":"1b6e0409c225fa483e3414bb0084033a8c7eb825b3eb357281a4215c1e9b58273fa92c55fe367ccb38029993196f08d8d30d10a5766c93b469664c0bc4d667d5","_id":"5a3b72fb1641bc567871b215","created":"2017-12-21T08:38:19.514Z","__v":0}}
{"level":"error","message":"Duplicate key found. Responding with a 409 status.","timestamp":"2017-12-21T08:38:19.517Z"}
{"level":"info","message":"Handling a POST request at endpoint /signup.","timestamp":"2017-12-21T08:38:19.537Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"Danika_Hills89@hotmail.com\" }","op":{"username":"myName","email":"Danika_Hills89@hotmail.com","passwordHash":"$2a$08$WaBLXjC0b3vdTquFP/4uSuq9WiCNDvO1D7zlaoFAnws.8uaqxtPvK","tokenSeed":"0132f90279bd85c4e6f015f83548a47940e265dc9de555ae42a21caad8691986edea7f36ff0be4591b6c7a9592c74bf78e5c12b1bfc654491e2f501153c8e4c8","_id":"5a3b72fb1641bc567871b217","created":"2017-12-21T08:38:19.552Z","__v":0}}
{"level":"error","message":"Duplicate key found. Responding with a 409 status.","timestamp":"2017-12-21T08:38:19.554Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-21T08:38:19.575Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-21T08:38:19.613Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/basic-auth-middleware.js:8:89)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-21T08:38:19.614Z"}
{"level":"error","message":"Message: __ERROR__ authorization header required. Responding with a 400 status.","timestamp":"2017-12-21T08:38:19.615Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-21T08:38:19.637Z"}
{"message":"__ERROR__ Basic authorization required","stack":"BadRequestError: __ERROR__ Basic authorization required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/basic-auth-middleware.js:13:89)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-21T08:38:19.637Z"}
{"level":"error","message":"Message: __ERROR__ Basic authorization required. Responding with a 400 status.","timestamp":"2017-12-21T08:38:19.638Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-21T08:38:19.658Z"}
{"message":"__ERROR__ username and password required","stack":"BadRequestError: __ERROR__ username and password required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/basic-auth-middleware.js:20:90)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-21T08:38:19.658Z"}
{"level":"error","message":"Message: __ERROR__ username and password required. Responding with a 400 status.","timestamp":"2017-12-21T08:38:19.659Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-21T08:38:19.680Z"}
{"message":"__ERROR__ not found","stack":"NotFoundError: __ERROR__ not found\n    at Account.findOne.then.account (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/basic-auth-middleware.js:25:86)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"error","timestamp":"2017-12-21T08:38:19.681Z"}
{"level":"error","message":"Message: __ERROR__ not found. Responding with a 404 status.","timestamp":"2017-12-21T08:38:19.681Z"}
{"level":"info","message":"Server successfully shut down.","timestamp":"2017-12-21T08:38:19.682Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-21T09:04:28.857Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-21T09:04:28.929Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-21T09:04:28.975Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:19:90)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-21T09:04:28.976Z"}
{"level":"error","message":"Message: __ERROR__ authorization header required. Responding with a 400 status.","timestamp":"2017-12-21T09:04:28.977Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-21T09:04:29.001Z"}
{"message":"__ERROR__ Auth token required","stack":"BadRequestError: __ERROR__ Auth token required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:24:90)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-21T09:04:29.001Z"}
{"level":"error","message":"Message: __ERROR__ Auth token required. Responding with a 400 status.","timestamp":"2017-12-21T09:04:29.002Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-21T09:04:29.024Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:26:40)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"error","timestamp":"2017-12-21T09:04:29.024Z"}
{"level":"error","message":"Unauthorized access. Responding with a 401 status.","timestamp":"2017-12-21T09:04:29.025Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-21T09:04:29.048Z"}
{"message":"__ERROR__ not found","stack":"NotFoundError: __ERROR__ not found\n    at promisify.then.then.account (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:32:86)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"error","timestamp":"2017-12-21T09:04:29.049Z"}
{"level":"error","message":"Message: __ERROR__ not found. Responding with a 404 status.","timestamp":"2017-12-21T09:04:29.049Z"}
{"level":"info","message":"Handling a GET request at endpoint /movies/5a3b791d62e28b5af476afc5.","timestamp":"2017-12-21T09:04:29.075Z"}
{"level":"info","message":"Handling a GET request at endpoint /movies/123123123.","timestamp":"2017-12-21T09:04:29.101Z"}
{"message":"Cast to ObjectId failed for value \"123123123\" at path \"_id\" for model \"movie\"","stack":"CastError: Cast to ObjectId failed for value \"123123123\" at path \"_id\" for model \"movie\"\n    at new CastError (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/kareem/index.js:250:8\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"CastError","stringValue":"\"123123123\"","kind":"ObjectId","value":"123123123","path":"_id","level":"error","timestamp":"2017-12-21T09:04:29.104Z"}
{"level":"error","message":"Invalid id. Responding with a 404 status.","timestamp":"2017-12-21T09:04:29.105Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-21T09:04:29.126Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:26:40)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"error","timestamp":"2017-12-21T09:04:29.126Z"}
{"level":"error","message":"Unauthorized access. Responding with a 401 status.","timestamp":"2017-12-21T09:04:29.127Z"}
{"level":"info","message":"Server successfully shut down.","timestamp":"2017-12-21T09:04:29.129Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-21T09:04:29.290Z"}
{"level":"info","message":"Handling a POST request at endpoint /signup.","timestamp":"2017-12-21T09:04:29.348Z"}
{"level":"info","message":"Handling a POST request at endpoint /signup.","timestamp":"2017-12-21T09:04:29.378Z"}
{"message":"__ERROR__ username, email & password required to sign up.","stack":"BadRequestError: __ERROR__ username, email & password required to sign up.\n    at Object.<anonymous>.authRouter.post (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/route/auth-router.js:13:91)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/raw-body/index.js:224:16)\n    at done (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/raw-body/index.js:273:7)\n    at IncomingMessage.emit (events.js:159:13)\n    at endReadableNT (_stream_readable.js:1054:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"error","timestamp":"2017-12-21T09:04:29.379Z"}
{"level":"error","message":"Message: __ERROR__ username, email & password required to sign up.. Responding with a 400 status.","timestamp":"2017-12-21T09:04:29.380Z"}
{"level":"info","message":"Handling a POST request at endpoint /signup.","timestamp":"2017-12-21T09:04:29.404Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: username_1 dup key: { : \"Patience99\" }","op":{"username":"Patience99","email":"new@email.com","passwordHash":"$2a$08$lJ90saD1MmpFgCfiS9g7yu2xqM0C81A/Cyl/cyylPE.kWWWZ2DHpa","tokenSeed":"2dba0942421003eb6ce08380b706a7acd58086baa940f7db3c0b568f58660d0e1b2c12a35bbb6f91478ab5971438d689ff1ef136fd21a55a6770b9639064c612","_id":"5a3b791d8d94135af4bdf2aa","created":"2017-12-21T09:04:29.421Z","__v":0}}
{"level":"error","message":"Duplicate key found. Responding with a 409 status.","timestamp":"2017-12-21T09:04:29.425Z"}
{"level":"info","message":"Handling a POST request at endpoint /signup.","timestamp":"2017-12-21T09:04:29.448Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"Bridie.Dicki30@gmail.com\" }","op":{"username":"myName","email":"Bridie.Dicki30@gmail.com","passwordHash":"$2a$08$BFwYjBaPMkBCf2nuXyW40uouKLQP7cCKqa37xsA2MCkBL.vfzWDSy","tokenSeed":"3a30e69394491c9e3b0abf9719ea92eae7ff231c228e32a12ea1b50db0770a9b6755a7f807fc9f5cf357e99724b8e968f7dd2bc15e8fbf28fd03689bfa12d351","_id":"5a3b791d8d94135af4bdf2ac","created":"2017-12-21T09:04:29.464Z","__v":0}}
{"level":"error","message":"Duplicate key found. Responding with a 409 status.","timestamp":"2017-12-21T09:04:29.465Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-21T09:04:29.485Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-21T09:04:29.525Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/basic-auth-middleware.js:8:89)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-21T09:04:29.525Z"}
{"level":"error","message":"Message: __ERROR__ authorization header required. Responding with a 400 status.","timestamp":"2017-12-21T09:04:29.526Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-21T09:04:29.548Z"}
{"message":"__ERROR__ Basic authorization required","stack":"BadRequestError: __ERROR__ Basic authorization required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/basic-auth-middleware.js:13:89)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-21T09:04:29.548Z"}
{"level":"error","message":"Message: __ERROR__ Basic authorization required. Responding with a 400 status.","timestamp":"2017-12-21T09:04:29.549Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-21T09:04:29.569Z"}
{"message":"__ERROR__ username and password required","stack":"BadRequestError: __ERROR__ username and password required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/basic-auth-middleware.js:20:90)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-21T09:04:29.569Z"}
{"level":"error","message":"Message: __ERROR__ username and password required. Responding with a 400 status.","timestamp":"2017-12-21T09:04:29.570Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-21T09:04:29.590Z"}
{"message":"__ERROR__ not found","stack":"NotFoundError: __ERROR__ not found\n    at Account.findOne.then.account (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/basic-auth-middleware.js:25:86)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"error","timestamp":"2017-12-21T09:04:29.591Z"}
{"level":"error","message":"Message: __ERROR__ not found. Responding with a 404 status.","timestamp":"2017-12-21T09:04:29.591Z"}
{"level":"info","message":"Server successfully shut down.","timestamp":"2017-12-21T09:04:29.592Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-22T01:38:04.078Z"}
{"level":"info","message":"Server successfully shut down.","timestamp":"2017-12-22T01:38:14.103Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-22T01:38:51.486Z"}
{"level":"info","message":"Server successfully shut down.","timestamp":"2017-12-22T01:38:51.577Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-22T01:39:24.007Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T01:39:24.081Z"}
{"level":"info","message":"Server successfully shut down.","timestamp":"2017-12-22T01:39:31.653Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-22T02:07:11.218Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T02:07:11.318Z"}
{"level":"info","message":"Server successfully shut down.","timestamp":"2017-12-22T02:07:11.539Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-22T02:07:35.215Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T02:07:35.336Z"}
{"level":"info","message":"Server successfully shut down.","timestamp":"2017-12-22T02:07:35.558Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-22T02:09:01.178Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T02:09:01.303Z"}
{"level":"info","message":"Server successfully shut down.","timestamp":"2017-12-22T02:09:01.526Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-22T02:10:22.097Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T02:10:22.220Z"}
{"level":"info","message":"Server successfully shut down.","timestamp":"2017-12-22T02:10:22.441Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-22T02:38:12.951Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T02:38:13.073Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T02:38:13.325Z"}
{"message":"__ERROR__ invalid request","stack":"BadRequestError: __ERROR__ invalid request\n    at Object.<anonymous>.videoClipRouter.post (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/route/video-clip-router.js:18:92)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Immediate.<anonymous> (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/multer/lib/make-middleware.js:53:37)\n    at runCallback (timers.js:804:20)\n    at tryOnImmediate (timers.js:762:5)\n    at processImmediate [as _immediateCallback] (timers.js:733:5)","name":"BadRequestError","level":"error","timestamp":"2017-12-22T02:38:13.506Z"}
{"level":"error","message":"Message: __ERROR__ invalid request. Responding with a 400 status.","timestamp":"2017-12-22T02:38:13.507Z"}
{"level":"info","message":"Server successfully shut down.","timestamp":"2017-12-22T02:38:13.512Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-22T02:38:39.035Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T02:38:39.164Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T02:38:39.416Z"}
{"message":"__ERROR__ invalid request","stack":"BadRequestError: __ERROR__ invalid request\n    at Object.<anonymous>.videoClipRouter.post (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/route/video-clip-router.js:18:92)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Immediate.<anonymous> (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/multer/lib/make-middleware.js:53:37)\n    at runCallback (timers.js:804:20)\n    at tryOnImmediate (timers.js:762:5)\n    at processImmediate [as _immediateCallback] (timers.js:733:5)","name":"BadRequestError","level":"error","timestamp":"2017-12-22T02:38:39.592Z"}
{"level":"error","message":"Message: __ERROR__ invalid request. Responding with a 400 status.","timestamp":"2017-12-22T02:38:39.593Z"}
{"level":"info","message":"Server successfully shut down.","timestamp":"2017-12-22T02:38:39.597Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-22T02:44:39.522Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T02:44:39.642Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T02:44:39.884Z"}
{"message":"__ERROR__ invalid request","stack":"BadRequestError: __ERROR__ invalid request\n    at Object.<anonymous>.videoClipRouter.post (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/route/video-clip-router.js:18:92)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Immediate.<anonymous> (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/multer/lib/make-middleware.js:53:37)\n    at runCallback (timers.js:804:20)\n    at tryOnImmediate (timers.js:762:5)\n    at processImmediate [as _immediateCallback] (timers.js:733:5)","name":"BadRequestError","level":"error","timestamp":"2017-12-22T02:44:40.056Z"}
{"level":"error","message":"Message: __ERROR__ invalid request. Responding with a 400 status.","timestamp":"2017-12-22T02:44:40.056Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T02:44:40.084Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:19:90)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-22T02:44:40.084Z"}
{"level":"error","message":"Message: __ERROR__ authorization header required. Responding with a 400 status.","timestamp":"2017-12-22T02:44:40.085Z"}
{"level":"info","message":"Server successfully shut down.","timestamp":"2017-12-22T02:44:40.088Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-22T02:45:08.492Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T02:45:08.609Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T02:45:08.841Z"}
{"message":"__ERROR__ invalid request","stack":"BadRequestError: __ERROR__ invalid request\n    at Object.<anonymous>.videoClipRouter.post (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/route/video-clip-router.js:18:92)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Immediate.<anonymous> (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/multer/lib/make-middleware.js:53:37)\n    at runCallback (timers.js:804:20)\n    at tryOnImmediate (timers.js:762:5)\n    at processImmediate [as _immediateCallback] (timers.js:733:5)","name":"BadRequestError","level":"error","timestamp":"2017-12-22T02:45:09.021Z"}
{"level":"error","message":"Message: __ERROR__ invalid request. Responding with a 400 status.","timestamp":"2017-12-22T02:45:09.022Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T02:45:09.047Z"}
{"message":"__ERROR__ Auth token required","stack":"BadRequestError: __ERROR__ Auth token required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:24:90)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-22T02:45:09.047Z"}
{"level":"error","message":"Message: __ERROR__ Auth token required. Responding with a 400 status.","timestamp":"2017-12-22T02:45:09.049Z"}
{"level":"info","message":"Server successfully shut down.","timestamp":"2017-12-22T02:45:09.052Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-22T02:47:19.787Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T02:47:19.907Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T02:47:20.157Z"}
{"message":"__ERROR__ invalid request","stack":"BadRequestError: __ERROR__ invalid request\n    at Object.<anonymous>.videoClipRouter.post (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/route/video-clip-router.js:18:92)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Immediate.<anonymous> (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/multer/lib/make-middleware.js:53:37)\n    at runCallback (timers.js:804:20)\n    at tryOnImmediate (timers.js:762:5)\n    at processImmediate [as _immediateCallback] (timers.js:733:5)","name":"BadRequestError","level":"error","timestamp":"2017-12-22T02:47:20.334Z"}
{"level":"error","message":"Message: __ERROR__ invalid request. Responding with a 400 status.","timestamp":"2017-12-22T02:47:20.334Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T02:47:20.359Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:26:40)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"error","timestamp":"2017-12-22T02:47:20.360Z"}
{"level":"error","message":"Unauthorized access. Responding with a 401 status.","timestamp":"2017-12-22T02:47:20.362Z"}
{"level":"info","message":"Server successfully shut down.","timestamp":"2017-12-22T02:47:20.366Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-22T02:48:30.009Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T02:48:30.127Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T02:48:30.389Z"}
{"message":"__ERROR__ invalid request","stack":"BadRequestError: __ERROR__ invalid request\n    at Object.<anonymous>.videoClipRouter.post (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/route/video-clip-router.js:18:92)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Immediate.<anonymous> (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/multer/lib/make-middleware.js:53:37)\n    at runCallback (timers.js:804:20)\n    at tryOnImmediate (timers.js:762:5)\n    at processImmediate [as _immediateCallback] (timers.js:733:5)","name":"BadRequestError","level":"error","timestamp":"2017-12-22T02:48:30.567Z"}
{"level":"error","message":"Message: __ERROR__ invalid request. Responding with a 400 status.","timestamp":"2017-12-22T02:48:30.568Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T02:48:30.593Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:26:40)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"error","timestamp":"2017-12-22T02:48:30.594Z"}
{"level":"error","message":"Unauthorized access. Responding with a 401 status.","timestamp":"2017-12-22T02:48:30.596Z"}
{"level":"info","message":"Server successfully shut down.","timestamp":"2017-12-22T02:48:30.600Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-22T02:48:45.373Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T02:48:45.493Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T02:48:45.734Z"}
{"message":"__ERROR__ invalid request","stack":"BadRequestError: __ERROR__ invalid request\n    at Object.<anonymous>.videoClipRouter.post (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/route/video-clip-router.js:18:92)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Immediate.<anonymous> (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/multer/lib/make-middleware.js:53:37)\n    at runCallback (timers.js:804:20)\n    at tryOnImmediate (timers.js:762:5)\n    at processImmediate [as _immediateCallback] (timers.js:733:5)","name":"BadRequestError","level":"error","timestamp":"2017-12-22T02:48:45.923Z"}
{"level":"error","message":"Message: __ERROR__ invalid request. Responding with a 400 status.","timestamp":"2017-12-22T02:48:45.924Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T02:48:45.948Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:26:40)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"error","timestamp":"2017-12-22T02:48:45.949Z"}
{"level":"error","message":"Unauthorized access. Responding with a 401 status.","timestamp":"2017-12-22T02:48:45.951Z"}
{"level":"info","message":"Server successfully shut down.","timestamp":"2017-12-22T02:48:45.954Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-22T02:48:56.769Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-22T02:48:56.892Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-22T02:48:56.944Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:19:90)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-22T02:48:56.944Z"}
{"level":"error","message":"Message: __ERROR__ authorization header required. Responding with a 400 status.","timestamp":"2017-12-22T02:48:56.946Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-22T02:48:56.970Z"}
{"message":"__ERROR__ Auth token required","stack":"BadRequestError: __ERROR__ Auth token required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:24:90)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-22T02:48:56.970Z"}
{"level":"error","message":"Message: __ERROR__ Auth token required. Responding with a 400 status.","timestamp":"2017-12-22T02:48:56.971Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-22T02:48:56.995Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:26:40)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"error","timestamp":"2017-12-22T02:48:56.995Z"}
{"level":"error","message":"Unauthorized access. Responding with a 401 status.","timestamp":"2017-12-22T02:48:56.996Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-22T02:48:57.018Z"}
{"message":"__ERROR__ not found","stack":"NotFoundError: __ERROR__ not found\n    at promisify.then.then.account (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:32:86)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","name":"NotFoundError","level":"error","timestamp":"2017-12-22T02:48:57.019Z"}
{"level":"error","message":"Message: __ERROR__ not found. Responding with a 404 status.","timestamp":"2017-12-22T02:48:57.019Z"}
{"level":"info","message":"Handling a GET request at endpoint /movies/5a3c7299563fcf25f9295b13.","timestamp":"2017-12-22T02:48:57.045Z"}
{"level":"info","message":"Handling a GET request at endpoint /movies/123123123.","timestamp":"2017-12-22T02:48:57.074Z"}
{"message":"Cast to ObjectId failed for value \"123123123\" at path \"_id\" for model \"movie\"","stack":"CastError: Cast to ObjectId failed for value \"123123123\" at path \"_id\" for model \"movie\"\n    at new CastError (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/kareem/index.js:250:8\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"123123123\"","kind":"ObjectId","value":"123123123","path":"_id","level":"error","timestamp":"2017-12-22T02:48:57.076Z"}
{"level":"error","message":"Invalid id. Responding with a 404 status.","timestamp":"2017-12-22T02:48:57.077Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-22T02:48:57.100Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:26:40)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"error","timestamp":"2017-12-22T02:48:57.101Z"}
{"level":"error","message":"Unauthorized access. Responding with a 401 status.","timestamp":"2017-12-22T02:48:57.101Z"}
{"level":"info","message":"Server successfully shut down.","timestamp":"2017-12-22T02:48:57.103Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-22T02:48:57.340Z"}
{"level":"info","message":"Handling a POST request at endpoint /signup.","timestamp":"2017-12-22T02:48:57.346Z"}
{"level":"info","message":"Handling a POST request at endpoint /signup.","timestamp":"2017-12-22T02:48:57.374Z"}
{"message":"__ERROR__ username, email & password required to sign up.","stack":"BadRequestError: __ERROR__ username, email & password required to sign up.\n    at Object.<anonymous>.authRouter.post (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/route/auth-router.js:13:91)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/raw-body/index.js:224:16)\n    at done (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/raw-body/index.js:273:7)\n    at IncomingMessage.emit (events.js:159:13)\n    at endReadableNT (_stream_readable.js:1054:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"BadRequestError","level":"error","timestamp":"2017-12-22T02:48:57.374Z"}
{"level":"error","message":"Message: __ERROR__ username, email & password required to sign up.. Responding with a 400 status.","timestamp":"2017-12-22T02:48:57.375Z"}
{"level":"info","message":"Handling a POST request at endpoint /signup.","timestamp":"2017-12-22T02:48:57.401Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: username_1 dup key: { : \"Micaela93\" }","op":{"username":"Micaela93","email":"new@email.com","passwordHash":"$2a$08$IO3REjPWn5aaPlOJ.Kow4eLVCaYde14XLvIWhA.mm1di4EsXjsL4m","tokenSeed":"dcb97e659f72770f51b405902a0f83e863849cc954ff9f6ccbc2efd1e467d00776d6a54ec8d7445e373ff2328117fb199ec40857ab5cbc5c51b4b798ffccaf89","_id":"5a3c72999674b925f94ebe7d","created":"2017-12-22T02:48:57.419Z","__v":0}}
{"level":"error","message":"Duplicate key found. Responding with a 409 status.","timestamp":"2017-12-22T02:48:57.425Z"}
{"level":"info","message":"Handling a POST request at endpoint /signup.","timestamp":"2017-12-22T02:48:57.447Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"Cornelius_Gusikowski@yahoo.com\" }","op":{"username":"myName","email":"Cornelius_Gusikowski@yahoo.com","passwordHash":"$2a$08$koTpGLee/jvuR22j5xYeLO0l5qgFcCZkotVXlTCy.SbeysiYwymwK","tokenSeed":"a5f51b77c79db12fc764363c4c2780724feb68f6b7604d45e59371b8b80c745c53b6778c6112bca104b4eb82610dc74e216f0c1246389d128d3a2212ed690a1e","_id":"5a3c72999674b925f94ebe7f","created":"2017-12-22T02:48:57.463Z","__v":0}}
{"level":"error","message":"Duplicate key found. Responding with a 409 status.","timestamp":"2017-12-22T02:48:57.464Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-22T02:48:57.485Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-22T02:48:57.524Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/basic-auth-middleware.js:8:89)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-22T02:48:57.524Z"}
{"level":"error","message":"Message: __ERROR__ authorization header required. Responding with a 400 status.","timestamp":"2017-12-22T02:48:57.525Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-22T02:48:57.546Z"}
{"message":"__ERROR__ Basic authorization required","stack":"BadRequestError: __ERROR__ Basic authorization required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/basic-auth-middleware.js:13:89)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-22T02:48:57.546Z"}
{"level":"error","message":"Message: __ERROR__ Basic authorization required. Responding with a 400 status.","timestamp":"2017-12-22T02:48:57.547Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-22T02:48:57.567Z"}
{"message":"__ERROR__ username and password required","stack":"BadRequestError: __ERROR__ username and password required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/basic-auth-middleware.js:20:90)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-22T02:48:57.567Z"}
{"level":"error","message":"Message: __ERROR__ username and password required. Responding with a 400 status.","timestamp":"2017-12-22T02:48:57.568Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-22T02:48:57.590Z"}
{"message":"__ERROR__ not found","stack":"NotFoundError: __ERROR__ not found\n    at Account.findOne.then.account (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/basic-auth-middleware.js:25:86)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","name":"NotFoundError","level":"error","timestamp":"2017-12-22T02:48:57.591Z"}
{"level":"error","message":"Message: __ERROR__ not found. Responding with a 404 status.","timestamp":"2017-12-22T02:48:57.591Z"}
{"level":"info","message":"Server successfully shut down.","timestamp":"2017-12-22T02:48:57.592Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-22T02:48:57.782Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T02:48:57.891Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T02:48:58.168Z"}
{"message":"__ERROR__ invalid request","stack":"BadRequestError: __ERROR__ invalid request\n    at Object.<anonymous>.videoClipRouter.post (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/route/video-clip-router.js:18:92)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Immediate.<anonymous> (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/multer/lib/make-middleware.js:53:37)\n    at runCallback (timers.js:804:20)\n    at tryOnImmediate (timers.js:762:5)\n    at processImmediate [as _immediateCallback] (timers.js:733:5)","name":"BadRequestError","level":"error","timestamp":"2017-12-22T02:48:58.379Z"}
{"level":"error","message":"Message: __ERROR__ invalid request. Responding with a 400 status.","timestamp":"2017-12-22T02:48:58.380Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T02:48:58.405Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:26:40)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"error","timestamp":"2017-12-22T02:48:58.405Z"}
{"level":"error","message":"Unauthorized access. Responding with a 401 status.","timestamp":"2017-12-22T02:48:58.407Z"}
{"level":"info","message":"Server successfully shut down.","timestamp":"2017-12-22T02:48:58.409Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-22T03:06:02.768Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T03:06:02.886Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T03:06:03.133Z"}
{"message":"__ERROR__ invalid request","stack":"BadRequestError: __ERROR__ invalid request\n    at Object.<anonymous>.videoClipRouter.post (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/route/video-clip-router.js:18:92)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Immediate.<anonymous> (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/multer/lib/make-middleware.js:53:37)\n    at runCallback (timers.js:804:20)\n    at tryOnImmediate (timers.js:762:5)\n    at processImmediate [as _immediateCallback] (timers.js:733:5)","name":"BadRequestError","level":"error","timestamp":"2017-12-22T03:06:03.303Z"}
{"level":"error","message":"Message: __ERROR__ invalid request. Responding with a 400 status.","timestamp":"2017-12-22T03:06:03.303Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T03:06:03.329Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:26:40)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"error","timestamp":"2017-12-22T03:06:03.330Z"}
{"level":"error","message":"Unauthorized access. Responding with a 401 status.","timestamp":"2017-12-22T03:06:03.332Z"}
{"level":"info","message":"Handling a GET request at endpoint /video-clips.","timestamp":"2017-12-22T03:06:03.358Z"}
{"level":"error","message":"Bad endpoint with a GET request. Sending a 404 status.","timestamp":"2017-12-22T03:06:03.358Z"}
{"level":"info","message":"Server successfully shut down.","timestamp":"2017-12-22T03:06:03.360Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-22T03:22:46.391Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T03:22:46.513Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T03:22:46.776Z"}
{"message":"__ERROR__ invalid request","stack":"BadRequestError: __ERROR__ invalid request\n    at Object.<anonymous>.videoClipRouter.post (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/route/video-clip-router.js:18:92)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Immediate._onImmediate (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/multer/lib/make-middleware.js:53:37)\n    at runCallback (timers.js:804:20)\n    at tryOnImmediate (timers.js:762:5)\n    at processImmediate [as _immediateCallback] (timers.js:733:5)","name":"BadRequestError","level":"error","timestamp":"2017-12-22T03:22:46.962Z"}
{"level":"error","message":"Message: __ERROR__ invalid request. Responding with a 400 status.","timestamp":"2017-12-22T03:22:46.962Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T03:22:46.988Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:26:40)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"error","timestamp":"2017-12-22T03:22:46.989Z"}
{"level":"error","message":"Unauthorized access. Responding with a 401 status.","timestamp":"2017-12-22T03:22:46.990Z"}
{"level":"info","message":"Handling a GET request at endpoint /video-clips.","timestamp":"2017-12-22T03:22:47.016Z"}
{"level":"error","message":"Bad endpoint with a GET request. Sending a 404 status.","timestamp":"2017-12-22T03:22:47.016Z"}
{"level":"info","message":"Server successfully shut down.","timestamp":"2017-12-22T03:22:47.019Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-22T03:23:30.920Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T03:23:31.044Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T03:23:31.296Z"}
{"message":"__ERROR__ invalid request","stack":"BadRequestError: __ERROR__ invalid request\n    at Object.<anonymous>.videoClipRouter.post (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/route/video-clip-router.js:18:92)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Immediate._onImmediate (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/multer/lib/make-middleware.js:53:37)\n    at runCallback (timers.js:804:20)\n    at tryOnImmediate (timers.js:762:5)\n    at processImmediate [as _immediateCallback] (timers.js:733:5)","name":"BadRequestError","level":"error","timestamp":"2017-12-22T03:23:31.474Z"}
{"level":"error","message":"Message: __ERROR__ invalid request. Responding with a 400 status.","timestamp":"2017-12-22T03:23:31.475Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T03:23:31.500Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:26:40)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"error","timestamp":"2017-12-22T03:23:31.500Z"}
{"level":"error","message":"Unauthorized access. Responding with a 401 status.","timestamp":"2017-12-22T03:23:31.502Z"}
{"level":"info","message":"Handling a GET request at endpoint /video-clips/5a3c7ab3820ba72c16bf1f58.","timestamp":"2017-12-22T03:23:31.527Z"}
{"level":"info","message":"Server successfully shut down.","timestamp":"2017-12-22T03:23:31.532Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-22T03:23:47.136Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T03:23:47.257Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T03:23:47.506Z"}
{"message":"__ERROR__ invalid request","stack":"BadRequestError: __ERROR__ invalid request\n    at Object.<anonymous>.videoClipRouter.post (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/route/video-clip-router.js:18:92)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Immediate._onImmediate (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/multer/lib/make-middleware.js:53:37)\n    at runCallback (timers.js:804:20)\n    at tryOnImmediate (timers.js:762:5)\n    at processImmediate [as _immediateCallback] (timers.js:733:5)","name":"BadRequestError","level":"error","timestamp":"2017-12-22T03:23:47.690Z"}
{"level":"error","message":"Message: __ERROR__ invalid request. Responding with a 400 status.","timestamp":"2017-12-22T03:23:47.691Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T03:23:47.717Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:26:40)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"error","timestamp":"2017-12-22T03:23:47.717Z"}
{"level":"error","message":"Unauthorized access. Responding with a 401 status.","timestamp":"2017-12-22T03:23:47.719Z"}
{"level":"info","message":"Handling a GET request at endpoint /video-clips/5a3c7ac356dcbe2c428d940c.","timestamp":"2017-12-22T03:23:47.745Z"}
{"level":"info","message":"Server successfully shut down.","timestamp":"2017-12-22T03:23:47.753Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-22T03:38:38.083Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T03:38:38.208Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T03:38:38.445Z"}
{"message":"__ERROR__ invalid request","stack":"BadRequestError: __ERROR__ invalid request\n    at Object.<anonymous>.videoClipRouter.post (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/route/video-clip-router.js:18:92)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Immediate._onImmediate (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/multer/lib/make-middleware.js:53:37)\n    at runCallback (timers.js:804:20)\n    at tryOnImmediate (timers.js:762:5)\n    at processImmediate [as _immediateCallback] (timers.js:733:5)","name":"BadRequestError","level":"error","timestamp":"2017-12-22T03:38:38.621Z"}
{"level":"error","message":"Message: __ERROR__ invalid request. Responding with a 400 status.","timestamp":"2017-12-22T03:38:38.621Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T03:38:38.646Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:26:40)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"error","timestamp":"2017-12-22T03:38:38.647Z"}
{"level":"error","message":"Unauthorized access. Responding with a 401 status.","timestamp":"2017-12-22T03:38:38.648Z"}
{"level":"info","message":"Handling a GET request at endpoint /video-clips/5a3c7e3ee607482e53caf2a3.","timestamp":"2017-12-22T03:38:38.673Z"}
{"level":"info","message":"Handling a GET request at endpoint /video-clips/bad-id.","timestamp":"2017-12-22T03:38:38.699Z"}
{"message":"Cast to ObjectId failed for value \"bad-id\" at path \"_id\" for model \"videoClip\"","stack":"CastError: Cast to ObjectId failed for value \"bad-id\" at path \"_id\" for model \"videoClip\"\n    at new CastError (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/kareem/index.js:250:8\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"bad-id\"","kind":"ObjectId","value":"bad-id","path":"_id","level":"error","timestamp":"2017-12-22T03:38:38.701Z"}
{"level":"error","message":"Invalid id. Responding with a 404 status.","timestamp":"2017-12-22T03:38:38.702Z"}
{"level":"info","message":"Server successfully shut down.","timestamp":"2017-12-22T03:38:38.705Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-22T03:38:55.472Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T03:38:55.624Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T03:38:55.894Z"}
{"message":"__ERROR__ invalid request","stack":"BadRequestError: __ERROR__ invalid request\n    at Object.<anonymous>.videoClipRouter.post (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/route/video-clip-router.js:18:92)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Immediate._onImmediate (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/multer/lib/make-middleware.js:53:37)\n    at runCallback (timers.js:804:20)\n    at tryOnImmediate (timers.js:762:5)\n    at processImmediate [as _immediateCallback] (timers.js:733:5)","name":"BadRequestError","level":"error","timestamp":"2017-12-22T03:38:56.109Z"}
{"level":"error","message":"Message: __ERROR__ invalid request. Responding with a 400 status.","timestamp":"2017-12-22T03:38:56.110Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T03:38:56.136Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:26:40)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"error","timestamp":"2017-12-22T03:38:56.137Z"}
{"level":"error","message":"Unauthorized access. Responding with a 401 status.","timestamp":"2017-12-22T03:38:56.139Z"}
{"level":"info","message":"Handling a GET request at endpoint /video-clips/5a3c7e50f0d69a2e7980a098.","timestamp":"2017-12-22T03:38:56.165Z"}
{"level":"info","message":"Handling a GET request at endpoint /video-clips/bad-id.","timestamp":"2017-12-22T03:38:56.193Z"}
{"message":"Cast to ObjectId failed for value \"bad-id\" at path \"_id\" for model \"videoClip\"","stack":"CastError: Cast to ObjectId failed for value \"bad-id\" at path \"_id\" for model \"videoClip\"\n    at new CastError (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/kareem/index.js:250:8\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"bad-id\"","kind":"ObjectId","value":"bad-id","path":"_id","level":"error","timestamp":"2017-12-22T03:38:56.196Z"}
{"level":"error","message":"Invalid id. Responding with a 404 status.","timestamp":"2017-12-22T03:38:56.197Z"}
{"level":"info","message":"Server successfully shut down.","timestamp":"2017-12-22T03:38:56.199Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-22T03:39:50.171Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T03:39:50.245Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T03:39:50.481Z"}
{"message":"__ERROR__ invalid request","stack":"BadRequestError: __ERROR__ invalid request\n    at Object.<anonymous>.videoClipRouter.post (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/route/video-clip-router.js:18:92)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Immediate._onImmediate (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/multer/lib/make-middleware.js:53:37)\n    at runCallback (timers.js:804:20)\n    at tryOnImmediate (timers.js:762:5)\n    at processImmediate [as _immediateCallback] (timers.js:733:5)","name":"BadRequestError","level":"error","timestamp":"2017-12-22T03:39:50.646Z"}
{"level":"error","message":"Message: __ERROR__ invalid request. Responding with a 400 status.","timestamp":"2017-12-22T03:39:50.647Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T03:39:50.674Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:26:40)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"error","timestamp":"2017-12-22T03:39:50.674Z"}
{"level":"error","message":"Unauthorized access. Responding with a 401 status.","timestamp":"2017-12-22T03:39:50.676Z"}
{"level":"info","message":"Handling a GET request at endpoint /video-clips/5a3c7e8659c8322ec059c90b.","timestamp":"2017-12-22T03:39:50.701Z"}
{"level":"info","message":"Handling a GET request at endpoint /video-clips/bad-id.","timestamp":"2017-12-22T03:39:50.728Z"}
{"message":"Cast to ObjectId failed for value \"bad-id\" at path \"_id\" for model \"videoClip\"","stack":"CastError: Cast to ObjectId failed for value \"bad-id\" at path \"_id\" for model \"videoClip\"\n    at new CastError (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/kareem/index.js:250:8\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"bad-id\"","kind":"ObjectId","value":"bad-id","path":"_id","level":"error","timestamp":"2017-12-22T03:39:50.730Z"}
{"level":"error","message":"Invalid id. Responding with a 404 status.","timestamp":"2017-12-22T03:39:50.731Z"}
{"level":"info","message":"Server successfully shut down.","timestamp":"2017-12-22T03:39:50.733Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-22T03:41:04.815Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T03:41:04.890Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T03:41:05.126Z"}
{"message":"__ERROR__ invalid request","stack":"BadRequestError: __ERROR__ invalid request\n    at Object.<anonymous>.videoClipRouter.post (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/route/video-clip-router.js:18:92)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Immediate._onImmediate (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/multer/lib/make-middleware.js:53:37)\n    at runCallback (timers.js:804:20)\n    at tryOnImmediate (timers.js:762:5)\n    at processImmediate [as _immediateCallback] (timers.js:733:5)","name":"BadRequestError","level":"error","timestamp":"2017-12-22T03:41:05.307Z"}
{"level":"error","message":"Message: __ERROR__ invalid request. Responding with a 400 status.","timestamp":"2017-12-22T03:41:05.307Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T03:41:05.333Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:26:40)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"error","timestamp":"2017-12-22T03:41:05.334Z"}
{"level":"error","message":"Unauthorized access. Responding with a 401 status.","timestamp":"2017-12-22T03:41:05.335Z"}
{"level":"info","message":"Handling a GET request at endpoint /video-clips/5a3c7ed19fad972f0a218da7.","timestamp":"2017-12-22T03:41:05.363Z"}
{"level":"info","message":"Handling a GET request at endpoint /video-clips/bad-id.","timestamp":"2017-12-22T03:41:05.389Z"}
{"message":"Cast to ObjectId failed for value \"bad-id\" at path \"_id\" for model \"videoClip\"","stack":"CastError: Cast to ObjectId failed for value \"bad-id\" at path \"_id\" for model \"videoClip\"\n    at new CastError (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/kareem/index.js:250:8\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"bad-id\"","kind":"ObjectId","value":"bad-id","path":"_id","level":"error","timestamp":"2017-12-22T03:41:05.391Z"}
{"level":"error","message":"Invalid id. Responding with a 404 status.","timestamp":"2017-12-22T03:41:05.391Z"}
{"level":"info","message":"Server successfully shut down.","timestamp":"2017-12-22T03:41:05.393Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-22T03:46:20.278Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T03:46:20.397Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T03:46:20.646Z"}
{"message":"__ERROR__ invalid request","stack":"BadRequestError: __ERROR__ invalid request\n    at Object.<anonymous>.videoClipRouter.post (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/route/video-clip-router.js:18:92)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Immediate._onImmediate (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/multer/lib/make-middleware.js:53:37)\n    at runCallback (timers.js:804:20)\n    at tryOnImmediate (timers.js:762:5)\n    at processImmediate [as _immediateCallback] (timers.js:733:5)","name":"BadRequestError","level":"error","timestamp":"2017-12-22T03:46:20.818Z"}
{"level":"error","message":"Message: __ERROR__ invalid request. Responding with a 400 status.","timestamp":"2017-12-22T03:46:20.818Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T03:46:20.843Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:26:40)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"error","timestamp":"2017-12-22T03:46:20.844Z"}
{"level":"error","message":"Unauthorized access. Responding with a 401 status.","timestamp":"2017-12-22T03:46:20.845Z"}
{"level":"info","message":"Handling a GET request at endpoint /video-clips/5a3c800c7855d93029cca450.","timestamp":"2017-12-22T03:46:20.871Z"}
{"level":"info","message":"Handling a GET request at endpoint /video-clips/bad-id.","timestamp":"2017-12-22T03:46:20.898Z"}
{"message":"Cast to ObjectId failed for value \"bad-id\" at path \"_id\" for model \"videoClip\"","stack":"CastError: Cast to ObjectId failed for value \"bad-id\" at path \"_id\" for model \"videoClip\"\n    at new CastError (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/kareem/index.js:250:8\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"bad-id\"","kind":"ObjectId","value":"bad-id","path":"_id","level":"error","timestamp":"2017-12-22T03:46:20.900Z"}
{"level":"error","message":"Invalid id. Responding with a 404 status.","timestamp":"2017-12-22T03:46:20.901Z"}
{"level":"info","message":"Handling a GET request at endpoint /video-clips/5a3c800c7855d93029cca454.","timestamp":"2017-12-22T03:46:20.923Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:26:40)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"error","timestamp":"2017-12-22T03:46:20.923Z"}
{"level":"error","message":"Unauthorized access. Responding with a 401 status.","timestamp":"2017-12-22T03:46:20.924Z"}
{"level":"info","message":"Server successfully shut down.","timestamp":"2017-12-22T03:46:20.926Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-22T04:05:26.354Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T04:05:26.476Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T04:05:26.722Z"}
{"message":"__ERROR__ invalid request","stack":"BadRequestError: __ERROR__ invalid request\n    at Object.<anonymous>.videoClipRouter.post (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/route/video-clip-router.js:18:92)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Immediate._onImmediate (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/multer/lib/make-middleware.js:53:37)\n    at runCallback (timers.js:804:20)\n    at tryOnImmediate (timers.js:762:5)\n    at processImmediate [as _immediateCallback] (timers.js:733:5)","name":"BadRequestError","level":"error","timestamp":"2017-12-22T04:05:26.906Z"}
{"level":"error","message":"Message: __ERROR__ invalid request. Responding with a 400 status.","timestamp":"2017-12-22T04:05:26.907Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T04:05:26.931Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:26:40)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"error","timestamp":"2017-12-22T04:05:26.932Z"}
{"level":"error","message":"Unauthorized access. Responding with a 401 status.","timestamp":"2017-12-22T04:05:26.934Z"}
{"level":"info","message":"Handling a GET request at endpoint /video-clips/5a3c8486a318f233963b554d.","timestamp":"2017-12-22T04:05:26.962Z"}
{"level":"info","message":"Handling a GET request at endpoint /video-clips/bad-id.","timestamp":"2017-12-22T04:05:26.989Z"}
{"message":"Cast to ObjectId failed for value \"bad-id\" at path \"_id\" for model \"videoClip\"","stack":"CastError: Cast to ObjectId failed for value \"bad-id\" at path \"_id\" for model \"videoClip\"\n    at new CastError (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/kareem/index.js:250:8\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"bad-id\"","kind":"ObjectId","value":"bad-id","path":"_id","level":"error","timestamp":"2017-12-22T04:05:26.991Z"}
{"level":"error","message":"Invalid id. Responding with a 404 status.","timestamp":"2017-12-22T04:05:26.992Z"}
{"level":"info","message":"Handling a GET request at endpoint /video-clips/5a3c8487a318f233963b5551.","timestamp":"2017-12-22T04:05:27.014Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:26:40)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"error","timestamp":"2017-12-22T04:05:27.014Z"}
{"level":"error","message":"Unauthorized access. Responding with a 401 status.","timestamp":"2017-12-22T04:05:27.015Z"}
{"level":"info","message":"Handling a DELETE request at endpoint /video-clips/5a3c8487a318f233963b5553.","timestamp":"2017-12-22T04:05:27.037Z"}
{"level":"error","message":"Bad endpoint with a DELETE request. Sending a 404 status.","timestamp":"2017-12-22T04:05:27.037Z"}
{"level":"info","message":"Server successfully shut down.","timestamp":"2017-12-22T04:05:27.039Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-22T04:05:27.249Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-22T04:05:27.278Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-22T04:05:27.317Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:19:90)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-22T04:05:27.318Z"}
{"level":"error","message":"Message: __ERROR__ authorization header required. Responding with a 400 status.","timestamp":"2017-12-22T04:05:27.319Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-22T04:05:27.342Z"}
{"message":"__ERROR__ Auth token required","stack":"BadRequestError: __ERROR__ Auth token required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:24:90)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-22T04:05:27.342Z"}
{"level":"error","message":"Message: __ERROR__ Auth token required. Responding with a 400 status.","timestamp":"2017-12-22T04:05:27.343Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-22T04:05:27.367Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:26:40)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"error","timestamp":"2017-12-22T04:05:27.368Z"}
{"level":"error","message":"Unauthorized access. Responding with a 401 status.","timestamp":"2017-12-22T04:05:27.368Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-22T04:05:27.390Z"}
{"message":"__ERROR__ not found","stack":"NotFoundError: __ERROR__ not found\n    at promisify.then.then.account (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:32:86)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","name":"NotFoundError","level":"error","timestamp":"2017-12-22T04:05:27.391Z"}
{"level":"error","message":"Message: __ERROR__ not found. Responding with a 404 status.","timestamp":"2017-12-22T04:05:27.391Z"}
{"level":"info","message":"Handling a GET request at endpoint /movies/5a3c84874d1182339645abb5.","timestamp":"2017-12-22T04:05:27.416Z"}
{"level":"info","message":"Handling a GET request at endpoint /movies/123123123.","timestamp":"2017-12-22T04:05:27.441Z"}
{"message":"Cast to ObjectId failed for value \"123123123\" at path \"_id\" for model \"movie\"","stack":"CastError: Cast to ObjectId failed for value \"123123123\" at path \"_id\" for model \"movie\"\n    at new CastError (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/kareem/index.js:250:8\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"123123123\"","kind":"ObjectId","value":"123123123","path":"_id","level":"error","timestamp":"2017-12-22T04:05:27.443Z"}
{"level":"error","message":"Invalid id. Responding with a 404 status.","timestamp":"2017-12-22T04:05:27.444Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-22T04:05:27.464Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:26:40)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"error","timestamp":"2017-12-22T04:05:27.464Z"}
{"level":"error","message":"Unauthorized access. Responding with a 401 status.","timestamp":"2017-12-22T04:05:27.465Z"}
{"level":"info","message":"Server successfully shut down.","timestamp":"2017-12-22T04:05:27.466Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-22T04:05:27.648Z"}
{"level":"info","message":"Handling a POST request at endpoint /signup.","timestamp":"2017-12-22T04:05:27.654Z"}
{"level":"info","message":"Handling a POST request at endpoint /signup.","timestamp":"2017-12-22T04:05:27.679Z"}
{"message":"__ERROR__ username, email & password required to sign up.","stack":"BadRequestError: __ERROR__ username, email & password required to sign up.\n    at Object.<anonymous>.authRouter.post (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/route/auth-router.js:13:91)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/raw-body/index.js:224:16)\n    at done (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/raw-body/index.js:273:7)\n    at IncomingMessage.emit (events.js:159:13)\n    at endReadableNT (_stream_readable.js:1054:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"BadRequestError","level":"error","timestamp":"2017-12-22T04:05:27.679Z"}
{"level":"error","message":"Message: __ERROR__ username, email & password required to sign up.. Responding with a 400 status.","timestamp":"2017-12-22T04:05:27.680Z"}
{"level":"info","message":"Handling a POST request at endpoint /signup.","timestamp":"2017-12-22T04:05:27.704Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: username_1 dup key: { : \"Margarette.Gerhold\" }","op":{"username":"Margarette.Gerhold","email":"new@email.com","passwordHash":"$2a$08$ozHRkW.wTGtrm/2lGyp1R.qTEw1wgiNGIpTjmNKLuqCKmWPD8mE9G","tokenSeed":"d86d4a73c94a67e7ed68803ec630f9d517dc61c8766629f0add7cc41cca0a15f21c1fd9094f235f063a1ba8d97ed3a259bf38c2462fff7cf9336c6847546b988","_id":"5a3c8487b72bb93396399b82","created":"2017-12-22T04:05:27.721Z","__v":0}}
{"level":"error","message":"Duplicate key found. Responding with a 409 status.","timestamp":"2017-12-22T04:05:27.723Z"}
{"level":"info","message":"Handling a POST request at endpoint /signup.","timestamp":"2017-12-22T04:05:27.745Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"Dandre.Senger33@gmail.com\" }","op":{"username":"myName","email":"Dandre.Senger33@gmail.com","passwordHash":"$2a$08$8VC8MeJXtXfHXeoPG2HMmeqTvaH4RCSsHlXaF7JKevS98sEavdvdC","tokenSeed":"70b8c911dce9fd031c09400a47f3234c5a44d7e55eed706f086fe5de657bf6cc7536136b1ee3b04d11dc708ecf59ff57427021cbefbaac821b4f2575339f4753","_id":"5a3c8487b72bb93396399b84","created":"2017-12-22T04:05:27.761Z","__v":0}}
{"level":"error","message":"Duplicate key found. Responding with a 409 status.","timestamp":"2017-12-22T04:05:27.762Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-22T04:05:27.783Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-22T04:05:27.820Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/basic-auth-middleware.js:8:89)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-22T04:05:27.820Z"}
{"level":"error","message":"Message: __ERROR__ authorization header required. Responding with a 400 status.","timestamp":"2017-12-22T04:05:27.821Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-22T04:05:27.846Z"}
{"message":"__ERROR__ Basic authorization required","stack":"BadRequestError: __ERROR__ Basic authorization required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/basic-auth-middleware.js:13:89)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-22T04:05:27.846Z"}
{"level":"error","message":"Message: __ERROR__ Basic authorization required. Responding with a 400 status.","timestamp":"2017-12-22T04:05:27.847Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-22T04:05:27.868Z"}
{"message":"__ERROR__ username and password required","stack":"BadRequestError: __ERROR__ username and password required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/basic-auth-middleware.js:20:90)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-22T04:05:27.868Z"}
{"level":"error","message":"Message: __ERROR__ username and password required. Responding with a 400 status.","timestamp":"2017-12-22T04:05:27.868Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-22T04:05:27.888Z"}
{"message":"__ERROR__ not found","stack":"NotFoundError: __ERROR__ not found\n    at Account.findOne.then.account (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/basic-auth-middleware.js:25:86)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","name":"NotFoundError","level":"error","timestamp":"2017-12-22T04:05:27.889Z"}
{"level":"error","message":"Message: __ERROR__ not found. Responding with a 404 status.","timestamp":"2017-12-22T04:05:27.889Z"}
{"level":"info","message":"Server successfully shut down.","timestamp":"2017-12-22T04:05:27.890Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-22T04:11:15.902Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T04:11:16.026Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T04:11:16.272Z"}
{"message":"__ERROR__ invalid request","stack":"BadRequestError: __ERROR__ invalid request\n    at Object.<anonymous>.videoClipRouter.post (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/route/video-clip-router.js:18:92)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Immediate._onImmediate (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/multer/lib/make-middleware.js:53:37)\n    at runCallback (timers.js:804:20)\n    at tryOnImmediate (timers.js:762:5)\n    at processImmediate [as _immediateCallback] (timers.js:733:5)","name":"BadRequestError","level":"error","timestamp":"2017-12-22T04:11:16.444Z"}
{"level":"error","message":"Message: __ERROR__ invalid request. Responding with a 400 status.","timestamp":"2017-12-22T04:11:16.445Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T04:11:16.470Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:26:40)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"error","timestamp":"2017-12-22T04:11:16.471Z"}
{"level":"error","message":"Unauthorized access. Responding with a 401 status.","timestamp":"2017-12-22T04:11:16.473Z"}
{"level":"info","message":"Handling a GET request at endpoint /video-clips/5a3c85e4bf76f034c53f7e36.","timestamp":"2017-12-22T04:11:16.503Z"}
{"level":"info","message":"Handling a GET request at endpoint /video-clips/bad-id.","timestamp":"2017-12-22T04:11:16.531Z"}
{"message":"Cast to ObjectId failed for value \"bad-id\" at path \"_id\" for model \"videoClip\"","stack":"CastError: Cast to ObjectId failed for value \"bad-id\" at path \"_id\" for model \"videoClip\"\n    at new CastError (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/kareem/index.js:250:8\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"bad-id\"","kind":"ObjectId","value":"bad-id","path":"_id","level":"error","timestamp":"2017-12-22T04:11:16.534Z"}
{"level":"error","message":"Invalid id. Responding with a 404 status.","timestamp":"2017-12-22T04:11:16.534Z"}
{"level":"info","message":"Handling a GET request at endpoint /video-clips/5a3c85e4bf76f034c53f7e3a.","timestamp":"2017-12-22T04:11:16.557Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:26:40)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"error","timestamp":"2017-12-22T04:11:16.557Z"}
{"level":"error","message":"Unauthorized access. Responding with a 401 status.","timestamp":"2017-12-22T04:11:16.558Z"}
{"level":"info","message":"Handling a DELETE request at endpoint /video-clips/5a3c85e4bf76f034c53f7e3c.","timestamp":"2017-12-22T04:11:16.581Z"}
{"level":"info","message":"Server successfully shut down.","timestamp":"2017-12-22T04:11:16.592Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-22T04:11:16.804Z"}
{"level":"info","message":"Handling a POST request at endpoint /signup.","timestamp":"2017-12-22T04:11:16.811Z"}
{"level":"info","message":"Handling a POST request at endpoint /signup.","timestamp":"2017-12-22T04:11:16.847Z"}
{"message":"__ERROR__ username, email & password required to sign up.","stack":"BadRequestError: __ERROR__ username, email & password required to sign up.\n    at Object.<anonymous>.authRouter.post (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/route/auth-router.js:13:91)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/raw-body/index.js:224:16)\n    at done (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/raw-body/index.js:273:7)\n    at IncomingMessage.emit (events.js:159:13)\n    at endReadableNT (_stream_readable.js:1054:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"BadRequestError","level":"error","timestamp":"2017-12-22T04:11:16.847Z"}
{"level":"error","message":"Message: __ERROR__ username, email & password required to sign up.. Responding with a 400 status.","timestamp":"2017-12-22T04:11:16.848Z"}
{"level":"info","message":"Handling a POST request at endpoint /signup.","timestamp":"2017-12-22T04:11:16.873Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: username_1 dup key: { : \"Justus.Bernier96\" }","op":{"username":"Justus.Bernier96","email":"new@email.com","passwordHash":"$2a$08$L/ixTaHUqNO7Hu9BRvAHMuF.zVevXVCGuJmMKYgf.15jD8.TJoa0C","tokenSeed":"d8e30b2c7548de8991a09d3aa8c0153955378ed3a2eae280db1fd36bbdc190b61267d6ebed613c33b28a7086ee6b62c5e28f95dc4895c038ba11cfb0a9402a0b","_id":"5a3c85e41d9a1634c52ee286","created":"2017-12-22T04:11:16.890Z","__v":0}}
{"level":"error","message":"Duplicate key found. Responding with a 409 status.","timestamp":"2017-12-22T04:11:16.892Z"}
{"level":"info","message":"Handling a POST request at endpoint /signup.","timestamp":"2017-12-22T04:11:16.914Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"Rebeca_Sauer74@yahoo.com\" }","op":{"username":"myName","email":"Rebeca_Sauer74@yahoo.com","passwordHash":"$2a$08$QHw9ni1TrZH1CP4pg.TWAOzgtTSYcX/6zNh0bKm13Ne8pWFhNtzcq","tokenSeed":"bfc332361c312c21e896149e7740d2b07aad45ddb18ca6eb4317da16471d2187a459ed80af93b9bcd9ba3fff682cbbad12ed1c9682d4937a7ad23794c5a48e40","_id":"5a3c85e41d9a1634c52ee288","created":"2017-12-22T04:11:16.930Z","__v":0}}
{"level":"error","message":"Duplicate key found. Responding with a 409 status.","timestamp":"2017-12-22T04:11:16.931Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-22T04:11:16.953Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-22T04:11:16.998Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/basic-auth-middleware.js:8:89)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-22T04:11:16.998Z"}
{"level":"error","message":"Message: __ERROR__ authorization header required. Responding with a 400 status.","timestamp":"2017-12-22T04:11:16.999Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-22T04:11:17.021Z"}
{"message":"__ERROR__ Basic authorization required","stack":"BadRequestError: __ERROR__ Basic authorization required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/basic-auth-middleware.js:13:89)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-22T04:11:17.021Z"}
{"level":"error","message":"Message: __ERROR__ Basic authorization required. Responding with a 400 status.","timestamp":"2017-12-22T04:11:17.022Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-22T04:11:17.043Z"}
{"message":"__ERROR__ username and password required","stack":"BadRequestError: __ERROR__ username and password required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/basic-auth-middleware.js:20:90)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-22T04:11:17.043Z"}
{"level":"error","message":"Message: __ERROR__ username and password required. Responding with a 400 status.","timestamp":"2017-12-22T04:11:17.043Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-22T04:11:17.065Z"}
{"message":"__ERROR__ not found","stack":"NotFoundError: __ERROR__ not found\n    at Account.findOne.then.account (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/basic-auth-middleware.js:25:86)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","name":"NotFoundError","level":"error","timestamp":"2017-12-22T04:11:17.066Z"}
{"level":"error","message":"Message: __ERROR__ not found. Responding with a 404 status.","timestamp":"2017-12-22T04:11:17.066Z"}
{"level":"info","message":"Server successfully shut down.","timestamp":"2017-12-22T04:11:17.067Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-22T04:11:17.253Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-22T04:11:17.281Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-22T04:11:17.309Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:19:90)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-22T04:11:17.309Z"}
{"level":"error","message":"Message: __ERROR__ authorization header required. Responding with a 400 status.","timestamp":"2017-12-22T04:11:17.311Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-22T04:11:17.334Z"}
{"message":"__ERROR__ Auth token required","stack":"BadRequestError: __ERROR__ Auth token required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:24:90)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-22T04:11:17.334Z"}
{"level":"error","message":"Message: __ERROR__ Auth token required. Responding with a 400 status.","timestamp":"2017-12-22T04:11:17.335Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-22T04:11:17.357Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:26:40)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"error","timestamp":"2017-12-22T04:11:17.357Z"}
{"level":"error","message":"Unauthorized access. Responding with a 401 status.","timestamp":"2017-12-22T04:11:17.358Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-22T04:11:17.379Z"}
{"message":"__ERROR__ not found","stack":"NotFoundError: __ERROR__ not found\n    at promisify.then.then.account (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:32:86)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","name":"NotFoundError","level":"error","timestamp":"2017-12-22T04:11:17.380Z"}
{"level":"error","message":"Message: __ERROR__ not found. Responding with a 404 status.","timestamp":"2017-12-22T04:11:17.380Z"}
{"level":"info","message":"Handling a GET request at endpoint /movies/5a3c85e5d48b3d34c5f078d0.","timestamp":"2017-12-22T04:11:17.404Z"}
{"level":"info","message":"Handling a GET request at endpoint /movies/123123123.","timestamp":"2017-12-22T04:11:17.435Z"}
{"message":"Cast to ObjectId failed for value \"123123123\" at path \"_id\" for model \"movie\"","stack":"CastError: Cast to ObjectId failed for value \"123123123\" at path \"_id\" for model \"movie\"\n    at new CastError (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/kareem/index.js:250:8\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"123123123\"","kind":"ObjectId","value":"123123123","path":"_id","level":"error","timestamp":"2017-12-22T04:11:17.436Z"}
{"level":"error","message":"Invalid id. Responding with a 404 status.","timestamp":"2017-12-22T04:11:17.437Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-22T04:11:17.460Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:26:40)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"error","timestamp":"2017-12-22T04:11:17.460Z"}
{"level":"error","message":"Unauthorized access. Responding with a 401 status.","timestamp":"2017-12-22T04:11:17.461Z"}
{"level":"info","message":"Server successfully shut down.","timestamp":"2017-12-22T04:11:17.463Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-22T04:11:32.933Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T04:11:33.057Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T04:11:33.300Z"}
{"message":"__ERROR__ invalid request","stack":"BadRequestError: __ERROR__ invalid request\n    at Object.<anonymous>.videoClipRouter.post (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/route/video-clip-router.js:18:92)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Immediate._onImmediate (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/multer/lib/make-middleware.js:53:37)\n    at runCallback (timers.js:804:20)\n    at tryOnImmediate (timers.js:762:5)\n    at processImmediate [as _immediateCallback] (timers.js:733:5)","name":"BadRequestError","level":"error","timestamp":"2017-12-22T04:11:33.473Z"}
{"level":"error","message":"Message: __ERROR__ invalid request. Responding with a 400 status.","timestamp":"2017-12-22T04:11:33.474Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T04:11:33.500Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:26:40)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"error","timestamp":"2017-12-22T04:11:33.501Z"}
{"level":"error","message":"Unauthorized access. Responding with a 401 status.","timestamp":"2017-12-22T04:11:33.503Z"}
{"level":"info","message":"Handling a GET request at endpoint /video-clips/5a3c85f59d286934eeea45cc.","timestamp":"2017-12-22T04:11:33.529Z"}
{"level":"info","message":"Handling a GET request at endpoint /video-clips/bad-id.","timestamp":"2017-12-22T04:11:33.556Z"}
{"message":"Cast to ObjectId failed for value \"bad-id\" at path \"_id\" for model \"videoClip\"","stack":"CastError: Cast to ObjectId failed for value \"bad-id\" at path \"_id\" for model \"videoClip\"\n    at new CastError (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/kareem/index.js:250:8\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"bad-id\"","kind":"ObjectId","value":"bad-id","path":"_id","level":"error","timestamp":"2017-12-22T04:11:33.558Z"}
{"level":"error","message":"Invalid id. Responding with a 404 status.","timestamp":"2017-12-22T04:11:33.559Z"}
{"level":"info","message":"Handling a GET request at endpoint /video-clips/5a3c85f59d286934eeea45d0.","timestamp":"2017-12-22T04:11:33.581Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:26:40)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"error","timestamp":"2017-12-22T04:11:33.581Z"}
{"level":"error","message":"Unauthorized access. Responding with a 401 status.","timestamp":"2017-12-22T04:11:33.582Z"}
{"level":"info","message":"Handling a DELETE request at endpoint /video-clips/5a3c85f59d286934eeea45d2.","timestamp":"2017-12-22T04:11:33.605Z"}
{"level":"info","message":"Server successfully shut down.","timestamp":"2017-12-22T04:11:33.611Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-22T04:11:33.822Z"}
{"level":"info","message":"Handling a POST request at endpoint /signup.","timestamp":"2017-12-22T04:11:33.829Z"}
{"level":"info","message":"Handling a POST request at endpoint /signup.","timestamp":"2017-12-22T04:11:33.866Z"}
{"message":"__ERROR__ username, email & password required to sign up.","stack":"BadRequestError: __ERROR__ username, email & password required to sign up.\n    at Object.<anonymous>.authRouter.post (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/route/auth-router.js:13:91)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/raw-body/index.js:224:16)\n    at done (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/raw-body/index.js:273:7)\n    at IncomingMessage.emit (events.js:159:13)\n    at endReadableNT (_stream_readable.js:1054:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"BadRequestError","level":"error","timestamp":"2017-12-22T04:11:33.866Z"}
{"level":"error","message":"Message: __ERROR__ username, email & password required to sign up.. Responding with a 400 status.","timestamp":"2017-12-22T04:11:33.867Z"}
{"level":"info","message":"Handling a POST request at endpoint /signup.","timestamp":"2017-12-22T04:11:33.893Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: username_1 dup key: { : \"Sabina23\" }","op":{"username":"Sabina23","email":"new@email.com","passwordHash":"$2a$08$zgdZMoe8E19Pf23W5P69feUdiK8qKnZzo/hDPnl.ybPxoYb5iGDnm","tokenSeed":"883e92003098683bad89c8bf48b6aac444dcd1e4559c36dc44fa62c0941aa18c7c9211ce97b3a01583453fb945902ae8a8d306d1a8e372820d0ce7c9660e500f","_id":"5a3c85f57522c334ee97e588","created":"2017-12-22T04:11:33.910Z","__v":0}}
{"level":"error","message":"Duplicate key found. Responding with a 409 status.","timestamp":"2017-12-22T04:11:33.912Z"}
{"level":"info","message":"Handling a POST request at endpoint /signup.","timestamp":"2017-12-22T04:11:33.934Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"Myrtle_Kertzmann13@hotmail.com\" }","op":{"username":"myName","email":"Myrtle_Kertzmann13@hotmail.com","passwordHash":"$2a$08$mjZgKczceiQE70St5cAbauSWvSt7anPJUbsp4dGF36bZicyTsopAW","tokenSeed":"baa1f6e2b8086166aac1d1c10508b6001114eae42039e0c714a001845d4e0e04e233d3a6452333fdee3c43a3596bb098f2917a913184a33b0b547ac11da53f43","_id":"5a3c85f57522c334ee97e58a","created":"2017-12-22T04:11:33.951Z","__v":0}}
{"level":"error","message":"Duplicate key found. Responding with a 409 status.","timestamp":"2017-12-22T04:11:33.952Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-22T04:11:33.974Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-22T04:11:34.018Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/basic-auth-middleware.js:8:89)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-22T04:11:34.018Z"}
{"level":"error","message":"Message: __ERROR__ authorization header required. Responding with a 400 status.","timestamp":"2017-12-22T04:11:34.019Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-22T04:11:34.041Z"}
{"message":"__ERROR__ Basic authorization required","stack":"BadRequestError: __ERROR__ Basic authorization required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/basic-auth-middleware.js:13:89)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-22T04:11:34.041Z"}
{"level":"error","message":"Message: __ERROR__ Basic authorization required. Responding with a 400 status.","timestamp":"2017-12-22T04:11:34.042Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-22T04:11:34.063Z"}
{"message":"__ERROR__ username and password required","stack":"BadRequestError: __ERROR__ username and password required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/basic-auth-middleware.js:20:90)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-22T04:11:34.063Z"}
{"level":"error","message":"Message: __ERROR__ username and password required. Responding with a 400 status.","timestamp":"2017-12-22T04:11:34.064Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-22T04:11:34.084Z"}
{"message":"__ERROR__ not found","stack":"NotFoundError: __ERROR__ not found\n    at Account.findOne.then.account (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/basic-auth-middleware.js:25:86)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","name":"NotFoundError","level":"error","timestamp":"2017-12-22T04:11:34.085Z"}
{"level":"error","message":"Message: __ERROR__ not found. Responding with a 404 status.","timestamp":"2017-12-22T04:11:34.085Z"}
{"level":"info","message":"Server successfully shut down.","timestamp":"2017-12-22T04:11:34.087Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-22T04:11:34.277Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-22T04:11:34.305Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-22T04:11:34.336Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:19:90)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-22T04:11:34.336Z"}
{"level":"error","message":"Message: __ERROR__ authorization header required. Responding with a 400 status.","timestamp":"2017-12-22T04:11:34.337Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-22T04:11:34.362Z"}
{"message":"__ERROR__ Auth token required","stack":"BadRequestError: __ERROR__ Auth token required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:24:90)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-22T04:11:34.362Z"}
{"level":"error","message":"Message: __ERROR__ Auth token required. Responding with a 400 status.","timestamp":"2017-12-22T04:11:34.362Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-22T04:11:34.384Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:26:40)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"error","timestamp":"2017-12-22T04:11:34.385Z"}
{"level":"error","message":"Unauthorized access. Responding with a 401 status.","timestamp":"2017-12-22T04:11:34.386Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-22T04:11:34.408Z"}
{"message":"__ERROR__ not found","stack":"NotFoundError: __ERROR__ not found\n    at promisify.then.then.account (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:32:86)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","name":"NotFoundError","level":"error","timestamp":"2017-12-22T04:11:34.409Z"}
{"level":"error","message":"Message: __ERROR__ not found. Responding with a 404 status.","timestamp":"2017-12-22T04:11:34.409Z"}
{"level":"info","message":"Handling a GET request at endpoint /movies/5a3c85f68b2bee34ee9e760a.","timestamp":"2017-12-22T04:11:34.439Z"}
{"level":"info","message":"Handling a GET request at endpoint /movies/123123123.","timestamp":"2017-12-22T04:11:34.466Z"}
{"message":"Cast to ObjectId failed for value \"123123123\" at path \"_id\" for model \"movie\"","stack":"CastError: Cast to ObjectId failed for value \"123123123\" at path \"_id\" for model \"movie\"\n    at new CastError (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/kareem/index.js:250:8\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"123123123\"","kind":"ObjectId","value":"123123123","path":"_id","level":"error","timestamp":"2017-12-22T04:11:34.467Z"}
{"level":"error","message":"Invalid id. Responding with a 404 status.","timestamp":"2017-12-22T04:11:34.468Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-22T04:11:34.489Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:26:40)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"error","timestamp":"2017-12-22T04:11:34.490Z"}
{"level":"error","message":"Unauthorized access. Responding with a 401 status.","timestamp":"2017-12-22T04:11:34.490Z"}
{"level":"info","message":"Server successfully shut down.","timestamp":"2017-12-22T04:11:34.492Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-22T04:13:51.376Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T04:13:51.496Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T04:13:51.756Z"}
{"message":"__ERROR__ invalid request","stack":"BadRequestError: __ERROR__ invalid request\n    at Object.<anonymous>.videoClipRouter.post (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/route/video-clip-router.js:18:92)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Immediate._onImmediate (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/multer/lib/make-middleware.js:53:37)\n    at runCallback (timers.js:804:20)\n    at tryOnImmediate (timers.js:762:5)\n    at processImmediate [as _immediateCallback] (timers.js:733:5)","name":"BadRequestError","level":"error","timestamp":"2017-12-22T04:13:51.939Z"}
{"level":"error","message":"Message: __ERROR__ invalid request. Responding with a 400 status.","timestamp":"2017-12-22T04:13:51.939Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T04:13:51.964Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:26:40)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"error","timestamp":"2017-12-22T04:13:51.965Z"}
{"level":"error","message":"Unauthorized access. Responding with a 401 status.","timestamp":"2017-12-22T04:13:51.966Z"}
{"level":"info","message":"Handling a GET request at endpoint /video-clips/5a3c867fc5125c359bb51082.","timestamp":"2017-12-22T04:13:51.992Z"}
{"level":"info","message":"Handling a GET request at endpoint /video-clips/bad-id.","timestamp":"2017-12-22T04:13:52.018Z"}
{"message":"Cast to ObjectId failed for value \"bad-id\" at path \"_id\" for model \"videoClip\"","stack":"CastError: Cast to ObjectId failed for value \"bad-id\" at path \"_id\" for model \"videoClip\"\n    at new CastError (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/kareem/index.js:250:8\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"bad-id\"","kind":"ObjectId","value":"bad-id","path":"_id","level":"error","timestamp":"2017-12-22T04:13:52.021Z"}
{"level":"error","message":"Invalid id. Responding with a 404 status.","timestamp":"2017-12-22T04:13:52.022Z"}
{"level":"info","message":"Handling a GET request at endpoint /video-clips/5a3c8680c5125c359bb51086.","timestamp":"2017-12-22T04:13:52.044Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:26:40)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"error","timestamp":"2017-12-22T04:13:52.045Z"}
{"level":"error","message":"Unauthorized access. Responding with a 401 status.","timestamp":"2017-12-22T04:13:52.045Z"}
{"level":"info","message":"Handling a DELETE request at endpoint /video-clips/5a3c8680c5125c359bb51088.","timestamp":"2017-12-22T04:13:52.069Z"}
{"level":"info","message":"Handling a DELETE request at endpoint /video-clips/bad-id.","timestamp":"2017-12-22T04:13:52.097Z"}
{"message":"Cast to ObjectId failed for value \"bad-id\" at path \"_id\" for model \"videoClip\"","stack":"CastError: Cast to ObjectId failed for value \"bad-id\" at path \"_id\" for model \"videoClip\"\n    at new CastError (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOneAndRemove (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:2248:8)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/kareem/index.js:250:8\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"bad-id\"","kind":"ObjectId","value":"bad-id","path":"_id","level":"error","timestamp":"2017-12-22T04:13:52.098Z"}
{"level":"error","message":"Invalid id. Responding with a 404 status.","timestamp":"2017-12-22T04:13:52.098Z"}
{"level":"info","message":"Server successfully shut down.","timestamp":"2017-12-22T04:13:52.100Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-22T04:13:52.304Z"}
{"level":"info","message":"Handling a POST request at endpoint /signup.","timestamp":"2017-12-22T04:13:52.311Z"}
{"level":"info","message":"Handling a POST request at endpoint /signup.","timestamp":"2017-12-22T04:13:52.345Z"}
{"message":"__ERROR__ username, email & password required to sign up.","stack":"BadRequestError: __ERROR__ username, email & password required to sign up.\n    at Object.<anonymous>.authRouter.post (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/route/auth-router.js:13:91)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/raw-body/index.js:224:16)\n    at done (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/raw-body/index.js:273:7)\n    at IncomingMessage.emit (events.js:159:13)\n    at endReadableNT (_stream_readable.js:1054:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"BadRequestError","level":"error","timestamp":"2017-12-22T04:13:52.345Z"}
{"level":"error","message":"Message: __ERROR__ username, email & password required to sign up.. Responding with a 400 status.","timestamp":"2017-12-22T04:13:52.346Z"}
{"level":"info","message":"Handling a POST request at endpoint /signup.","timestamp":"2017-12-22T04:13:52.371Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: username_1 dup key: { : \"Percival.Robel84\" }","op":{"username":"Percival.Robel84","email":"new@email.com","passwordHash":"$2a$08$oPYhq3An2Y8k1ENI5deueOVve6fi3WpO92/uNHrhLLT0eZWer9yxy","tokenSeed":"722b2f891c2b257f6c73301f07279e78ed806f7a42e4ccda1752851efa0ae5bd13d5e8849035ad73564c61d9bb1a0c45c1f6b01dcb438ddb6fe50c0d61e5907a","_id":"5a3c868053a102359b2ac7bb","created":"2017-12-22T04:13:52.388Z","__v":0}}
{"level":"error","message":"Duplicate key found. Responding with a 409 status.","timestamp":"2017-12-22T04:13:52.390Z"}
{"level":"info","message":"Handling a POST request at endpoint /signup.","timestamp":"2017-12-22T04:13:52.415Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"Dariana78@yahoo.com\" }","op":{"username":"myName","email":"Dariana78@yahoo.com","passwordHash":"$2a$08$b4iTphKh1yPCwnWtSgFUw.BXa4opn15UrrEQcThqZc9aGabyZEzRG","tokenSeed":"6210a23376f595207ee07fa85ff06a404298d4a7bf2e2b9dfbf8afb427c7b5214e690b2c321f9dc6f703a6af91c32e76df5d398b1ac32a7dc07d3555c569367f","_id":"5a3c868053a102359b2ac7bd","created":"2017-12-22T04:13:52.431Z","__v":0}}
{"level":"error","message":"Duplicate key found. Responding with a 409 status.","timestamp":"2017-12-22T04:13:52.432Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-22T04:13:52.457Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-22T04:13:52.498Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/basic-auth-middleware.js:8:89)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-22T04:13:52.499Z"}
{"level":"error","message":"Message: __ERROR__ authorization header required. Responding with a 400 status.","timestamp":"2017-12-22T04:13:52.500Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-22T04:13:52.521Z"}
{"message":"__ERROR__ Basic authorization required","stack":"BadRequestError: __ERROR__ Basic authorization required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/basic-auth-middleware.js:13:89)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-22T04:13:52.521Z"}
{"level":"error","message":"Message: __ERROR__ Basic authorization required. Responding with a 400 status.","timestamp":"2017-12-22T04:13:52.522Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-22T04:13:52.544Z"}
{"message":"__ERROR__ username and password required","stack":"BadRequestError: __ERROR__ username and password required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/basic-auth-middleware.js:20:90)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-22T04:13:52.544Z"}
{"level":"error","message":"Message: __ERROR__ username and password required. Responding with a 400 status.","timestamp":"2017-12-22T04:13:52.544Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-22T04:13:52.566Z"}
{"message":"__ERROR__ not found","stack":"NotFoundError: __ERROR__ not found\n    at Account.findOne.then.account (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/basic-auth-middleware.js:25:86)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","name":"NotFoundError","level":"error","timestamp":"2017-12-22T04:13:52.566Z"}
{"level":"error","message":"Message: __ERROR__ not found. Responding with a 404 status.","timestamp":"2017-12-22T04:13:52.567Z"}
{"level":"info","message":"Server successfully shut down.","timestamp":"2017-12-22T04:13:52.568Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-22T04:13:52.757Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-22T04:13:52.785Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-22T04:13:52.816Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:19:90)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-22T04:13:52.816Z"}
{"level":"error","message":"Message: __ERROR__ authorization header required. Responding with a 400 status.","timestamp":"2017-12-22T04:13:52.818Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-22T04:13:52.840Z"}
{"message":"__ERROR__ Auth token required","stack":"BadRequestError: __ERROR__ Auth token required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:24:90)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-22T04:13:52.840Z"}
{"level":"error","message":"Message: __ERROR__ Auth token required. Responding with a 400 status.","timestamp":"2017-12-22T04:13:52.841Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-22T04:13:52.865Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:26:40)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"error","timestamp":"2017-12-22T04:13:52.865Z"}
{"level":"error","message":"Unauthorized access. Responding with a 401 status.","timestamp":"2017-12-22T04:13:52.865Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-22T04:13:52.886Z"}
{"message":"__ERROR__ not found","stack":"NotFoundError: __ERROR__ not found\n    at promisify.then.then.account (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:32:86)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","name":"NotFoundError","level":"error","timestamp":"2017-12-22T04:13:52.887Z"}
{"level":"error","message":"Message: __ERROR__ not found. Responding with a 404 status.","timestamp":"2017-12-22T04:13:52.888Z"}
{"level":"info","message":"Handling a GET request at endpoint /movies/5a3c8680aa8758359b95baa5.","timestamp":"2017-12-22T04:13:52.916Z"}
{"level":"info","message":"Handling a GET request at endpoint /movies/123123123.","timestamp":"2017-12-22T04:13:52.941Z"}
{"message":"Cast to ObjectId failed for value \"123123123\" at path \"_id\" for model \"movie\"","stack":"CastError: Cast to ObjectId failed for value \"123123123\" at path \"_id\" for model \"movie\"\n    at new CastError (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/kareem/index.js:250:8\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"123123123\"","kind":"ObjectId","value":"123123123","path":"_id","level":"error","timestamp":"2017-12-22T04:13:52.943Z"}
{"level":"error","message":"Invalid id. Responding with a 404 status.","timestamp":"2017-12-22T04:13:52.943Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-22T04:13:52.965Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:26:40)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"error","timestamp":"2017-12-22T04:13:52.965Z"}
{"level":"error","message":"Unauthorized access. Responding with a 401 status.","timestamp":"2017-12-22T04:13:52.965Z"}
{"level":"info","message":"Server successfully shut down.","timestamp":"2017-12-22T04:13:52.967Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-22T04:14:44.865Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T04:14:44.988Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T04:14:45.238Z"}
{"message":"__ERROR__ invalid request","stack":"BadRequestError: __ERROR__ invalid request\n    at Object.<anonymous>.videoClipRouter.post (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/route/video-clip-router.js:18:92)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Immediate._onImmediate (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/multer/lib/make-middleware.js:53:37)\n    at runCallback (timers.js:804:20)\n    at tryOnImmediate (timers.js:762:5)\n    at processImmediate [as _immediateCallback] (timers.js:733:5)","name":"BadRequestError","level":"error","timestamp":"2017-12-22T04:14:45.403Z"}
{"level":"error","message":"Message: __ERROR__ invalid request. Responding with a 400 status.","timestamp":"2017-12-22T04:14:45.403Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T04:14:45.431Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:26:40)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"error","timestamp":"2017-12-22T04:14:45.431Z"}
{"level":"error","message":"Unauthorized access. Responding with a 401 status.","timestamp":"2017-12-22T04:14:45.433Z"}
{"level":"info","message":"Handling a GET request at endpoint /video-clips/5a3c86b572f3f935f2a079a7.","timestamp":"2017-12-22T04:14:45.460Z"}
{"level":"info","message":"Handling a GET request at endpoint /video-clips/bad-id.","timestamp":"2017-12-22T04:14:45.485Z"}
{"message":"Cast to ObjectId failed for value \"bad-id\" at path \"_id\" for model \"videoClip\"","stack":"CastError: Cast to ObjectId failed for value \"bad-id\" at path \"_id\" for model \"videoClip\"\n    at new CastError (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/kareem/index.js:250:8\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"bad-id\"","kind":"ObjectId","value":"bad-id","path":"_id","level":"error","timestamp":"2017-12-22T04:14:45.488Z"}
{"level":"error","message":"Invalid id. Responding with a 404 status.","timestamp":"2017-12-22T04:14:45.489Z"}
{"level":"info","message":"Handling a GET request at endpoint /video-clips/5a3c86b572f3f935f2a079ab.","timestamp":"2017-12-22T04:14:45.511Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:26:40)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"error","timestamp":"2017-12-22T04:14:45.511Z"}
{"level":"error","message":"Unauthorized access. Responding with a 401 status.","timestamp":"2017-12-22T04:14:45.512Z"}
{"level":"info","message":"Handling a DELETE request at endpoint /video-clips/5a3c86b572f3f935f2a079ad.","timestamp":"2017-12-22T04:14:45.536Z"}
{"level":"info","message":"Handling a DELETE request at endpoint /video-clips/bad-id.","timestamp":"2017-12-22T04:14:45.564Z"}
{"message":"Cast to ObjectId failed for value \"bad-id\" at path \"_id\" for model \"videoClip\"","stack":"CastError: Cast to ObjectId failed for value \"bad-id\" at path \"_id\" for model \"videoClip\"\n    at new CastError (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOneAndRemove (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:2248:8)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/kareem/index.js:250:8\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"bad-id\"","kind":"ObjectId","value":"bad-id","path":"_id","level":"error","timestamp":"2017-12-22T04:14:45.565Z"}
{"level":"error","message":"Invalid id. Responding with a 404 status.","timestamp":"2017-12-22T04:14:45.565Z"}
{"level":"info","message":"Handling a DELETE request at endpoint /video-clips/5a3c86b572f3f935f2a079b1.","timestamp":"2017-12-22T04:14:45.587Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:26:40)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"error","timestamp":"2017-12-22T04:14:45.588Z"}
{"level":"error","message":"Unauthorized access. Responding with a 401 status.","timestamp":"2017-12-22T04:14:45.588Z"}
{"level":"info","message":"Server successfully shut down.","timestamp":"2017-12-22T04:14:45.590Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-22T04:14:45.808Z"}
{"level":"info","message":"Handling a POST request at endpoint /signup.","timestamp":"2017-12-22T04:14:45.815Z"}
{"level":"info","message":"Handling a POST request at endpoint /signup.","timestamp":"2017-12-22T04:14:45.852Z"}
{"message":"__ERROR__ username, email & password required to sign up.","stack":"BadRequestError: __ERROR__ username, email & password required to sign up.\n    at Object.<anonymous>.authRouter.post (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/route/auth-router.js:13:91)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/raw-body/index.js:224:16)\n    at done (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/raw-body/index.js:273:7)\n    at IncomingMessage.emit (events.js:159:13)\n    at endReadableNT (_stream_readable.js:1054:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"BadRequestError","level":"error","timestamp":"2017-12-22T04:14:45.853Z"}
{"level":"error","message":"Message: __ERROR__ username, email & password required to sign up.. Responding with a 400 status.","timestamp":"2017-12-22T04:14:45.854Z"}
{"level":"info","message":"Handling a POST request at endpoint /signup.","timestamp":"2017-12-22T04:14:45.878Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: username_1 dup key: { : \"Hortense.Kerluke\" }","op":{"username":"Hortense.Kerluke","email":"new@email.com","passwordHash":"$2a$08$xYASyurQ5T8Ya1gdrb23MOdiDGuzPCLR5VZxY/LLBGXVyfXG6wRfe","tokenSeed":"4bacfcc778f5519abefa8647d29d84dbc96577fcd836387bb3b1763fd12affcc72d5ca18313d898d3a6cf05888a56cf00191ad7d69502be5779acf39a134555b","_id":"5a3c86b5987afb35f2c55c99","created":"2017-12-22T04:14:45.895Z","__v":0}}
{"level":"error","message":"Duplicate key found. Responding with a 409 status.","timestamp":"2017-12-22T04:14:45.901Z"}
{"level":"info","message":"Handling a POST request at endpoint /signup.","timestamp":"2017-12-22T04:14:45.923Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"Hilario.Lind@gmail.com\" }","op":{"username":"myName","email":"Hilario.Lind@gmail.com","passwordHash":"$2a$08$RHXpe9LjegrZxO5vAD73xu4a8cE2DfDDEy3sCVuu/6u.5inXyfnb2","tokenSeed":"6006056e9c473ceb36ce264bfcab76cc5c53d8c315054b620ee5ece03751ef2b4bef0181ea8402979a9dd6bcfb9d26bc2b7d89f1bd1ca7e481fa1ac2a5642f21","_id":"5a3c86b5987afb35f2c55c9b","created":"2017-12-22T04:14:45.939Z","__v":0}}
{"level":"error","message":"Duplicate key found. Responding with a 409 status.","timestamp":"2017-12-22T04:14:45.940Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-22T04:14:45.962Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-22T04:14:46.003Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/basic-auth-middleware.js:8:89)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-22T04:14:46.003Z"}
{"level":"error","message":"Message: __ERROR__ authorization header required. Responding with a 400 status.","timestamp":"2017-12-22T04:14:46.004Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-22T04:14:46.026Z"}
{"message":"__ERROR__ Basic authorization required","stack":"BadRequestError: __ERROR__ Basic authorization required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/basic-auth-middleware.js:13:89)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-22T04:14:46.026Z"}
{"level":"error","message":"Message: __ERROR__ Basic authorization required. Responding with a 400 status.","timestamp":"2017-12-22T04:14:46.027Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-22T04:14:46.048Z"}
{"message":"__ERROR__ username and password required","stack":"BadRequestError: __ERROR__ username and password required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/basic-auth-middleware.js:20:90)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-22T04:14:46.048Z"}
{"level":"error","message":"Message: __ERROR__ username and password required. Responding with a 400 status.","timestamp":"2017-12-22T04:14:46.049Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-22T04:14:46.069Z"}
{"message":"__ERROR__ not found","stack":"NotFoundError: __ERROR__ not found\n    at Account.findOne.then.account (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/basic-auth-middleware.js:25:86)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","name":"NotFoundError","level":"error","timestamp":"2017-12-22T04:14:46.070Z"}
{"level":"error","message":"Message: __ERROR__ not found. Responding with a 404 status.","timestamp":"2017-12-22T04:14:46.070Z"}
{"level":"info","message":"Server successfully shut down.","timestamp":"2017-12-22T04:14:46.072Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-22T04:14:46.254Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-22T04:14:46.280Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-22T04:14:46.312Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:19:90)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-22T04:14:46.312Z"}
{"level":"error","message":"Message: __ERROR__ authorization header required. Responding with a 400 status.","timestamp":"2017-12-22T04:14:46.313Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-22T04:14:46.336Z"}
{"message":"__ERROR__ Auth token required","stack":"BadRequestError: __ERROR__ Auth token required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:24:90)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-22T04:14:46.336Z"}
{"level":"error","message":"Message: __ERROR__ Auth token required. Responding with a 400 status.","timestamp":"2017-12-22T04:14:46.336Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-22T04:14:46.358Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:26:40)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"error","timestamp":"2017-12-22T04:14:46.358Z"}
{"level":"error","message":"Unauthorized access. Responding with a 401 status.","timestamp":"2017-12-22T04:14:46.362Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-22T04:14:46.384Z"}
{"message":"__ERROR__ not found","stack":"NotFoundError: __ERROR__ not found\n    at promisify.then.then.account (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:32:86)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","name":"NotFoundError","level":"error","timestamp":"2017-12-22T04:14:46.385Z"}
{"level":"error","message":"Message: __ERROR__ not found. Responding with a 404 status.","timestamp":"2017-12-22T04:14:46.385Z"}
{"level":"info","message":"Handling a GET request at endpoint /movies/5a3c86b6228eb635f20530ea.","timestamp":"2017-12-22T04:14:46.409Z"}
{"level":"info","message":"Handling a GET request at endpoint /movies/123123123.","timestamp":"2017-12-22T04:14:46.436Z"}
{"message":"Cast to ObjectId failed for value \"123123123\" at path \"_id\" for model \"movie\"","stack":"CastError: Cast to ObjectId failed for value \"123123123\" at path \"_id\" for model \"movie\"\n    at new CastError (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/kareem/index.js:250:8\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"123123123\"","kind":"ObjectId","value":"123123123","path":"_id","level":"error","timestamp":"2017-12-22T04:14:46.437Z"}
{"level":"error","message":"Invalid id. Responding with a 404 status.","timestamp":"2017-12-22T04:14:46.438Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-22T04:14:46.461Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:26:40)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"error","timestamp":"2017-12-22T04:14:46.461Z"}
{"level":"error","message":"Unauthorized access. Responding with a 401 status.","timestamp":"2017-12-22T04:14:46.462Z"}
{"level":"info","message":"Server successfully shut down.","timestamp":"2017-12-22T04:14:46.463Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-22T04:25:25.971Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T04:25:26.098Z"}
{"level":"info","message":"Server successfully shut down.","timestamp":"2017-12-22T04:25:26.523Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-22T04:27:12.724Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T04:27:12.846Z"}
{"level":"info","message":"Server successfully shut down.","timestamp":"2017-12-22T04:27:13.204Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-22T04:29:38.680Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T04:29:38.756Z"}
{"level":"info","message":"Server successfully shut down.","timestamp":"2017-12-22T04:29:39.177Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-22T04:30:55.121Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T04:30:55.244Z"}
{"level":"info","message":"Server successfully shut down.","timestamp":"2017-12-22T04:30:55.618Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-22T04:32:48.069Z"}
{"level":"info","message":"Handling a DELETE request at endpoint /video-clips/5a3c8a7f1a2bfa387af050e0.","timestamp":"2017-12-22T04:32:48.189Z"}
{"level":"info","message":"Server successfully shut down.","timestamp":"2017-12-22T04:32:48.429Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-22T04:48:54.862Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-22T04:49:03.317Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T04:49:03.391Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T04:49:03.627Z"}
{"message":"__ERROR__ invalid request","stack":"BadRequestError: __ERROR__ invalid request\n    at Object.<anonymous>.videoClipRouter.post (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/route/video-clip-router.js:18:92)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Immediate._onImmediate (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/multer/lib/make-middleware.js:53:37)\n    at runCallback (timers.js:804:20)\n    at tryOnImmediate (timers.js:762:5)\n    at processImmediate [as _immediateCallback] (timers.js:733:5)","name":"BadRequestError","level":"error","timestamp":"2017-12-22T04:49:03.864Z"}
{"level":"error","message":"Message: __ERROR__ invalid request. Responding with a 400 status.","timestamp":"2017-12-22T04:49:03.865Z"}
{"level":"info","message":"Handling a POST request at endpoint /video-clips.","timestamp":"2017-12-22T04:49:03.895Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:26:40)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"error","timestamp":"2017-12-22T04:49:03.895Z"}
{"level":"error","message":"Unauthorized access. Responding with a 401 status.","timestamp":"2017-12-22T04:49:03.897Z"}
{"level":"info","message":"Handling a GET request at endpoint /video-clips/5a3c8ebfc5e1bf39e7ba4a84.","timestamp":"2017-12-22T04:49:03.922Z"}
{"level":"info","message":"Handling a GET request at endpoint /video-clips/bad-id.","timestamp":"2017-12-22T04:49:03.948Z"}
{"message":"Cast to ObjectId failed for value \"bad-id\" at path \"_id\" for model \"videoClip\"","stack":"CastError: Cast to ObjectId failed for value \"bad-id\" at path \"_id\" for model \"videoClip\"\n    at new CastError (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/kareem/index.js:250:8\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"bad-id\"","kind":"ObjectId","value":"bad-id","path":"_id","level":"error","timestamp":"2017-12-22T04:49:03.950Z"}
{"level":"error","message":"Invalid id. Responding with a 404 status.","timestamp":"2017-12-22T04:49:03.951Z"}
{"level":"info","message":"Handling a GET request at endpoint /video-clips/5a3c8ebfc5e1bf39e7ba4a88.","timestamp":"2017-12-22T04:49:03.973Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:26:40)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"error","timestamp":"2017-12-22T04:49:03.974Z"}
{"level":"error","message":"Unauthorized access. Responding with a 401 status.","timestamp":"2017-12-22T04:49:03.974Z"}
{"level":"info","message":"Handling a DELETE request at endpoint /video-clips/5a3c8ebfc5e1bf39e7ba4a8a.","timestamp":"2017-12-22T04:49:03.999Z"}
{"level":"info","message":"Handling a DELETE request at endpoint /video-clips/bad-id.","timestamp":"2017-12-22T04:49:04.031Z"}
{"message":"Cast to ObjectId failed for value \"bad-id\" at path \"_id\" for model \"videoClip\"","stack":"CastError: Cast to ObjectId failed for value \"bad-id\" at path \"_id\" for model \"videoClip\"\n    at new CastError (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOneAndRemove (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:2248:8)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/kareem/index.js:250:8\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"bad-id\"","kind":"ObjectId","value":"bad-id","path":"_id","level":"error","timestamp":"2017-12-22T04:49:04.032Z"}
{"level":"error","message":"Invalid id. Responding with a 404 status.","timestamp":"2017-12-22T04:49:04.032Z"}
{"level":"info","message":"Handling a DELETE request at endpoint /video-clips/5a3c8ec0c5e1bf39e7ba4a8e.","timestamp":"2017-12-22T04:49:04.055Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:26:40)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"error","timestamp":"2017-12-22T04:49:04.055Z"}
{"level":"error","message":"Unauthorized access. Responding with a 401 status.","timestamp":"2017-12-22T04:49:04.056Z"}
{"level":"info","message":"Server successfully shut down.","timestamp":"2017-12-22T04:49:04.058Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-22T04:49:04.262Z"}
{"level":"info","message":"Handling a POST request at endpoint /signup.","timestamp":"2017-12-22T04:49:04.269Z"}
{"level":"info","message":"Handling a POST request at endpoint /signup.","timestamp":"2017-12-22T04:49:04.304Z"}
{"message":"__ERROR__ username, email & password required to sign up.","stack":"BadRequestError: __ERROR__ username, email & password required to sign up.\n    at Object.<anonymous>.authRouter.post (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/route/auth-router.js:13:91)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/raw-body/index.js:224:16)\n    at done (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/raw-body/index.js:273:7)\n    at IncomingMessage.emit (events.js:159:13)\n    at endReadableNT (_stream_readable.js:1054:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"BadRequestError","level":"error","timestamp":"2017-12-22T04:49:04.305Z"}
{"level":"error","message":"Message: __ERROR__ username, email & password required to sign up.. Responding with a 400 status.","timestamp":"2017-12-22T04:49:04.306Z"}
{"level":"info","message":"Handling a POST request at endpoint /signup.","timestamp":"2017-12-22T04:49:04.330Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: username_1 dup key: { : \"Rahul_Ryan63\" }","op":{"username":"Rahul_Ryan63","email":"new@email.com","passwordHash":"$2a$08$kICJPAxJMyA7SBlQOFSqpeFfkbT6lp1LKE8bIGxDJ6WD448BKO1He","tokenSeed":"040775c1f1c6e3833be84fff9ee5fd08fc645df17060e9f0daca8d7285e957a5094276cec1f2ea5892ce24853754f32c30277915ef3e8232714cc0d8da5819b5","_id":"5a3c8ec05e5b8c39e7d720a7","created":"2017-12-22T04:49:04.347Z","__v":0}}
{"level":"error","message":"Duplicate key found. Responding with a 409 status.","timestamp":"2017-12-22T04:49:04.350Z"}
{"level":"info","message":"Handling a POST request at endpoint /signup.","timestamp":"2017-12-22T04:49:04.371Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"Amparo.Schneider42@gmail.com\" }","op":{"username":"myName","email":"Amparo.Schneider42@gmail.com","passwordHash":"$2a$08$4dQBDos98D8Cn2Ai08H6RO6YNEalFS93Dzrxg2VQWQPzO.u9yVMAa","tokenSeed":"b7b73f6a392c33b92341335038dc5c7df3dcbe173f635122f7c86e5384618f9bed2897feeddd7e181b24d01cd19c7a2fa9bb2815cfb8a23c79b6096d99b579c8","_id":"5a3c8ec05e5b8c39e7d720a9","created":"2017-12-22T04:49:04.387Z","__v":0}}
{"level":"error","message":"Duplicate key found. Responding with a 409 status.","timestamp":"2017-12-22T04:49:04.388Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-22T04:49:04.410Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-22T04:49:04.453Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/basic-auth-middleware.js:8:89)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-22T04:49:04.453Z"}
{"level":"error","message":"Message: __ERROR__ authorization header required. Responding with a 400 status.","timestamp":"2017-12-22T04:49:04.454Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-22T04:49:04.476Z"}
{"message":"__ERROR__ Basic authorization required","stack":"BadRequestError: __ERROR__ Basic authorization required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/basic-auth-middleware.js:13:89)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-22T04:49:04.476Z"}
{"level":"error","message":"Message: __ERROR__ Basic authorization required. Responding with a 400 status.","timestamp":"2017-12-22T04:49:04.476Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-22T04:49:04.500Z"}
{"message":"__ERROR__ username and password required","stack":"BadRequestError: __ERROR__ username and password required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/basic-auth-middleware.js:20:90)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-22T04:49:04.500Z"}
{"level":"error","message":"Message: __ERROR__ username and password required. Responding with a 400 status.","timestamp":"2017-12-22T04:49:04.501Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-22T04:49:04.521Z"}
{"message":"__ERROR__ not found","stack":"NotFoundError: __ERROR__ not found\n    at Account.findOne.then.account (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/basic-auth-middleware.js:25:86)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","name":"NotFoundError","level":"error","timestamp":"2017-12-22T04:49:04.522Z"}
{"level":"error","message":"Message: __ERROR__ not found. Responding with a 404 status.","timestamp":"2017-12-22T04:49:04.522Z"}
{"level":"info","message":"Server successfully shut down.","timestamp":"2017-12-22T04:49:04.524Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-22T04:49:04.711Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-22T04:49:04.738Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-22T04:49:04.768Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:19:90)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-22T04:49:04.768Z"}
{"level":"error","message":"Message: __ERROR__ authorization header required. Responding with a 400 status.","timestamp":"2017-12-22T04:49:04.769Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-22T04:49:04.792Z"}
{"message":"__ERROR__ Auth token required","stack":"BadRequestError: __ERROR__ Auth token required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:24:90)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-22T04:49:04.792Z"}
{"level":"error","message":"Message: __ERROR__ Auth token required. Responding with a 400 status.","timestamp":"2017-12-22T04:49:04.792Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-22T04:49:04.815Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:26:40)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"error","timestamp":"2017-12-22T04:49:04.816Z"}
{"level":"error","message":"Unauthorized access. Responding with a 401 status.","timestamp":"2017-12-22T04:49:04.817Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-22T04:49:04.840Z"}
{"message":"__ERROR__ not found","stack":"NotFoundError: __ERROR__ not found\n    at promisify.then.then.account (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:32:86)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","name":"NotFoundError","level":"error","timestamp":"2017-12-22T04:49:04.841Z"}
{"level":"error","message":"Message: __ERROR__ not found. Responding with a 404 status.","timestamp":"2017-12-22T04:49:04.841Z"}
{"level":"info","message":"Handling a GET request at endpoint /movies/5a3c8ec074d88f39e79f7d66.","timestamp":"2017-12-22T04:49:04.866Z"}
{"level":"info","message":"Handling a GET request at endpoint /movies/123123123.","timestamp":"2017-12-22T04:49:04.896Z"}
{"message":"Cast to ObjectId failed for value \"123123123\" at path \"_id\" for model \"movie\"","stack":"CastError: Cast to ObjectId failed for value \"123123123\" at path \"_id\" for model \"movie\"\n    at new CastError (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/kareem/index.js:250:8\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"123123123\"","kind":"ObjectId","value":"123123123","path":"_id","level":"error","timestamp":"2017-12-22T04:49:04.898Z"}
{"level":"error","message":"Invalid id. Responding with a 404 status.","timestamp":"2017-12-22T04:49:04.898Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-22T04:49:04.920Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:26:40)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"error","timestamp":"2017-12-22T04:49:04.920Z"}
{"level":"error","message":"Unauthorized access. Responding with a 401 status.","timestamp":"2017-12-22T04:49:04.921Z"}
{"level":"info","message":"Server successfully shut down.","timestamp":"2017-12-22T04:49:04.922Z"}
