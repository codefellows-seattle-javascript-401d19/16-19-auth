{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-21T08:31:43.098Z"}
{"level":"info","message":"Handling a GET request at endpoint /movies/123123123.","timestamp":"2017-12-21T08:31:43.175Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-21T08:33:36.306Z"}
{"level":"info","message":"Handling a GET request at endpoint /movies/123123123.","timestamp":"2017-12-21T08:33:36.384Z"}
{"message":"Cast to ObjectId failed for value \"123123123\" at path \"_id\" for model \"movie\"","stack":"CastError: Cast to ObjectId failed for value \"123123123\" at path \"_id\" for model \"movie\"\n    at new CastError (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/kareem/index.js:250:8\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"CastError","stringValue":"\"123123123\"","kind":"ObjectId","value":"123123123","path":"_id","level":"error","timestamp":"2017-12-21T08:33:36.390Z"}
{"level":"error","message":"Invalid id. Responding with a 404 status.","timestamp":"2017-12-21T08:33:36.390Z"}
{"level":"info","message":"Server successfully shut down.","timestamp":"2017-12-21T08:33:36.399Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-21T08:34:24.225Z"}
{"level":"info","message":"Handling a GET request at endpoint /movies/123123123.","timestamp":"2017-12-21T08:34:24.321Z"}
{"message":"Cast to ObjectId failed for value \"123123123\" at path \"_id\" for model \"movie\"","stack":"CastError: Cast to ObjectId failed for value \"123123123\" at path \"_id\" for model \"movie\"\n    at new CastError (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/kareem/index.js:250:8\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"CastError","stringValue":"\"123123123\"","kind":"ObjectId","value":"123123123","path":"_id","level":"error","timestamp":"2017-12-21T08:34:24.326Z"}
{"level":"error","message":"Invalid id. Responding with a 404 status.","timestamp":"2017-12-21T08:34:24.327Z"}
{"level":"info","message":"Server successfully shut down.","timestamp":"2017-12-21T08:34:24.336Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-21T08:34:24.503Z"}
{"level":"info","message":"Handling a POST request at endpoint /signup.","timestamp":"2017-12-21T08:34:24.567Z"}
{"level":"info","message":"Handling a POST request at endpoint /signup.","timestamp":"2017-12-21T08:34:24.606Z"}
{"message":"__ERROR__ username, email & password required to sign up.","stack":"BadRequestError: __ERROR__ username, email & password required to sign up.\n    at Object.<anonymous>.authRouter.post (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/route/auth-router.js:13:91)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/raw-body/index.js:224:16)\n    at done (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/raw-body/index.js:273:7)\n    at IncomingMessage.emit (events.js:159:13)\n    at endReadableNT (_stream_readable.js:1054:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"error","timestamp":"2017-12-21T08:34:24.606Z"}
{"level":"error","message":"Message: __ERROR__ username, email & password required to sign up.. Responding with a 400 status.","timestamp":"2017-12-21T08:34:24.608Z"}
{"level":"info","message":"Handling a POST request at endpoint /signup.","timestamp":"2017-12-21T08:34:24.632Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: username_1 dup key: { : \"Gaylord.Nienow\" }","op":{"username":"Gaylord.Nienow","email":"new@email.com","passwordHash":"$2a$08$rfWwU438E1iZ8DhHRffomu9QeapzRDAQR2o3Fy08jwADzp/vbz.cC","tokenSeed":"70a87ac3b65481151128cab4fce83985d4f7140f62903309c11e9a50998978fb4131ce1dbd74896e24007e6b84215aaa2d24e3cbe869e841444d0054ff89a3fb","_id":"5a3b721044ede855a1fe7670","created":"2017-12-21T08:34:24.649Z","__v":0}}
{"level":"error","message":"Duplicate key found. Responding with a 409 status.","timestamp":"2017-12-21T08:34:24.652Z"}
{"level":"info","message":"Handling a POST request at endpoint /signup.","timestamp":"2017-12-21T08:34:24.674Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"Brown96@hotmail.com\" }","op":{"username":"myName","email":"Brown96@hotmail.com","passwordHash":"$2a$08$lSCbb8JAx2I00A2DkHJFnuPv4.wh8ClGk3FvmM8OrVt7P7f9V4qmS","tokenSeed":"6ee404631aa634f44715c2c32c611ead5054fd5d024225c49e50d5074e9eb4aab983df4ef6de4ecd70fe1efa6ad98cf1c9594c95beafefe2f046698ae614e1df","_id":"5a3b721044ede855a1fe7672","created":"2017-12-21T08:34:24.691Z","__v":0}}
{"level":"error","message":"Duplicate key found. Responding with a 409 status.","timestamp":"2017-12-21T08:34:24.692Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-21T08:34:24.714Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-21T08:34:24.754Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/basic-auth-middleware.js:8:89)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-21T08:34:24.754Z"}
{"level":"error","message":"Message: __ERROR__ authorization header required. Responding with a 400 status.","timestamp":"2017-12-21T08:34:24.756Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-21T08:34:24.778Z"}
{"message":"__ERROR__ Basic authorization required","stack":"BadRequestError: __ERROR__ Basic authorization required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/basic-auth-middleware.js:13:89)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-21T08:34:24.778Z"}
{"level":"error","message":"Message: __ERROR__ Basic authorization required. Responding with a 400 status.","timestamp":"2017-12-21T08:34:24.778Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-21T08:34:24.799Z"}
{"message":"__ERROR__ username and password required","stack":"BadRequestError: __ERROR__ username and password required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/basic-auth-middleware.js:20:90)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-21T08:34:24.800Z"}
{"level":"error","message":"Message: __ERROR__ username and password required. Responding with a 400 status.","timestamp":"2017-12-21T08:34:24.800Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-21T08:34:24.821Z"}
{"message":"__ERROR__ not found","stack":"NotFoundError: __ERROR__ not found\n    at Account.findOne.then.account (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/basic-auth-middleware.js:25:86)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"error","timestamp":"2017-12-21T08:34:24.822Z"}
{"level":"error","message":"Message: __ERROR__ not found. Responding with a 404 status.","timestamp":"2017-12-21T08:34:24.822Z"}
{"level":"info","message":"Server successfully shut down.","timestamp":"2017-12-21T08:34:24.823Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-21T08:37:54.439Z"}
{"level":"info","message":"Handling a GET request at endpoint /movies/123123123.","timestamp":"2017-12-21T08:37:54.516Z"}
{"message":"Cast to ObjectId failed for value \"123123123\" at path \"_id\" for model \"movie\"","stack":"CastError: Cast to ObjectId failed for value \"123123123\" at path \"_id\" for model \"movie\"\n    at new CastError (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/kareem/index.js:250:8\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"CastError","stringValue":"\"123123123\"","kind":"ObjectId","value":"123123123","path":"_id","level":"error","timestamp":"2017-12-21T08:37:54.521Z"}
{"level":"error","message":"Invalid id. Responding with a 404 status.","timestamp":"2017-12-21T08:37:54.522Z"}
{"level":"info","message":"Server successfully shut down.","timestamp":"2017-12-21T08:37:54.530Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-21T08:37:54.688Z"}
{"level":"info","message":"Handling a POST request at endpoint /signup.","timestamp":"2017-12-21T08:37:54.753Z"}
{"level":"info","message":"Handling a POST request at endpoint /signup.","timestamp":"2017-12-21T08:37:54.791Z"}
{"message":"__ERROR__ username, email & password required to sign up.","stack":"BadRequestError: __ERROR__ username, email & password required to sign up.\n    at Object.<anonymous>.authRouter.post (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/route/auth-router.js:13:91)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/raw-body/index.js:224:16)\n    at done (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/raw-body/index.js:273:7)\n    at IncomingMessage.emit (events.js:159:13)\n    at endReadableNT (_stream_readable.js:1054:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"error","timestamp":"2017-12-21T08:37:54.791Z"}
{"level":"error","message":"Message: __ERROR__ username, email & password required to sign up.. Responding with a 400 status.","timestamp":"2017-12-21T08:37:54.793Z"}
{"level":"info","message":"Handling a POST request at endpoint /signup.","timestamp":"2017-12-21T08:37:54.816Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: username_1 dup key: { : \"Eino_Kessler\" }","op":{"username":"Eino_Kessler","email":"new@email.com","passwordHash":"$2a$08$4DA7h2wdmmMKEoumdU2T1OOM1NApgsuJ3bCY5ibjD4JE.NOB2Pcta","tokenSeed":"1161d6d70c0b61745817e972a1baeab7a555e06bf98e11c891b0152dc045b3157e4090a58a35dd4a7e85dad3d9162a0dafc9b5c01b35296ed2aa002056d0d680","_id":"5a3b72e2144c60562d3ee763","created":"2017-12-21T08:37:54.833Z","__v":0}}
{"level":"error","message":"Duplicate key found. Responding with a 409 status.","timestamp":"2017-12-21T08:37:54.836Z"}
{"level":"info","message":"Handling a POST request at endpoint /signup.","timestamp":"2017-12-21T08:37:54.857Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"Pete_Friesen@yahoo.com\" }","op":{"username":"myName","email":"Pete_Friesen@yahoo.com","passwordHash":"$2a$08$1G4Tu8BVEQ3j/w98exBdZerS9OP6jfwMaC/FWCrPvNt772iKS2am6","tokenSeed":"a8fc7512d5a8e7d705a331bba5cc0b01a99c505c8803c96ece605c9d746c0f0adbef7c82ef8cec086f362d677a1886c383d564f15ebd1bf5f08fc2e32555c3f4","_id":"5a3b72e2144c60562d3ee765","created":"2017-12-21T08:37:54.875Z","__v":0}}
{"level":"error","message":"Duplicate key found. Responding with a 409 status.","timestamp":"2017-12-21T08:37:54.876Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-21T08:37:54.899Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-21T08:37:54.938Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/basic-auth-middleware.js:8:89)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-21T08:37:54.939Z"}
{"level":"error","message":"Message: __ERROR__ authorization header required. Responding with a 400 status.","timestamp":"2017-12-21T08:37:54.940Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-21T08:37:54.962Z"}
{"message":"__ERROR__ Basic authorization required","stack":"BadRequestError: __ERROR__ Basic authorization required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/basic-auth-middleware.js:13:89)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-21T08:37:54.962Z"}
{"level":"error","message":"Message: __ERROR__ Basic authorization required. Responding with a 400 status.","timestamp":"2017-12-21T08:37:54.962Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-21T08:37:54.985Z"}
{"message":"__ERROR__ username and password required","stack":"BadRequestError: __ERROR__ username and password required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/basic-auth-middleware.js:20:90)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-21T08:37:54.985Z"}
{"level":"error","message":"Message: __ERROR__ username and password required. Responding with a 400 status.","timestamp":"2017-12-21T08:37:54.985Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-21T08:37:55.006Z"}
{"message":"__ERROR__ not found","stack":"NotFoundError: __ERROR__ not found\n    at Account.findOne.then.account (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/basic-auth-middleware.js:25:86)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"error","timestamp":"2017-12-21T08:37:55.008Z"}
{"level":"error","message":"Message: __ERROR__ not found. Responding with a 404 status.","timestamp":"2017-12-21T08:37:55.008Z"}
{"level":"info","message":"Server successfully shut down.","timestamp":"2017-12-21T08:37:55.009Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-21T08:38:07.943Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-21T08:38:08.014Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-21T08:38:08.059Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:19:90)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-21T08:38:08.059Z"}
{"level":"error","message":"Message: __ERROR__ authorization header required. Responding with a 400 status.","timestamp":"2017-12-21T08:38:08.061Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-21T08:38:08.082Z"}
{"message":"__ERROR__ Auth token required","stack":"BadRequestError: __ERROR__ Auth token required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:24:90)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-21T08:38:08.083Z"}
{"level":"error","message":"Message: __ERROR__ Auth token required. Responding with a 400 status.","timestamp":"2017-12-21T08:38:08.083Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-21T08:38:08.104Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:26:40)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"error","timestamp":"2017-12-21T08:38:08.105Z"}
{"level":"error","message":"Unauthorized access. Responding with a 401 status.","timestamp":"2017-12-21T08:38:08.106Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-21T08:38:08.130Z"}
{"message":"__ERROR__ not found","stack":"NotFoundError: __ERROR__ not found\n    at promisify.then.then.account (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:32:86)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"error","timestamp":"2017-12-21T08:38:08.131Z"}
{"level":"error","message":"Message: __ERROR__ not found. Responding with a 404 status.","timestamp":"2017-12-21T08:38:08.131Z"}
{"level":"info","message":"Handling a GET request at endpoint /movies/5a3b72f0a2557f56532563ed.","timestamp":"2017-12-21T08:38:08.157Z"}
{"level":"info","message":"Handling a GET request at endpoint /movies/123123123.","timestamp":"2017-12-21T08:38:08.184Z"}
{"message":"Cast to ObjectId failed for value \"123123123\" at path \"_id\" for model \"movie\"","stack":"CastError: Cast to ObjectId failed for value \"123123123\" at path \"_id\" for model \"movie\"\n    at new CastError (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/kareem/index.js:250:8\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"CastError","stringValue":"\"123123123\"","kind":"ObjectId","value":"123123123","path":"_id","level":"error","timestamp":"2017-12-21T08:38:08.187Z"}
{"level":"error","message":"Invalid id. Responding with a 404 status.","timestamp":"2017-12-21T08:38:08.188Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-21T08:38:08.209Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:26:40)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"error","timestamp":"2017-12-21T08:38:08.209Z"}
{"level":"error","message":"Unauthorized access. Responding with a 401 status.","timestamp":"2017-12-21T08:38:08.209Z"}
{"level":"info","message":"Server successfully shut down.","timestamp":"2017-12-21T08:38:08.213Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-21T08:38:08.388Z"}
{"level":"info","message":"Handling a POST request at endpoint /signup.","timestamp":"2017-12-21T08:38:08.453Z"}
{"level":"info","message":"Handling a POST request at endpoint /signup.","timestamp":"2017-12-21T08:38:08.482Z"}
{"message":"__ERROR__ username, email & password required to sign up.","stack":"BadRequestError: __ERROR__ username, email & password required to sign up.\n    at Object.<anonymous>.authRouter.post (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/route/auth-router.js:13:91)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/raw-body/index.js:224:16)\n    at done (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/raw-body/index.js:273:7)\n    at IncomingMessage.emit (events.js:159:13)\n    at endReadableNT (_stream_readable.js:1054:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"error","timestamp":"2017-12-21T08:38:08.483Z"}
{"level":"error","message":"Message: __ERROR__ username, email & password required to sign up.. Responding with a 400 status.","timestamp":"2017-12-21T08:38:08.484Z"}
{"level":"info","message":"Handling a POST request at endpoint /signup.","timestamp":"2017-12-21T08:38:08.509Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: username_1 dup key: { : \"Tess_Reichel16\" }","op":{"username":"Tess_Reichel16","email":"new@email.com","passwordHash":"$2a$08$YKhCaJrk6Cd2ZDYwZIjZ1ubVbOO6Ha1Cahf2e0RyCic1kdmwQ/006","tokenSeed":"e85243f029ef1a96805cf61c711922ba7206c861edc99227d9ec8463a4ec1a5fe098378ff85fb1c7fc6197582bb5269457d4e37cbf067ace92d4b4b695687c81","_id":"5a3b72f0adc51656537c20c3","created":"2017-12-21T08:38:08.525Z","__v":0}}
{"level":"error","message":"Duplicate key found. Responding with a 409 status.","timestamp":"2017-12-21T08:38:08.528Z"}
{"level":"info","message":"Handling a POST request at endpoint /signup.","timestamp":"2017-12-21T08:38:08.549Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"Creola.Kihn55@yahoo.com\" }","op":{"username":"myName","email":"Creola.Kihn55@yahoo.com","passwordHash":"$2a$08$qSUBOT6PG9HVxFAgr.wFVuQh/UIKn5d7Bdqg9mYZph7NhxixFVcVm","tokenSeed":"687e7f30d6cf9a57df9d6a0968838ecfd42667bc779de229f453232d9640928a14398bd1b2be05f1b47f1c32fabba8d4ba9b78aad0ef158e24d4d76236e728ce","_id":"5a3b72f0adc51656537c20c5","created":"2017-12-21T08:38:08.565Z","__v":0}}
{"level":"error","message":"Duplicate key found. Responding with a 409 status.","timestamp":"2017-12-21T08:38:08.566Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-21T08:38:08.588Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-21T08:38:08.627Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/basic-auth-middleware.js:8:89)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-21T08:38:08.628Z"}
{"level":"error","message":"Message: __ERROR__ authorization header required. Responding with a 400 status.","timestamp":"2017-12-21T08:38:08.629Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-21T08:38:08.650Z"}
{"message":"__ERROR__ Basic authorization required","stack":"BadRequestError: __ERROR__ Basic authorization required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/basic-auth-middleware.js:13:89)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-21T08:38:08.650Z"}
{"level":"error","message":"Message: __ERROR__ Basic authorization required. Responding with a 400 status.","timestamp":"2017-12-21T08:38:08.651Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-21T08:38:08.673Z"}
{"message":"__ERROR__ username and password required","stack":"BadRequestError: __ERROR__ username and password required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/basic-auth-middleware.js:20:90)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-21T08:38:08.673Z"}
{"level":"error","message":"Message: __ERROR__ username and password required. Responding with a 400 status.","timestamp":"2017-12-21T08:38:08.674Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-21T08:38:08.696Z"}
{"message":"__ERROR__ not found","stack":"NotFoundError: __ERROR__ not found\n    at Account.findOne.then.account (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/basic-auth-middleware.js:25:86)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"error","timestamp":"2017-12-21T08:38:08.697Z"}
{"level":"error","message":"Message: __ERROR__ not found. Responding with a 404 status.","timestamp":"2017-12-21T08:38:08.697Z"}
{"level":"info","message":"Server successfully shut down.","timestamp":"2017-12-21T08:38:08.698Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-21T08:38:18.949Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-21T08:38:19.021Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-21T08:38:19.066Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:19:90)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-21T08:38:19.067Z"}
{"level":"error","message":"Message: __ERROR__ authorization header required. Responding with a 400 status.","timestamp":"2017-12-21T08:38:19.069Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-21T08:38:19.090Z"}
{"message":"__ERROR__ Auth token required","stack":"BadRequestError: __ERROR__ Auth token required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:24:90)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-21T08:38:19.091Z"}
{"level":"error","message":"Message: __ERROR__ Auth token required. Responding with a 400 status.","timestamp":"2017-12-21T08:38:19.091Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-21T08:38:19.113Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:26:40)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"error","timestamp":"2017-12-21T08:38:19.114Z"}
{"level":"error","message":"Unauthorized access. Responding with a 401 status.","timestamp":"2017-12-21T08:38:19.115Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-21T08:38:19.136Z"}
{"message":"__ERROR__ not found","stack":"NotFoundError: __ERROR__ not found\n    at promisify.then.then.account (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:32:86)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"error","timestamp":"2017-12-21T08:38:19.137Z"}
{"level":"error","message":"Message: __ERROR__ not found. Responding with a 404 status.","timestamp":"2017-12-21T08:38:19.137Z"}
{"level":"info","message":"Handling a GET request at endpoint /movies/5a3b72fbd50c2a5678338b82.","timestamp":"2017-12-21T08:38:19.163Z"}
{"level":"info","message":"Handling a GET request at endpoint /movies/123123123.","timestamp":"2017-12-21T08:38:19.191Z"}
{"message":"Cast to ObjectId failed for value \"123123123\" at path \"_id\" for model \"movie\"","stack":"CastError: Cast to ObjectId failed for value \"123123123\" at path \"_id\" for model \"movie\"\n    at new CastError (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/kareem/index.js:250:8\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"CastError","stringValue":"\"123123123\"","kind":"ObjectId","value":"123123123","path":"_id","level":"error","timestamp":"2017-12-21T08:38:19.194Z"}
{"level":"error","message":"Invalid id. Responding with a 404 status.","timestamp":"2017-12-21T08:38:19.195Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-21T08:38:19.217Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:26:40)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"error","timestamp":"2017-12-21T08:38:19.217Z"}
{"level":"error","message":"Unauthorized access. Responding with a 401 status.","timestamp":"2017-12-21T08:38:19.218Z"}
{"level":"info","message":"Server successfully shut down.","timestamp":"2017-12-21T08:38:19.219Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-21T08:38:19.382Z"}
{"level":"info","message":"Handling a POST request at endpoint /signup.","timestamp":"2017-12-21T08:38:19.443Z"}
{"level":"info","message":"Handling a POST request at endpoint /signup.","timestamp":"2017-12-21T08:38:19.471Z"}
{"message":"__ERROR__ username, email & password required to sign up.","stack":"BadRequestError: __ERROR__ username, email & password required to sign up.\n    at Object.<anonymous>.authRouter.post (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/route/auth-router.js:13:91)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/raw-body/index.js:224:16)\n    at done (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/raw-body/index.js:273:7)\n    at IncomingMessage.emit (events.js:159:13)\n    at endReadableNT (_stream_readable.js:1054:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"error","timestamp":"2017-12-21T08:38:19.471Z"}
{"level":"error","message":"Message: __ERROR__ username, email & password required to sign up.. Responding with a 400 status.","timestamp":"2017-12-21T08:38:19.473Z"}
{"level":"info","message":"Handling a POST request at endpoint /signup.","timestamp":"2017-12-21T08:38:19.497Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: username_1 dup key: { : \"Polly.Balistreri88\" }","op":{"username":"Polly.Balistreri88","email":"new@email.com","passwordHash":"$2a$08$pvy46P1MbAVDx2JLlTOFHuH2dAoM2Ql/vCeehjK8KAmgMlVciohrC","tokenSeed":"1b6e0409c225fa483e3414bb0084033a8c7eb825b3eb357281a4215c1e9b58273fa92c55fe367ccb38029993196f08d8d30d10a5766c93b469664c0bc4d667d5","_id":"5a3b72fb1641bc567871b215","created":"2017-12-21T08:38:19.514Z","__v":0}}
{"level":"error","message":"Duplicate key found. Responding with a 409 status.","timestamp":"2017-12-21T08:38:19.517Z"}
{"level":"info","message":"Handling a POST request at endpoint /signup.","timestamp":"2017-12-21T08:38:19.537Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"Danika_Hills89@hotmail.com\" }","op":{"username":"myName","email":"Danika_Hills89@hotmail.com","passwordHash":"$2a$08$WaBLXjC0b3vdTquFP/4uSuq9WiCNDvO1D7zlaoFAnws.8uaqxtPvK","tokenSeed":"0132f90279bd85c4e6f015f83548a47940e265dc9de555ae42a21caad8691986edea7f36ff0be4591b6c7a9592c74bf78e5c12b1bfc654491e2f501153c8e4c8","_id":"5a3b72fb1641bc567871b217","created":"2017-12-21T08:38:19.552Z","__v":0}}
{"level":"error","message":"Duplicate key found. Responding with a 409 status.","timestamp":"2017-12-21T08:38:19.554Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-21T08:38:19.575Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-21T08:38:19.613Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/basic-auth-middleware.js:8:89)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-21T08:38:19.614Z"}
{"level":"error","message":"Message: __ERROR__ authorization header required. Responding with a 400 status.","timestamp":"2017-12-21T08:38:19.615Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-21T08:38:19.637Z"}
{"message":"__ERROR__ Basic authorization required","stack":"BadRequestError: __ERROR__ Basic authorization required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/basic-auth-middleware.js:13:89)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-21T08:38:19.637Z"}
{"level":"error","message":"Message: __ERROR__ Basic authorization required. Responding with a 400 status.","timestamp":"2017-12-21T08:38:19.638Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-21T08:38:19.658Z"}
{"message":"__ERROR__ username and password required","stack":"BadRequestError: __ERROR__ username and password required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/basic-auth-middleware.js:20:90)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-21T08:38:19.658Z"}
{"level":"error","message":"Message: __ERROR__ username and password required. Responding with a 400 status.","timestamp":"2017-12-21T08:38:19.659Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-21T08:38:19.680Z"}
{"message":"__ERROR__ not found","stack":"NotFoundError: __ERROR__ not found\n    at Account.findOne.then.account (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/basic-auth-middleware.js:25:86)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"error","timestamp":"2017-12-21T08:38:19.681Z"}
{"level":"error","message":"Message: __ERROR__ not found. Responding with a 404 status.","timestamp":"2017-12-21T08:38:19.681Z"}
{"level":"info","message":"Server successfully shut down.","timestamp":"2017-12-21T08:38:19.682Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-21T09:04:28.857Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-21T09:04:28.929Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-21T09:04:28.975Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:19:90)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-21T09:04:28.976Z"}
{"level":"error","message":"Message: __ERROR__ authorization header required. Responding with a 400 status.","timestamp":"2017-12-21T09:04:28.977Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-21T09:04:29.001Z"}
{"message":"__ERROR__ Auth token required","stack":"BadRequestError: __ERROR__ Auth token required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:24:90)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-21T09:04:29.001Z"}
{"level":"error","message":"Message: __ERROR__ Auth token required. Responding with a 400 status.","timestamp":"2017-12-21T09:04:29.002Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-21T09:04:29.024Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:26:40)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"error","timestamp":"2017-12-21T09:04:29.024Z"}
{"level":"error","message":"Unauthorized access. Responding with a 401 status.","timestamp":"2017-12-21T09:04:29.025Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-21T09:04:29.048Z"}
{"message":"__ERROR__ not found","stack":"NotFoundError: __ERROR__ not found\n    at promisify.then.then.account (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:32:86)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"error","timestamp":"2017-12-21T09:04:29.049Z"}
{"level":"error","message":"Message: __ERROR__ not found. Responding with a 404 status.","timestamp":"2017-12-21T09:04:29.049Z"}
{"level":"info","message":"Handling a GET request at endpoint /movies/5a3b791d62e28b5af476afc5.","timestamp":"2017-12-21T09:04:29.075Z"}
{"level":"info","message":"Handling a GET request at endpoint /movies/123123123.","timestamp":"2017-12-21T09:04:29.101Z"}
{"message":"Cast to ObjectId failed for value \"123123123\" at path \"_id\" for model \"movie\"","stack":"CastError: Cast to ObjectId failed for value \"123123123\" at path \"_id\" for model \"movie\"\n    at new CastError (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/kareem/index.js:250:8\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"CastError","stringValue":"\"123123123\"","kind":"ObjectId","value":"123123123","path":"_id","level":"error","timestamp":"2017-12-21T09:04:29.104Z"}
{"level":"error","message":"Invalid id. Responding with a 404 status.","timestamp":"2017-12-21T09:04:29.105Z"}
{"level":"info","message":"Handling a POST request at endpoint /movies.","timestamp":"2017-12-21T09:04:29.126Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:9:13)\n    at new Promise (<anonymous>)\n    at args (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:8:12)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/bearer-auth-middleware.js:26:40)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","level":"error","timestamp":"2017-12-21T09:04:29.126Z"}
{"level":"error","message":"Unauthorized access. Responding with a 401 status.","timestamp":"2017-12-21T09:04:29.127Z"}
{"level":"info","message":"Server successfully shut down.","timestamp":"2017-12-21T09:04:29.129Z"}
{"level":"info","message":"Server running on port 3000.","timestamp":"2017-12-21T09:04:29.290Z"}
{"level":"info","message":"Handling a POST request at endpoint /signup.","timestamp":"2017-12-21T09:04:29.348Z"}
{"level":"info","message":"Handling a POST request at endpoint /signup.","timestamp":"2017-12-21T09:04:29.378Z"}
{"message":"__ERROR__ username, email & password required to sign up.","stack":"BadRequestError: __ERROR__ username, email & password required to sign up.\n    at Object.<anonymous>.authRouter.post (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/route/auth-router.js:13:91)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/raw-body/index.js:224:16)\n    at done (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/raw-body/index.js:273:7)\n    at IncomingMessage.emit (events.js:159:13)\n    at endReadableNT (_stream_readable.js:1054:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","name":"BadRequestError","level":"error","timestamp":"2017-12-21T09:04:29.379Z"}
{"level":"error","message":"Message: __ERROR__ username, email & password required to sign up.. Responding with a 400 status.","timestamp":"2017-12-21T09:04:29.380Z"}
{"level":"info","message":"Handling a POST request at endpoint /signup.","timestamp":"2017-12-21T09:04:29.404Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: username_1 dup key: { : \"Patience99\" }","op":{"username":"Patience99","email":"new@email.com","passwordHash":"$2a$08$lJ90saD1MmpFgCfiS9g7yu2xqM0C81A/Cyl/cyylPE.kWWWZ2DHpa","tokenSeed":"2dba0942421003eb6ce08380b706a7acd58086baa940f7db3c0b568f58660d0e1b2c12a35bbb6f91478ab5971438d689ff1ef136fd21a55a6770b9639064c612","_id":"5a3b791d8d94135af4bdf2aa","created":"2017-12-21T09:04:29.421Z","__v":0}}
{"level":"error","message":"Duplicate key found. Responding with a 409 status.","timestamp":"2017-12-21T09:04:29.425Z"}
{"level":"info","message":"Handling a POST request at endpoint /signup.","timestamp":"2017-12-21T09:04:29.448Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"Bridie.Dicki30@gmail.com\" }","op":{"username":"myName","email":"Bridie.Dicki30@gmail.com","passwordHash":"$2a$08$BFwYjBaPMkBCf2nuXyW40uouKLQP7cCKqa37xsA2MCkBL.vfzWDSy","tokenSeed":"3a30e69394491c9e3b0abf9719ea92eae7ff231c228e32a12ea1b50db0770a9b6755a7f807fc9f5cf357e99724b8e968f7dd2bc15e8fbf28fd03689bfa12d351","_id":"5a3b791d8d94135af4bdf2ac","created":"2017-12-21T09:04:29.464Z","__v":0}}
{"level":"error","message":"Duplicate key found. Responding with a 409 status.","timestamp":"2017-12-21T09:04:29.465Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-21T09:04:29.485Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-21T09:04:29.525Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/basic-auth-middleware.js:8:89)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-21T09:04:29.525Z"}
{"level":"error","message":"Message: __ERROR__ authorization header required. Responding with a 400 status.","timestamp":"2017-12-21T09:04:29.526Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-21T09:04:29.548Z"}
{"message":"__ERROR__ Basic authorization required","stack":"BadRequestError: __ERROR__ Basic authorization required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/basic-auth-middleware.js:13:89)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-21T09:04:29.548Z"}
{"level":"error","message":"Message: __ERROR__ Basic authorization required. Responding with a 400 status.","timestamp":"2017-12-21T09:04:29.549Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-21T09:04:29.569Z"}
{"message":"__ERROR__ username and password required","stack":"BadRequestError: __ERROR__ username and password required\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/basic-auth-middleware.js:20:90)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/logger-middleware.js:7:10)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:317:13)\n    at /Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"error","timestamp":"2017-12-21T09:04:29.569Z"}
{"level":"error","message":"Message: __ERROR__ username and password required. Responding with a 400 status.","timestamp":"2017-12-21T09:04:29.570Z"}
{"level":"info","message":"Handling a GET request at endpoint /login.","timestamp":"2017-12-21T09:04:29.590Z"}
{"message":"__ERROR__ not found","stack":"NotFoundError: __ERROR__ not found\n    at Account.findOne.then.account (/Users/robertreed/Documents/programming/cf/401/lab/16-19-auth/lab-rob/lib/basic-auth-middleware.js:25:86)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","name":"NotFoundError","level":"error","timestamp":"2017-12-21T09:04:29.591Z"}
{"level":"error","message":"Message: __ERROR__ not found. Responding with a 404 status.","timestamp":"2017-12-21T09:04:29.591Z"}
{"level":"info","message":"Server successfully shut down.","timestamp":"2017-12-21T09:04:29.592Z"}
