{"level":"info","message":"server is listening on port 7000","timestamp":"2017-12-27T00:13:20.938Z"}
{"level":"info","message":"Processing : POST on : /images","timestamp":"2017-12-27T00:13:21.027Z"}
{"level":"info","message":"Processing : POST on : /images","timestamp":"2017-12-27T00:13:21.160Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-27T00:13:21.170Z"}
{"message":"_ERROR_ invalid request","stack":"BadRequestError: _ERROR_ invalid request\n    at Object.<anonymous>.imageRouter.post (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/route/image-router.js:21:92)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/route.js:137:13)\n    at Immediate.<anonymous> (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/multer/lib/make-middleware.js:53:37)\n    at runCallback (timers.js:793:20)\n    at tryOnImmediate (timers.js:751:5)\n    at processImmediate [as _immediateCallback] (timers.js:722:5)","name":"BadRequestError","level":"info","timestamp":"2017-12-27T00:13:21.170Z"}
{"level":"info","message":"Repsonding with a ${error.status} status","timestamp":"2017-12-27T00:13:21.171Z"}
{"level":"info","message":"Processing : POST on : /images","timestamp":"2017-12-27T00:13:21.209Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-27T00:13:21.210Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/bearer-auth-middleware.js:11:13)\n    at new Promise (<anonymous>)\n    at args (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/bearer-auth-middleware.js:10:12)\n    at Object.<anonymous>.module.exports (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/bearer-auth-middleware.js:29:63)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:635:15\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:635:15\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/logger-middleware.js:8:10)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at query (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/application.js:174:10)\n    at Server.app (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","expose":true,"statusCode":401,"status":401,"level":"info","timestamp":"2017-12-27T00:13:21.210Z"}
{"level":"info","message":"Repsonding with a ${error.status} status","timestamp":"2017-12-27T00:13:21.213Z"}
{"level":"info","message":"Processing : GET on : /images/5a42e5a15e132f3286f96a67","timestamp":"2017-12-27T00:13:21.245Z"}
{"level":"info","message":"Processing : GET on : /images/5a40056e4bc15268d81faa6","timestamp":"2017-12-27T00:13:21.282Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-27T00:13:21.289Z"}
{"message":"Cast to ObjectId failed for value \"5a40056e4bc15268d81faa6\" at path \"_id\" for model \"image\"","stack":"CastError: Cast to ObjectId failed for value \"5a40056e4bc15268d81faa6\" at path \"_id\" for model \"image\"\n    at new CastError (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/query.js:1504:8)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/kareem/index.js:250:8\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"5a40056e4bc15268d81faa6\"","kind":"ObjectId","value":"5a40056e4bc15268d81faa6","path":"_id","level":"info","timestamp":"2017-12-27T00:13:21.289Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-27T00:13:21.291Z"}
{"level":"info","message":"Processing : GET on : /images/5a42e5a15e132f3286f96a6b","timestamp":"2017-12-27T00:13:21.340Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-27T00:13:21.340Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/bearer-auth-middleware.js:11:13)\n    at new Promise (<anonymous>)\n    at args (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/bearer-auth-middleware.js:10:12)\n    at Object.<anonymous>.module.exports (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/bearer-auth-middleware.js:29:63)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:281:22\n    at param (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:354:14)\n    at param (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:410:3)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:635:15\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:635:15\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/logger-middleware.js:8:10)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at query (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/application.js:174:10)\n    at Server.app (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","expose":true,"statusCode":401,"status":401,"level":"info","timestamp":"2017-12-27T00:13:21.340Z"}
{"level":"info","message":"Repsonding with a ${error.status} status","timestamp":"2017-12-27T00:13:21.343Z"}
{"level":"info","message":"Processing : DELETE on : /images/5a42e5a15e132f3286f96a6d","timestamp":"2017-12-27T00:13:21.397Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-27T00:13:21.429Z"}
{"message":"Missing required key 'Key' in params","stack":"MissingRequiredParameter: Missing required key 'Key' in params\n    at ParamValidator.fail (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/aws-sdk/lib/param_validator.js:50:37)\n    at ParamValidator.validateStructure (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/aws-sdk/lib/param_validator.js:61:14)\n    at ParamValidator.validateMember (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/aws-sdk/lib/param_validator.js:88:21)\n    at ParamValidator.validate (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/aws-sdk/lib/param_validator.js:34:10)\n    at features.constructor.<anonymous> (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/aws-sdk-mock/index.js:165:83)\n    at Function.invoke (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/sinon/lib/sinon/spy.js:176:59)\n    at features.constructor.proxy [as deleteObject] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/sinon/lib/sinon/spy.js:85:30)\n    at Object.<anonymous>.s3.remove.key [as remove] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/s3.js:33:19)\n    at Image.findByIdAndRemove.then.image (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/route/image-router.js:64:15)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","code":"MissingRequiredParameter","name":"MissingRequiredParameter","time":"2017-12-27T00:13:21.427Z","level":"info","timestamp":"2017-12-27T00:13:21.429Z"}
{"level":"info","message":"Responding with a 500 status code","timestamp":"2017-12-27T00:13:21.430Z"}
{"message":"Missing required key 'Key' in params","stack":"MissingRequiredParameter: Missing required key 'Key' in params\n    at ParamValidator.fail (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/aws-sdk/lib/param_validator.js:50:37)\n    at ParamValidator.validateStructure (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/aws-sdk/lib/param_validator.js:61:14)\n    at ParamValidator.validateMember (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/aws-sdk/lib/param_validator.js:88:21)\n    at ParamValidator.validate (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/aws-sdk/lib/param_validator.js:34:10)\n    at features.constructor.<anonymous> (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/aws-sdk-mock/index.js:165:83)\n    at Function.invoke (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/sinon/lib/sinon/spy.js:176:59)\n    at features.constructor.proxy [as deleteObject] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/sinon/lib/sinon/spy.js:85:30)\n    at Object.<anonymous>.s3.remove.key [as remove] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/s3.js:33:19)\n    at Image.findByIdAndRemove.then.image (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/route/image-router.js:64:15)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","code":"MissingRequiredParameter","name":"MissingRequiredParameter","time":"2017-12-27T00:13:21.427Z","level":"info","timestamp":"2017-12-27T00:13:21.430Z"}
{"level":"info","message":"server off","timestamp":"2017-12-27T00:13:21.443Z"}
{"level":"info","message":"server is listening on port 7000","timestamp":"2017-12-27T00:16:19.476Z"}
{"level":"info","message":"Processing : POST on : /images","timestamp":"2017-12-27T00:16:19.569Z"}
{"level":"info","message":"Processing : POST on : /images","timestamp":"2017-12-27T00:16:19.633Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-27T00:16:19.639Z"}
{"message":"_ERROR_ invalid request","stack":"BadRequestError: _ERROR_ invalid request\n    at Object.<anonymous>.imageRouter.post (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/route/image-router.js:21:92)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/route.js:137:13)\n    at Immediate.<anonymous> (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/multer/lib/make-middleware.js:53:37)\n    at runCallback (timers.js:793:20)\n    at tryOnImmediate (timers.js:751:5)\n    at processImmediate [as _immediateCallback] (timers.js:722:5)","name":"BadRequestError","level":"info","timestamp":"2017-12-27T00:16:19.639Z"}
{"level":"info","message":"Repsonding with a ${error.status} status","timestamp":"2017-12-27T00:16:19.640Z"}
{"level":"info","message":"Processing : POST on : /images","timestamp":"2017-12-27T00:16:19.665Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-27T00:16:19.666Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/bearer-auth-middleware.js:11:13)\n    at new Promise (<anonymous>)\n    at args (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/bearer-auth-middleware.js:10:12)\n    at Object.<anonymous>.module.exports (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/bearer-auth-middleware.js:29:63)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:635:15\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:635:15\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/logger-middleware.js:8:10)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at query (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/application.js:174:10)\n    at Server.app (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","expose":true,"statusCode":401,"status":401,"level":"info","timestamp":"2017-12-27T00:16:19.666Z"}
{"level":"info","message":"Repsonding with a ${error.status} status","timestamp":"2017-12-27T00:16:19.667Z"}
{"level":"info","message":"Processing : GET on : /images/5a42e653494bad33bb29501b","timestamp":"2017-12-27T00:16:19.692Z"}
{"level":"info","message":"Processing : GET on : /images/5a40056e4bc15268d81faa6","timestamp":"2017-12-27T00:16:19.719Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-27T00:16:19.722Z"}
{"message":"Cast to ObjectId failed for value \"5a40056e4bc15268d81faa6\" at path \"_id\" for model \"image\"","stack":"CastError: Cast to ObjectId failed for value \"5a40056e4bc15268d81faa6\" at path \"_id\" for model \"image\"\n    at new CastError (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/query.js:1504:8)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/kareem/index.js:250:8\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"5a40056e4bc15268d81faa6\"","kind":"ObjectId","value":"5a40056e4bc15268d81faa6","path":"_id","level":"info","timestamp":"2017-12-27T00:16:19.722Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-27T00:16:19.723Z"}
{"level":"info","message":"Processing : GET on : /images/5a42e653494bad33bb29501f","timestamp":"2017-12-27T00:16:19.761Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-27T00:16:19.763Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/bearer-auth-middleware.js:11:13)\n    at new Promise (<anonymous>)\n    at args (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/bearer-auth-middleware.js:10:12)\n    at Object.<anonymous>.module.exports (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/bearer-auth-middleware.js:29:63)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:281:22\n    at param (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:354:14)\n    at param (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:410:3)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:635:15\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:635:15\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/logger-middleware.js:8:10)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at query (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/application.js:174:10)\n    at Server.app (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","expose":true,"statusCode":401,"status":401,"level":"info","timestamp":"2017-12-27T00:16:19.763Z"}
{"level":"info","message":"Repsonding with a ${error.status} status","timestamp":"2017-12-27T00:16:19.765Z"}
{"level":"info","message":"Processing : DELETE on : /images/5a42e653494bad33bb295021","timestamp":"2017-12-27T00:16:19.795Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-27T00:16:19.802Z"}
{"message":"Missing required key 'Key' in params","stack":"MissingRequiredParameter: Missing required key 'Key' in params\n    at ParamValidator.fail (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/aws-sdk/lib/param_validator.js:50:37)\n    at ParamValidator.validateStructure (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/aws-sdk/lib/param_validator.js:61:14)\n    at ParamValidator.validateMember (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/aws-sdk/lib/param_validator.js:88:21)\n    at ParamValidator.validate (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/aws-sdk/lib/param_validator.js:34:10)\n    at features.constructor.<anonymous> (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/aws-sdk-mock/index.js:165:83)\n    at Function.invoke (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/sinon/lib/sinon/spy.js:176:59)\n    at features.constructor.proxy [as deleteObject] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/sinon/lib/sinon/spy.js:85:30)\n    at Object.<anonymous>.s3.remove.key [as remove] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/s3.js:33:19)\n    at Image.findByIdAndRemove.then.image (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/route/image-router.js:65:15)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","code":"MissingRequiredParameter","name":"MissingRequiredParameter","time":"2017-12-27T00:16:19.801Z","level":"info","timestamp":"2017-12-27T00:16:19.803Z"}
{"level":"info","message":"Responding with a 500 status code","timestamp":"2017-12-27T00:16:19.803Z"}
{"message":"Missing required key 'Key' in params","stack":"MissingRequiredParameter: Missing required key 'Key' in params\n    at ParamValidator.fail (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/aws-sdk/lib/param_validator.js:50:37)\n    at ParamValidator.validateStructure (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/aws-sdk/lib/param_validator.js:61:14)\n    at ParamValidator.validateMember (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/aws-sdk/lib/param_validator.js:88:21)\n    at ParamValidator.validate (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/aws-sdk/lib/param_validator.js:34:10)\n    at features.constructor.<anonymous> (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/aws-sdk-mock/index.js:165:83)\n    at Function.invoke (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/sinon/lib/sinon/spy.js:176:59)\n    at features.constructor.proxy [as deleteObject] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/sinon/lib/sinon/spy.js:85:30)\n    at Object.<anonymous>.s3.remove.key [as remove] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/s3.js:33:19)\n    at Image.findByIdAndRemove.then.image (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/route/image-router.js:65:15)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","code":"MissingRequiredParameter","name":"MissingRequiredParameter","time":"2017-12-27T00:16:19.801Z","level":"info","timestamp":"2017-12-27T00:16:19.803Z"}
{"level":"info","message":"server off","timestamp":"2017-12-27T00:16:19.808Z"}
{"level":"info","message":"server is listening on port 7000","timestamp":"2017-12-27T00:18:19.670Z"}
{"level":"info","message":"Processing : POST on : /images","timestamp":"2017-12-27T00:18:19.752Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-27T00:18:19.771Z"}
{"message":"image validation failed: key: Path `key` is required.","errors":{"key":{"message":"Path `key` is required.","name":"ValidatorError","properties":{"type":"required","message":"Path `{PATH}` is required.","path":"key"},"kind":"required","path":"key","$isValidatorError":true}},"_message":"image validation failed","stack":"ValidationError: key: Path `key` is required.\n    at new ValidationError (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/document.js:1673:32)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/document.js:1545:17\n    at validate (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/schematype.js:784:7)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/schematype.js:829:11\n    at Array.forEach (<anonymous>)\n    at SchemaString.Object.<anonymous>.SchemaType.doValidate (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/schematype.js:789:19)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/document.js:1543:9\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"ValidationError","level":"info","timestamp":"2017-12-27T00:18:19.771Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-27T00:18:19.772Z"}
{"level":"info","message":"Processing : POST on : /images","timestamp":"2017-12-27T00:18:19.810Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-27T00:18:19.818Z"}
{"message":"_ERROR_ invalid request","stack":"BadRequestError: _ERROR_ invalid request\n    at Object.<anonymous>.imageRouter.post (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/route/image-router.js:21:92)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/route.js:137:13)\n    at Immediate.<anonymous> (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/multer/lib/make-middleware.js:53:37)\n    at runCallback (timers.js:793:20)\n    at tryOnImmediate (timers.js:751:5)\n    at processImmediate [as _immediateCallback] (timers.js:722:5)","name":"BadRequestError","level":"info","timestamp":"2017-12-27T00:18:19.818Z"}
{"level":"info","message":"Repsonding with a ${error.status} status","timestamp":"2017-12-27T00:18:19.818Z"}
{"level":"info","message":"Processing : POST on : /images","timestamp":"2017-12-27T00:18:19.847Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-27T00:18:19.848Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/bearer-auth-middleware.js:11:13)\n    at new Promise (<anonymous>)\n    at args (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/bearer-auth-middleware.js:10:12)\n    at Object.<anonymous>.module.exports (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/bearer-auth-middleware.js:29:63)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:635:15\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:635:15\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/logger-middleware.js:8:10)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at query (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/application.js:174:10)\n    at Server.app (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","expose":true,"statusCode":401,"status":401,"level":"info","timestamp":"2017-12-27T00:18:19.848Z"}
{"level":"info","message":"Repsonding with a ${error.status} status","timestamp":"2017-12-27T00:18:19.850Z"}
{"level":"info","message":"server off","timestamp":"2017-12-27T00:18:19.957Z"}
{"level":"info","message":"server is listening on port 7000","timestamp":"2017-12-27T00:19:02.088Z"}
{"level":"info","message":"Processing : POST on : /images","timestamp":"2017-12-27T00:19:02.169Z"}
{"level":"info","message":"Processing : POST on : /images","timestamp":"2017-12-27T00:19:02.229Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-27T00:19:02.240Z"}
{"message":"_ERROR_ invalid request","stack":"BadRequestError: _ERROR_ invalid request\n    at Object.<anonymous>.imageRouter.post (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/route/image-router.js:21:92)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/route.js:137:13)\n    at Immediate.<anonymous> (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/multer/lib/make-middleware.js:53:37)\n    at runCallback (timers.js:793:20)\n    at tryOnImmediate (timers.js:751:5)\n    at processImmediate [as _immediateCallback] (timers.js:722:5)","name":"BadRequestError","level":"info","timestamp":"2017-12-27T00:19:02.240Z"}
{"level":"info","message":"Repsonding with a ${error.status} status","timestamp":"2017-12-27T00:19:02.240Z"}
{"level":"info","message":"Processing : POST on : /images","timestamp":"2017-12-27T00:19:02.267Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-27T00:19:02.268Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/bearer-auth-middleware.js:11:13)\n    at new Promise (<anonymous>)\n    at args (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/bearer-auth-middleware.js:10:12)\n    at Object.<anonymous>.module.exports (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/bearer-auth-middleware.js:29:63)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:635:15\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:635:15\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/logger-middleware.js:8:10)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at query (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/application.js:174:10)\n    at Server.app (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","expose":true,"statusCode":401,"status":401,"level":"info","timestamp":"2017-12-27T00:19:02.268Z"}
{"level":"info","message":"Repsonding with a ${error.status} status","timestamp":"2017-12-27T00:19:02.270Z"}
{"level":"info","message":"Processing : GET on : /images/5a42e6f6ecab9f34d9f7b42e","timestamp":"2017-12-27T00:19:02.295Z"}
{"level":"info","message":"Processing : GET on : /images/5a40056e4bc15268d81faa6","timestamp":"2017-12-27T00:19:02.323Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-27T00:19:02.326Z"}
{"message":"Cast to ObjectId failed for value \"5a40056e4bc15268d81faa6\" at path \"_id\" for model \"image\"","stack":"CastError: Cast to ObjectId failed for value \"5a40056e4bc15268d81faa6\" at path \"_id\" for model \"image\"\n    at new CastError (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/query.js:1504:8)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/kareem/index.js:250:8\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"5a40056e4bc15268d81faa6\"","kind":"ObjectId","value":"5a40056e4bc15268d81faa6","path":"_id","level":"info","timestamp":"2017-12-27T00:19:02.326Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-27T00:19:02.327Z"}
{"level":"info","message":"Processing : GET on : /images/5a42e6f6ecab9f34d9f7b432","timestamp":"2017-12-27T00:19:02.353Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-27T00:19:02.354Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/bearer-auth-middleware.js:11:13)\n    at new Promise (<anonymous>)\n    at args (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/bearer-auth-middleware.js:10:12)\n    at Object.<anonymous>.module.exports (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/bearer-auth-middleware.js:29:63)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:281:22\n    at param (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:354:14)\n    at param (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:410:3)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:635:15\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:635:15\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/logger-middleware.js:8:10)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at query (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/application.js:174:10)\n    at Server.app (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","expose":true,"statusCode":401,"status":401,"level":"info","timestamp":"2017-12-27T00:19:02.354Z"}
{"level":"info","message":"Repsonding with a ${error.status} status","timestamp":"2017-12-27T00:19:02.358Z"}
{"level":"info","message":"Processing : DELETE on : /images/5a42e6f6ecab9f34d9f7b434","timestamp":"2017-12-27T00:19:02.392Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-27T00:19:02.407Z"}
{"message":"Missing required key 'Key' in params","stack":"MissingRequiredParameter: Missing required key 'Key' in params\n    at ParamValidator.fail (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/aws-sdk/lib/param_validator.js:50:37)\n    at ParamValidator.validateStructure (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/aws-sdk/lib/param_validator.js:61:14)\n    at ParamValidator.validateMember (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/aws-sdk/lib/param_validator.js:88:21)\n    at ParamValidator.validate (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/aws-sdk/lib/param_validator.js:34:10)\n    at features.constructor.<anonymous> (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/aws-sdk-mock/index.js:165:83)\n    at Function.invoke (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/sinon/lib/sinon/spy.js:176:59)\n    at features.constructor.proxy [as deleteObject] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/sinon/lib/sinon/spy.js:85:30)\n    at Object.<anonymous>.s3.remove.key [as remove] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/s3.js:33:19)\n    at Image.findByIdAndRemove.then.image (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/route/image-router.js:65:15)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","code":"MissingRequiredParameter","name":"MissingRequiredParameter","time":"2017-12-27T00:19:02.403Z","level":"info","timestamp":"2017-12-27T00:19:02.407Z"}
{"level":"info","message":"Responding with a 500 status code","timestamp":"2017-12-27T00:19:02.412Z"}
{"message":"Missing required key 'Key' in params","stack":"MissingRequiredParameter: Missing required key 'Key' in params\n    at ParamValidator.fail (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/aws-sdk/lib/param_validator.js:50:37)\n    at ParamValidator.validateStructure (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/aws-sdk/lib/param_validator.js:61:14)\n    at ParamValidator.validateMember (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/aws-sdk/lib/param_validator.js:88:21)\n    at ParamValidator.validate (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/aws-sdk/lib/param_validator.js:34:10)\n    at features.constructor.<anonymous> (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/aws-sdk-mock/index.js:165:83)\n    at Function.invoke (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/sinon/lib/sinon/spy.js:176:59)\n    at features.constructor.proxy [as deleteObject] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/sinon/lib/sinon/spy.js:85:30)\n    at Object.<anonymous>.s3.remove.key [as remove] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/s3.js:33:19)\n    at Image.findByIdAndRemove.then.image (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/route/image-router.js:65:15)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","code":"MissingRequiredParameter","name":"MissingRequiredParameter","time":"2017-12-27T00:19:02.403Z","level":"info","timestamp":"2017-12-27T00:19:02.413Z"}
{"level":"info","message":"server off","timestamp":"2017-12-27T00:19:02.418Z"}
{"level":"info","message":"server is listening on port 7000","timestamp":"2017-12-27T00:23:30.074Z"}
{"level":"info","message":"Processing : POST on : /images","timestamp":"2017-12-27T00:23:30.235Z"}
{"level":"info","message":"Processing : POST on : /images","timestamp":"2017-12-27T00:23:30.340Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-27T00:23:30.357Z"}
{"message":"_ERROR_ invalid request","stack":"BadRequestError: _ERROR_ invalid request\n    at Object.<anonymous>.imageRouter.post (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/route/image-router.js:21:92)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/route.js:137:13)\n    at Immediate.<anonymous> (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/multer/lib/make-middleware.js:53:37)\n    at runCallback (timers.js:793:20)\n    at tryOnImmediate (timers.js:751:5)\n    at processImmediate [as _immediateCallback] (timers.js:722:5)","name":"BadRequestError","level":"info","timestamp":"2017-12-27T00:23:30.357Z"}
{"level":"info","message":"Repsonding with a ${error.status} status","timestamp":"2017-12-27T00:23:30.358Z"}
{"level":"info","message":"Processing : POST on : /images","timestamp":"2017-12-27T00:23:30.400Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-27T00:23:30.401Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/bearer-auth-middleware.js:11:13)\n    at new Promise (<anonymous>)\n    at args (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/bearer-auth-middleware.js:10:12)\n    at Object.<anonymous>.module.exports (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/bearer-auth-middleware.js:29:63)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:635:15\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:635:15\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/logger-middleware.js:8:10)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at query (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/application.js:174:10)\n    at Server.app (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","expose":true,"statusCode":401,"status":401,"level":"info","timestamp":"2017-12-27T00:23:30.401Z"}
{"level":"info","message":"Repsonding with a ${error.status} status","timestamp":"2017-12-27T00:23:30.403Z"}
{"level":"info","message":"Processing : GET on : /images/5a42e802d1771035feac14c5","timestamp":"2017-12-27T00:23:30.441Z"}
{"level":"info","message":"Processing : GET on : /images/5a40056e4bc15268d81faa6","timestamp":"2017-12-27T00:23:30.499Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-27T00:23:30.505Z"}
{"message":"Cast to ObjectId failed for value \"5a40056e4bc15268d81faa6\" at path \"_id\" for model \"image\"","stack":"CastError: Cast to ObjectId failed for value \"5a40056e4bc15268d81faa6\" at path \"_id\" for model \"image\"\n    at new CastError (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/query.js:1504:8)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/kareem/index.js:250:8\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"5a40056e4bc15268d81faa6\"","kind":"ObjectId","value":"5a40056e4bc15268d81faa6","path":"_id","level":"info","timestamp":"2017-12-27T00:23:30.506Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-27T00:23:30.513Z"}
{"level":"info","message":"Processing : GET on : /images/5a42e802d1771035feac14c9","timestamp":"2017-12-27T00:23:30.583Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-27T00:23:30.584Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/bearer-auth-middleware.js:11:13)\n    at new Promise (<anonymous>)\n    at args (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/bearer-auth-middleware.js:10:12)\n    at Object.<anonymous>.module.exports (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/bearer-auth-middleware.js:29:63)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:281:22\n    at param (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:354:14)\n    at param (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:410:3)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:635:15\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:635:15\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/logger-middleware.js:8:10)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at query (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/application.js:174:10)\n    at Server.app (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","expose":true,"statusCode":401,"status":401,"level":"info","timestamp":"2017-12-27T00:23:30.584Z"}
{"level":"info","message":"Repsonding with a ${error.status} status","timestamp":"2017-12-27T00:23:30.587Z"}
{"level":"info","message":"Processing : DELETE on : /images/5a42e802d1771035feac14cb","timestamp":"2017-12-27T00:23:30.643Z"}
{"level":"info","message":"server off","timestamp":"2017-12-27T00:23:30.665Z"}
{"level":"info","message":"server is listening on port 7000","timestamp":"2017-12-27T00:27:51.930Z"}
{"level":"info","message":"Processing : POST on : /images","timestamp":"2017-12-27T00:27:52.011Z"}
{"level":"info","message":"Processing : POST on : /images","timestamp":"2017-12-27T00:27:52.068Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-27T00:27:52.075Z"}
{"message":"_ERROR_ invalid request","stack":"BadRequestError: _ERROR_ invalid request\n    at Object.<anonymous>.imageRouter.post (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/route/image-router.js:21:92)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/route.js:137:13)\n    at Immediate.<anonymous> (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/multer/lib/make-middleware.js:53:37)\n    at runCallback (timers.js:793:20)\n    at tryOnImmediate (timers.js:751:5)\n    at processImmediate [as _immediateCallback] (timers.js:722:5)","name":"BadRequestError","level":"info","timestamp":"2017-12-27T00:27:52.075Z"}
{"level":"info","message":"Repsonding with a ${error.status} status","timestamp":"2017-12-27T00:27:52.075Z"}
{"level":"info","message":"Processing : POST on : /images","timestamp":"2017-12-27T00:27:52.102Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-27T00:27:52.103Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/bearer-auth-middleware.js:11:13)\n    at new Promise (<anonymous>)\n    at args (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/bearer-auth-middleware.js:10:12)\n    at Object.<anonymous>.module.exports (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/bearer-auth-middleware.js:29:63)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:635:15\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:635:15\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/logger-middleware.js:8:10)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at query (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/application.js:174:10)\n    at Server.app (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","expose":true,"statusCode":401,"status":401,"level":"info","timestamp":"2017-12-27T00:27:52.103Z"}
{"level":"info","message":"Repsonding with a ${error.status} status","timestamp":"2017-12-27T00:27:52.105Z"}
{"level":"info","message":"Processing : GET on : /images/5a42e908d42db437cdacc8a5","timestamp":"2017-12-27T00:27:52.132Z"}
{"level":"info","message":"Processing : GET on : /images/5a40056e4bc15268d81faa6","timestamp":"2017-12-27T00:27:52.162Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-27T00:27:52.165Z"}
{"message":"Cast to ObjectId failed for value \"5a40056e4bc15268d81faa6\" at path \"_id\" for model \"image\"","stack":"CastError: Cast to ObjectId failed for value \"5a40056e4bc15268d81faa6\" at path \"_id\" for model \"image\"\n    at new CastError (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/query.js:1504:8)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/kareem/index.js:250:8\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"5a40056e4bc15268d81faa6\"","kind":"ObjectId","value":"5a40056e4bc15268d81faa6","path":"_id","level":"info","timestamp":"2017-12-27T00:27:52.165Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-27T00:27:52.166Z"}
{"level":"info","message":"Processing : GET on : /images/5a42e908d42db437cdacc8a9","timestamp":"2017-12-27T00:27:52.192Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-27T00:27:52.193Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/bearer-auth-middleware.js:11:13)\n    at new Promise (<anonymous>)\n    at args (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/bearer-auth-middleware.js:10:12)\n    at Object.<anonymous>.module.exports (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/bearer-auth-middleware.js:29:63)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:281:22\n    at param (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:354:14)\n    at param (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:410:3)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:635:15\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:635:15\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/logger-middleware.js:8:10)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at query (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/application.js:174:10)\n    at Server.app (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","expose":true,"statusCode":401,"status":401,"level":"info","timestamp":"2017-12-27T00:27:52.193Z"}
{"level":"info","message":"Repsonding with a ${error.status} status","timestamp":"2017-12-27T00:27:52.195Z"}
{"level":"info","message":"Processing : DELETE on : /images/5a42e908d42db437cdacc8ab","timestamp":"2017-12-27T00:27:52.227Z"}
{"level":"info","message":"Processing : GET on : /images/falseID","timestamp":"2017-12-27T00:27:52.262Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-27T00:27:52.264Z"}
{"message":"Cast to ObjectId failed for value \"falseID\" at path \"_id\" for model \"image\"","stack":"CastError: Cast to ObjectId failed for value \"falseID\" at path \"_id\" for model \"image\"\n    at new CastError (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/query.js:1504:8)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/kareem/index.js:250:8\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"falseID\"","kind":"ObjectId","value":"falseID","path":"_id","level":"info","timestamp":"2017-12-27T00:27:52.264Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-27T00:27:52.265Z"}
{"level":"info","message":"server off","timestamp":"2017-12-27T00:27:52.268Z"}
{"level":"info","message":"server is listening on port 7000","timestamp":"2017-12-27T00:29:08.156Z"}
{"level":"info","message":"Processing : POST on : /images","timestamp":"2017-12-27T00:29:08.238Z"}
{"level":"info","message":"Processing : POST on : /images","timestamp":"2017-12-27T00:29:08.295Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-27T00:29:08.315Z"}
{"message":"_ERROR_ invalid request","stack":"BadRequestError: _ERROR_ invalid request\n    at Object.<anonymous>.imageRouter.post (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/route/image-router.js:21:92)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/route.js:137:13)\n    at Immediate.<anonymous> (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/multer/lib/make-middleware.js:53:37)\n    at runCallback (timers.js:793:20)\n    at tryOnImmediate (timers.js:751:5)\n    at processImmediate [as _immediateCallback] (timers.js:722:5)","name":"BadRequestError","level":"info","timestamp":"2017-12-27T00:29:08.316Z"}
{"level":"info","message":"Repsonding with a ${error.status} status","timestamp":"2017-12-27T00:29:08.316Z"}
{"level":"info","message":"Processing : POST on : /images","timestamp":"2017-12-27T00:29:08.341Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-27T00:29:08.343Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/bearer-auth-middleware.js:11:13)\n    at new Promise (<anonymous>)\n    at args (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/bearer-auth-middleware.js:10:12)\n    at Object.<anonymous>.module.exports (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/bearer-auth-middleware.js:29:63)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:635:15\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:635:15\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/logger-middleware.js:8:10)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at query (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/application.js:174:10)\n    at Server.app (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","expose":true,"statusCode":401,"status":401,"level":"info","timestamp":"2017-12-27T00:29:08.343Z"}
{"level":"info","message":"Repsonding with a ${error.status} status","timestamp":"2017-12-27T00:29:08.345Z"}
{"level":"info","message":"Processing : GET on : /images/5a42e954da5d4c38feb5ad79","timestamp":"2017-12-27T00:29:08.375Z"}
{"level":"info","message":"Processing : GET on : /images/5a40056e4bc15268d81faa6","timestamp":"2017-12-27T00:29:08.402Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-27T00:29:08.405Z"}
{"message":"Cast to ObjectId failed for value \"5a40056e4bc15268d81faa6\" at path \"_id\" for model \"image\"","stack":"CastError: Cast to ObjectId failed for value \"5a40056e4bc15268d81faa6\" at path \"_id\" for model \"image\"\n    at new CastError (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/query.js:1504:8)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/kareem/index.js:250:8\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"5a40056e4bc15268d81faa6\"","kind":"ObjectId","value":"5a40056e4bc15268d81faa6","path":"_id","level":"info","timestamp":"2017-12-27T00:29:08.405Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-27T00:29:08.408Z"}
{"level":"info","message":"Processing : GET on : /images/5a42e954da5d4c38feb5ad7d","timestamp":"2017-12-27T00:29:08.441Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-27T00:29:08.442Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/bearer-auth-middleware.js:11:13)\n    at new Promise (<anonymous>)\n    at args (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/bearer-auth-middleware.js:10:12)\n    at Object.<anonymous>.module.exports (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/bearer-auth-middleware.js:29:63)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:281:22\n    at param (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:354:14)\n    at param (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:410:3)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:635:15\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:635:15\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/logger-middleware.js:8:10)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at query (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/application.js:174:10)\n    at Server.app (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","expose":true,"statusCode":401,"status":401,"level":"info","timestamp":"2017-12-27T00:29:08.442Z"}
{"level":"info","message":"Repsonding with a ${error.status} status","timestamp":"2017-12-27T00:29:08.443Z"}
{"level":"info","message":"Processing : DELETE on : /images/5a42e954da5d4c38feb5ad7f","timestamp":"2017-12-27T00:29:08.469Z"}
{"level":"info","message":"Processing : DELETE on : /images/falseID","timestamp":"2017-12-27T00:29:08.501Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-27T00:29:08.503Z"}
{"message":"Cast to ObjectId failed for value \"falseID\" at path \"_id\" for model \"image\"","stack":"CastError: Cast to ObjectId failed for value \"falseID\" at path \"_id\" for model \"image\"\n    at new CastError (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOneAndRemove (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/query.js:2248:8)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/kareem/index.js:250:8\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"falseID\"","kind":"ObjectId","value":"falseID","path":"_id","level":"info","timestamp":"2017-12-27T00:29:08.503Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-27T00:29:08.504Z"}
{"level":"info","message":"Processing : DELETE on : /images/5a42e954da5d4c38feb5ad83","timestamp":"2017-12-27T00:29:08.538Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-27T00:29:08.539Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/bearer-auth-middleware.js:11:13)\n    at new Promise (<anonymous>)\n    at args (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/bearer-auth-middleware.js:10:12)\n    at Object.<anonymous>.module.exports (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/bearer-auth-middleware.js:29:63)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:281:22\n    at param (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:354:14)\n    at param (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:410:3)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:635:15\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:635:15\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/logger-middleware.js:8:10)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at query (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/application.js:174:10)\n    at Server.app (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","expose":true,"statusCode":401,"status":401,"level":"info","timestamp":"2017-12-27T00:29:08.539Z"}
{"level":"info","message":"Repsonding with a ${error.status} status","timestamp":"2017-12-27T00:29:08.540Z"}
{"level":"info","message":"server off","timestamp":"2017-12-27T00:29:08.545Z"}
{"level":"info","message":"server is listening on port 7000","timestamp":"2017-12-27T00:34:16.329Z"}
{"level":"info","message":"Processing : POST on : /images","timestamp":"2017-12-27T00:34:16.407Z"}
{"level":"info","message":"Processing : POST on : /images","timestamp":"2017-12-27T00:34:16.464Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-27T00:34:16.472Z"}
{"message":"_ERROR_ invalid request","stack":"BadRequestError: _ERROR_ invalid request\n    at Object.<anonymous>.imageRouter.post (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/route/image-router.js:21:92)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/route.js:137:13)\n    at Immediate.<anonymous> (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/multer/lib/make-middleware.js:53:37)\n    at runCallback (timers.js:793:20)\n    at tryOnImmediate (timers.js:751:5)\n    at processImmediate [as _immediateCallback] (timers.js:722:5)","name":"BadRequestError","level":"info","timestamp":"2017-12-27T00:34:16.472Z"}
{"level":"info","message":"Repsonding with a ${error.status} status","timestamp":"2017-12-27T00:34:16.472Z"}
{"level":"info","message":"Processing : POST on : /images","timestamp":"2017-12-27T00:34:16.498Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-27T00:34:16.499Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/bearer-auth-middleware.js:11:13)\n    at new Promise (<anonymous>)\n    at args (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/bearer-auth-middleware.js:10:12)\n    at Object.<anonymous>.module.exports (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/bearer-auth-middleware.js:29:63)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:635:15\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:635:15\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/logger-middleware.js:8:10)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at query (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/application.js:174:10)\n    at Server.app (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","expose":true,"statusCode":401,"status":401,"level":"info","timestamp":"2017-12-27T00:34:16.500Z"}
{"level":"info","message":"Repsonding with a ${error.status} status","timestamp":"2017-12-27T00:34:16.507Z"}
{"level":"info","message":"Processing : GET on : /images/5a42ea88f146213cf16068a3","timestamp":"2017-12-27T00:34:16.534Z"}
{"level":"info","message":"Processing : GET on : /images/5a40056e4bc15268d81faa6","timestamp":"2017-12-27T00:34:16.564Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-27T00:34:16.567Z"}
{"message":"Cast to ObjectId failed for value \"5a40056e4bc15268d81faa6\" at path \"_id\" for model \"image\"","stack":"CastError: Cast to ObjectId failed for value \"5a40056e4bc15268d81faa6\" at path \"_id\" for model \"image\"\n    at new CastError (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/query.js:1504:8)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/kareem/index.js:250:8\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"5a40056e4bc15268d81faa6\"","kind":"ObjectId","value":"5a40056e4bc15268d81faa6","path":"_id","level":"info","timestamp":"2017-12-27T00:34:16.567Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-27T00:34:16.569Z"}
{"level":"info","message":"Processing : GET on : /images/5a42ea88f146213cf16068a7","timestamp":"2017-12-27T00:34:16.593Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-27T00:34:16.593Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/bearer-auth-middleware.js:11:13)\n    at new Promise (<anonymous>)\n    at args (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/bearer-auth-middleware.js:10:12)\n    at Object.<anonymous>.module.exports (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/bearer-auth-middleware.js:29:63)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:281:22\n    at param (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:354:14)\n    at param (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:410:3)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:635:15\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:635:15\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/logger-middleware.js:8:10)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at query (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/application.js:174:10)\n    at Server.app (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","expose":true,"statusCode":401,"status":401,"level":"info","timestamp":"2017-12-27T00:34:16.593Z"}
{"level":"info","message":"Repsonding with a ${error.status} status","timestamp":"2017-12-27T00:34:16.594Z"}
{"level":"info","message":"Processing : DELETE on : /images/5a42ea88f146213cf16068a9","timestamp":"2017-12-27T00:34:16.619Z"}
{"level":"info","message":"Processing : DELETE on : /images/falseID","timestamp":"2017-12-27T00:34:16.649Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-27T00:34:16.651Z"}
{"message":"Cast to ObjectId failed for value \"falseID\" at path \"_id\" for model \"image\"","stack":"CastError: Cast to ObjectId failed for value \"falseID\" at path \"_id\" for model \"image\"\n    at new CastError (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOneAndRemove (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/query.js:2248:8)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/kareem/index.js:250:8\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"falseID\"","kind":"ObjectId","value":"falseID","path":"_id","level":"info","timestamp":"2017-12-27T00:34:16.651Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-27T00:34:16.651Z"}
{"level":"info","message":"Processing : DELETE on : /images/5a42ea88f146213cf16068ad","timestamp":"2017-12-27T00:34:16.677Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-27T00:34:16.678Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/bearer-auth-middleware.js:11:13)\n    at new Promise (<anonymous>)\n    at args (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/bearer-auth-middleware.js:10:12)\n    at Object.<anonymous>.module.exports (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/bearer-auth-middleware.js:29:63)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:281:22\n    at param (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:354:14)\n    at param (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:410:3)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:635:15\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:635:15\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/logger-middleware.js:8:10)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at query (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/application.js:174:10)\n    at Server.app (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","expose":true,"statusCode":401,"status":401,"level":"info","timestamp":"2017-12-27T00:34:16.678Z"}
{"level":"info","message":"Repsonding with a ${error.status} status","timestamp":"2017-12-27T00:34:16.679Z"}
{"level":"info","message":"server off","timestamp":"2017-12-27T00:34:16.681Z"}
{"level":"info","message":"server is listening on port 7000","timestamp":"2017-12-27T00:34:17.066Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-27T00:34:17.074Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-27T00:34:17.113Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-27T00:34:17.113Z"}
{"message":"__ERROR__ username, email, and password required to create an account","stack":"BadRequestError: __ERROR__ username, email, and password required to create an account\n    at Object.<anonymous>.accountRouter.post (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/route/account-router.js:14:91)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/route.js:137:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/raw-body/index.js:224:16)\n    at done (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-27T00:34:17.113Z"}
{"level":"info","message":"Repsonding with a ${error.status} status","timestamp":"2017-12-27T00:34:17.115Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-27T00:34:17.119Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-27T00:34:17.142Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-27T00:34:17.160Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"stupid@stupider.com\" }","op":{"username":"stupid","email":"stupid@stupider.com","passwordHash":"$2a$08$wM8GqFvbQOaWzuSyh1K5Je4ULvJunfHPhr.aSOBmW.r7l5FVWBYIC","tokenSeed":"9f5f951b860e0c871920da32a23e44c0a1b16cfccf141e4acdbed9f52ffc6859f1577b7632441aa54f37e07d14ba36cba242c3dfe06695b2090d92aad286c1a2","_id":"5a42ea89443bb53cf10afb31","created":"2017-12-27T00:34:17.159Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-27T00:34:17.163Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-27T00:34:17.187Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-27T00:34:17.231Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-27T00:34:17.231Z"}
{"message":"__ERROR__ username and password required","stack":"BadRequestError: __ERROR__ username and password required\n    at Object.<anonymous>.module.exports (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/basic-auth-middleware.js:20:90)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/logger-middleware.js:8:10)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at query (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/application.js:174:10)\n    at Server.app (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-27T00:34:17.231Z"}
{"level":"info","message":"Repsonding with a ${error.status} status","timestamp":"2017-12-27T00:34:17.233Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-27T00:34:17.257Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-27T00:34:17.258Z"}
{"message":"__ERROR__ not found","stack":"NotFoundError: __ERROR__ not found\n    at Account.findOne.then.account (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/basic-auth-middleware.js:25:86)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-27T00:34:17.259Z"}
{"level":"info","message":"Repsonding with a ${error.status} status","timestamp":"2017-12-27T00:34:17.259Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-27T00:34:17.280Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-27T00:34:17.299Z"}
{"message":"__AUTH__ incorrect username or password","stack":"UnauthorizedError: __AUTH__ incorrect username or password\n    at bcrypt.compare.then.response (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/model/account.js:40:86)\n    at <anonymous>","name":"UnauthorizedError","level":"info","timestamp":"2017-12-27T00:34:17.299Z"}
{"level":"info","message":"Repsonding with a ${error.status} status","timestamp":"2017-12-27T00:34:17.299Z"}
{"level":"info","message":"server off","timestamp":"2017-12-27T00:34:17.301Z"}
{"level":"info","message":"server is listening on port 7000","timestamp":"2017-12-27T00:34:17.685Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-27T00:34:17.780Z"}
{"level":"info","message":"Processing : GET on : /profiles/5a42ea890beda03cf1e1d9d9","timestamp":"2017-12-27T00:34:17.816Z"}
{"level":"info","message":"server off","timestamp":"2017-12-27T00:34:17.823Z"}
{"level":"info","message":"server is listening on port 7000","timestamp":"2017-12-27T00:56:09.434Z"}
{"level":"info","message":"Processing : POST on : /images","timestamp":"2017-12-27T00:56:09.515Z"}
{"level":"info","message":"Processing : POST on : /images","timestamp":"2017-12-27T00:56:09.573Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-27T00:56:09.580Z"}
{"message":"_ERROR_ invalid request","stack":"BadRequestError: _ERROR_ invalid request\n    at Object.<anonymous>.imageRouter.post (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/route/image-router.js:21:92)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/route.js:137:13)\n    at Immediate.<anonymous> (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/multer/lib/make-middleware.js:53:37)\n    at runCallback (timers.js:793:20)\n    at tryOnImmediate (timers.js:751:5)\n    at processImmediate [as _immediateCallback] (timers.js:722:5)","name":"BadRequestError","level":"info","timestamp":"2017-12-27T00:56:09.580Z"}
{"level":"info","message":"Repsonding with a ${error.status} status","timestamp":"2017-12-27T00:56:09.581Z"}
{"level":"info","message":"Processing : POST on : /images","timestamp":"2017-12-27T00:56:09.609Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-27T00:56:09.610Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/bearer-auth-middleware.js:11:13)\n    at new Promise (<anonymous>)\n    at args (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/bearer-auth-middleware.js:10:12)\n    at Object.<anonymous>.module.exports (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/bearer-auth-middleware.js:29:63)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:635:15\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:635:15\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/logger-middleware.js:8:10)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at query (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/application.js:174:10)\n    at Server.app (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","expose":true,"statusCode":401,"status":401,"level":"info","timestamp":"2017-12-27T00:56:09.610Z"}
{"level":"info","message":"Repsonding with a ${error.status} status","timestamp":"2017-12-27T00:56:09.612Z"}
{"level":"info","message":"Processing : GET on : /images/5a42efa94d75da4deb4a6ef0","timestamp":"2017-12-27T00:56:09.638Z"}
{"level":"info","message":"Processing : GET on : /images/5a40056e4bc15268d81faa6","timestamp":"2017-12-27T00:56:09.664Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-27T00:56:09.667Z"}
{"message":"Cast to ObjectId failed for value \"5a40056e4bc15268d81faa6\" at path \"_id\" for model \"image\"","stack":"CastError: Cast to ObjectId failed for value \"5a40056e4bc15268d81faa6\" at path \"_id\" for model \"image\"\n    at new CastError (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/query.js:1504:8)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/kareem/index.js:250:8\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"5a40056e4bc15268d81faa6\"","kind":"ObjectId","value":"5a40056e4bc15268d81faa6","path":"_id","level":"info","timestamp":"2017-12-27T00:56:09.667Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-27T00:56:09.668Z"}
{"level":"info","message":"Processing : GET on : /images/5a42efa94d75da4deb4a6ef4","timestamp":"2017-12-27T00:56:09.693Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-27T00:56:09.694Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/bearer-auth-middleware.js:11:13)\n    at new Promise (<anonymous>)\n    at args (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/bearer-auth-middleware.js:10:12)\n    at Object.<anonymous>.module.exports (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/bearer-auth-middleware.js:29:63)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:281:22\n    at param (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:354:14)\n    at param (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:410:3)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:635:15\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:635:15\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/logger-middleware.js:8:10)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at query (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/application.js:174:10)\n    at Server.app (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","expose":true,"statusCode":401,"status":401,"level":"info","timestamp":"2017-12-27T00:56:09.694Z"}
{"level":"info","message":"Repsonding with a ${error.status} status","timestamp":"2017-12-27T00:56:09.695Z"}
{"level":"info","message":"Processing : DELETE on : /images/5a42efa94d75da4deb4a6ef6","timestamp":"2017-12-27T00:56:09.718Z"}
{"level":"info","message":"Processing : DELETE on : /images/falseID","timestamp":"2017-12-27T00:56:09.747Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-27T00:56:09.749Z"}
{"message":"Cast to ObjectId failed for value \"falseID\" at path \"_id\" for model \"image\"","stack":"CastError: Cast to ObjectId failed for value \"falseID\" at path \"_id\" for model \"image\"\n    at new CastError (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOneAndRemove (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/mongoose/lib/query.js:2248:8)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/kareem/index.js:250:8\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"falseID\"","kind":"ObjectId","value":"falseID","path":"_id","level":"info","timestamp":"2017-12-27T00:56:09.749Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-27T00:56:09.749Z"}
{"level":"info","message":"Processing : DELETE on : /images/5a42efa94d75da4deb4a6efa","timestamp":"2017-12-27T00:56:09.778Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-27T00:56:09.778Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/bearer-auth-middleware.js:11:13)\n    at new Promise (<anonymous>)\n    at args (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/bearer-auth-middleware.js:10:12)\n    at Object.<anonymous>.module.exports (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/bearer-auth-middleware.js:29:63)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:281:22\n    at param (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:354:14)\n    at param (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:410:3)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:635:15\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:635:15\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/logger-middleware.js:8:10)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at query (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/application.js:174:10)\n    at Server.app (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","expose":true,"statusCode":401,"status":401,"level":"info","timestamp":"2017-12-27T00:56:09.778Z"}
{"level":"info","message":"Repsonding with a ${error.status} status","timestamp":"2017-12-27T00:56:09.779Z"}
{"level":"info","message":"server off","timestamp":"2017-12-27T00:56:09.782Z"}
{"level":"info","message":"server is listening on port 7000","timestamp":"2017-12-27T00:56:10.140Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-27T00:56:10.147Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-27T00:56:10.189Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-27T00:56:10.190Z"}
{"message":"__ERROR__ username, email, and password required to create an account","stack":"BadRequestError: __ERROR__ username, email, and password required to create an account\n    at Object.<anonymous>.accountRouter.post (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/route/account-router.js:14:91)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/route.js:137:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/raw-body/index.js:224:16)\n    at done (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/raw-body/index.js:273:7)\n    at emitNone (events.js:106:13)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1056:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-27T00:56:10.190Z"}
{"level":"info","message":"Repsonding with a ${error.status} status","timestamp":"2017-12-27T00:56:10.191Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-27T00:56:10.194Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-27T00:56:10.216Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-27T00:56:10.234Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"stupid@stupider.com\" }","op":{"username":"stupid","email":"stupid@stupider.com","passwordHash":"$2a$08$LolRgJ1jPSIZYQURbUPBNOOrotNAoFAua0O/tQU/mvRsXmrUEdBIm","tokenSeed":"9af688f9e116a37e8719e82368b4fc627e5b2708edab66235c958223f2ab32a0dfa57255fbaa639bd988c7416fbda0768146a9f7d1d413fe169e6e158d5d9a2f","_id":"5a42efaa96d94d4deb5f9ab5","created":"2017-12-27T00:56:10.232Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-27T00:56:10.236Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-27T00:56:10.324Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-27T00:56:10.368Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-27T00:56:10.369Z"}
{"message":"__ERROR__ username and password required","stack":"BadRequestError: __ERROR__ username and password required\n    at Object.<anonymous>.module.exports (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/basic-auth-middleware.js:20:90)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/logger-middleware.js:8:10)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at query (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:317:13)\n    at /home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/application.js:174:10)\n    at Server.app (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/node_modules/express/lib/express.js:39:9)\n    at emitTwo (events.js:126:13)\n    at Server.emit (events.js:214:7)\n    at parserOnIncoming (_http_server.js:602:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-27T00:56:10.369Z"}
{"level":"info","message":"Repsonding with a ${error.status} status","timestamp":"2017-12-27T00:56:10.370Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-27T00:56:10.394Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-27T00:56:10.395Z"}
{"message":"__ERROR__ not found","stack":"NotFoundError: __ERROR__ not found\n    at Account.findOne.then.account (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/lib/basic-auth-middleware.js:25:86)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-27T00:56:10.395Z"}
{"level":"info","message":"Repsonding with a ${error.status} status","timestamp":"2017-12-27T00:56:10.395Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-27T00:56:10.418Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-27T00:56:10.436Z"}
{"message":"__AUTH__ incorrect username or password","stack":"UnauthorizedError: __AUTH__ incorrect username or password\n    at bcrypt.compare.then.response (/home/seth/codefellows/401/lab/17-19-auth/lab-seth/model/account.js:40:86)\n    at <anonymous>","name":"UnauthorizedError","level":"info","timestamp":"2017-12-27T00:56:10.436Z"}
{"level":"info","message":"Repsonding with a ${error.status} status","timestamp":"2017-12-27T00:56:10.436Z"}
{"level":"info","message":"server off","timestamp":"2017-12-27T00:56:10.438Z"}
{"level":"info","message":"server is listening on port 7000","timestamp":"2017-12-27T00:56:10.789Z"}
{"level":"info","message":"Processing : POST on : /profiles","timestamp":"2017-12-27T00:56:10.819Z"}
{"level":"info","message":"Processing : GET on : /profiles/5a42efaa2d2f014debedb68e","timestamp":"2017-12-27T00:56:10.857Z"}
{"level":"info","message":"server off","timestamp":"2017-12-27T00:56:10.863Z"}
