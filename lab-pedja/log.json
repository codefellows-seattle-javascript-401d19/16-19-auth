{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T06:40:32.284Z"}
{"level":"info","message":"Processing: POST on: /images","timestamp":"2017-12-22T06:40:32.349Z"}
{"level":"info","message":"Processing: POST on: /images","timestamp":"2017-12-22T06:40:32.406Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T06:40:32.410Z"}
{"message":"__ERROR__ invalid request","stack":"BadRequestError: __ERROR__ invalid request\n    at Object.<anonymous>.imageRouter.post (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/route/image-router.js:25:90)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/route.js:137:13)\n    at Immediate.<anonymous> (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/multer/lib/make-middleware.js:53:37)\n    at runCallback (timers.js:804:20)\n    at tryOnImmediate (timers.js:762:5)\n    at processImmediate [as _immediateCallback] (timers.js:733:5)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T06:40:32.410Z"}
{"level":"info","message":"Responding with a 400 status and message __ERROR__ invalid request","timestamp":"2017-12-22T06:40:32.410Z"}
{"level":"info","message":"Processing: POST on: /images","timestamp":"2017-12-22T06:40:32.436Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T06:40:32.437Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/bearer-auth-middleware.js:11:13)\n    at new Promise (<anonymous>)\n    at args (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/bearer-auth-middleware.js:10:12)\n    at Object.<anonymous>.module.exports (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/bearer-auth-middleware.js:28:40)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/logger-middleware.js:8:10)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","expose":true,"statusCode":401,"status":401,"level":"info","timestamp":"2017-12-22T06:40:32.437Z"}
{"level":"info","message":"Responding with a 401 status and message jwt malformed","timestamp":"2017-12-22T06:40:32.439Z"}
{"level":"info","message":"Processing: GET on: /images/5a3ca8e0598947566914a449","timestamp":"2017-12-22T06:40:32.468Z"}
{"level":"info","message":"Returning 404 from a catch-all route","timestamp":"2017-12-22T06:40:32.469Z"}
{"level":"info","message":"Processing: GET on: /images/BADID","timestamp":"2017-12-22T06:40:32.498Z"}
{"level":"info","message":"Returning 404 from a catch-all route","timestamp":"2017-12-22T06:40:32.499Z"}
{"level":"info","message":"Processing: GET on: /images/5a3ca8e0598947566914a44d","timestamp":"2017-12-22T06:40:32.527Z"}
{"level":"info","message":"Returning 404 from a catch-all route","timestamp":"2017-12-22T06:40:32.528Z"}
{"level":"info","message":"Server OFF","timestamp":"2017-12-22T06:40:32.531Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T06:42:25.459Z"}
{"level":"info","message":"Processing: GET on: /images/5a3ca9518a823556ccce217b","timestamp":"2017-12-22T06:42:25.590Z"}
{"level":"info","message":"Returning 404 from a catch-all route","timestamp":"2017-12-22T06:42:25.591Z"}
{"level":"info","message":"Processing: GET on: /images/BADID","timestamp":"2017-12-22T06:42:25.627Z"}
{"level":"info","message":"Returning 404 from a catch-all route","timestamp":"2017-12-22T06:42:25.628Z"}
{"level":"info","message":"Processing: GET on: /images/5a3ca9518a823556ccce217f","timestamp":"2017-12-22T06:42:25.655Z"}
{"level":"info","message":"Returning 404 from a catch-all route","timestamp":"2017-12-22T06:42:25.656Z"}
{"level":"info","message":"Server OFF","timestamp":"2017-12-22T06:42:25.659Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T06:44:26.915Z"}
{"level":"info","message":"Processing: GET on: /images/5a3ca9cb8e4171574285f3c3","timestamp":"2017-12-22T06:44:27.054Z"}
{"level":"info","message":"Processing: GET on: /images/BADID","timestamp":"2017-12-22T06:44:27.097Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T06:44:27.099Z"}
{"message":"Cast to ObjectId failed for value \"BADID\" at path \"_id\" for model \"image\"","stack":"CastError: Cast to ObjectId failed for value \"BADID\" at path \"_id\" for model \"image\"\n    at new CastError (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/kareem/index.js:250:8\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"BADID\"","kind":"ObjectId","value":"BADID","path":"_id","level":"info","timestamp":"2017-12-22T06:44:27.099Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T06:44:27.101Z"}
{"level":"info","message":"Processing: GET on: /images/5a3ca9cb8e4171574285f3c7","timestamp":"2017-12-22T06:44:27.127Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T06:44:27.128Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/bearer-auth-middleware.js:11:13)\n    at new Promise (<anonymous>)\n    at args (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/bearer-auth-middleware.js:10:12)\n    at Object.<anonymous>.module.exports (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/bearer-auth-middleware.js:28:40)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/logger-middleware.js:8:10)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","expose":true,"statusCode":401,"status":401,"level":"info","timestamp":"2017-12-22T06:44:27.128Z"}
{"level":"info","message":"Responding with a 401 status and message jwt malformed","timestamp":"2017-12-22T06:44:27.130Z"}
{"level":"info","message":"Server OFF","timestamp":"2017-12-22T06:44:27.134Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T06:46:32.510Z"}
{"level":"info","message":"Processing: GET on: /images/5a3caa4836db6957a32e6e06","timestamp":"2017-12-22T06:46:32.639Z"}
{"level":"info","message":"Processing: GET on: /images/BADID","timestamp":"2017-12-22T06:46:32.682Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T06:46:32.686Z"}
{"message":"Cast to ObjectId failed for value \"BADID\" at path \"_id\" for model \"image\"","stack":"CastError: Cast to ObjectId failed for value \"BADID\" at path \"_id\" for model \"image\"\n    at new CastError (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/kareem/index.js:250:8\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"BADID\"","kind":"ObjectId","value":"BADID","path":"_id","level":"info","timestamp":"2017-12-22T06:46:32.686Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T06:46:32.687Z"}
{"level":"info","message":"Processing: GET on: /images/5a3caa4836db6957a32e6e0a","timestamp":"2017-12-22T06:46:32.720Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T06:46:32.721Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/bearer-auth-middleware.js:11:13)\n    at new Promise (<anonymous>)\n    at args (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/bearer-auth-middleware.js:10:12)\n    at Object.<anonymous>.module.exports (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/bearer-auth-middleware.js:28:40)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/logger-middleware.js:8:10)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","expose":true,"statusCode":401,"status":401,"level":"info","timestamp":"2017-12-22T06:46:32.721Z"}
{"level":"info","message":"Responding with a 401 status and message jwt malformed","timestamp":"2017-12-22T06:46:32.723Z"}
{"level":"info","message":"Server OFF","timestamp":"2017-12-22T06:46:32.725Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T06:47:04.808Z"}
{"level":"info","message":"Processing: POST on: /images","timestamp":"2017-12-22T06:47:04.944Z"}
{"level":"info","message":"Processing: POST on: /images","timestamp":"2017-12-22T06:47:04.998Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T06:47:05.002Z"}
{"message":"__ERROR__ invalid request","stack":"BadRequestError: __ERROR__ invalid request\n    at Object.<anonymous>.imageRouter.post (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/route/image-router.js:25:90)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/route.js:137:13)\n    at Immediate._onImmediate (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/multer/lib/make-middleware.js:53:37)\n    at runCallback (timers.js:804:20)\n    at tryOnImmediate (timers.js:762:5)\n    at processImmediate [as _immediateCallback] (timers.js:733:5)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T06:47:05.002Z"}
{"level":"info","message":"Responding with a 400 status and message __ERROR__ invalid request","timestamp":"2017-12-22T06:47:05.002Z"}
{"level":"info","message":"Processing: POST on: /images","timestamp":"2017-12-22T06:47:05.028Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T06:47:05.029Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/bearer-auth-middleware.js:11:13)\n    at new Promise (<anonymous>)\n    at args (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/bearer-auth-middleware.js:10:12)\n    at Object.<anonymous>.module.exports (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/bearer-auth-middleware.js:28:40)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/logger-middleware.js:8:10)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","expose":true,"statusCode":401,"status":401,"level":"info","timestamp":"2017-12-22T06:47:05.029Z"}
{"level":"info","message":"Responding with a 401 status and message jwt malformed","timestamp":"2017-12-22T06:47:05.030Z"}
{"level":"info","message":"Processing: GET on: /images/5a3caa695edbd357d28ae62a","timestamp":"2017-12-22T06:47:05.056Z"}
{"level":"info","message":"Processing: GET on: /images/BADID","timestamp":"2017-12-22T06:47:05.088Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T06:47:05.092Z"}
{"message":"Cast to ObjectId failed for value \"BADID\" at path \"_id\" for model \"image\"","stack":"CastError: Cast to ObjectId failed for value \"BADID\" at path \"_id\" for model \"image\"\n    at new CastError (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/kareem/index.js:250:8\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"BADID\"","kind":"ObjectId","value":"BADID","path":"_id","level":"info","timestamp":"2017-12-22T06:47:05.092Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T06:47:05.094Z"}
{"level":"info","message":"Processing: GET on: /images/5a3caa695edbd357d28ae62e","timestamp":"2017-12-22T06:47:05.123Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T06:47:05.123Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/bearer-auth-middleware.js:11:13)\n    at new Promise (<anonymous>)\n    at args (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/bearer-auth-middleware.js:10:12)\n    at Object.<anonymous>.module.exports (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/bearer-auth-middleware.js:28:40)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/logger-middleware.js:8:10)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","expose":true,"statusCode":401,"status":401,"level":"info","timestamp":"2017-12-22T06:47:05.123Z"}
{"level":"info","message":"Responding with a 401 status and message jwt malformed","timestamp":"2017-12-22T06:47:05.124Z"}
{"level":"info","message":"Server OFF","timestamp":"2017-12-22T06:47:05.126Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T06:56:59.117Z"}
{"level":"info","message":"Processing: POST on: /images","timestamp":"2017-12-22T06:56:59.261Z"}
{"level":"info","message":"Processing: POST on: /images","timestamp":"2017-12-22T06:56:59.325Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T06:56:59.329Z"}
{"message":"__ERROR__ invalid request","stack":"BadRequestError: __ERROR__ invalid request\n    at Object.<anonymous>.imageRouter.post (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/route/image-router.js:25:90)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/route.js:137:13)\n    at Immediate._onImmediate (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/multer/lib/make-middleware.js:53:37)\n    at runCallback (timers.js:804:20)\n    at tryOnImmediate (timers.js:762:5)\n    at processImmediate [as _immediateCallback] (timers.js:733:5)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T06:56:59.329Z"}
{"level":"info","message":"Responding with a 400 status and message __ERROR__ invalid request","timestamp":"2017-12-22T06:56:59.329Z"}
{"level":"info","message":"Processing: POST on: /images","timestamp":"2017-12-22T06:56:59.359Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T06:56:59.360Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/bearer-auth-middleware.js:11:13)\n    at new Promise (<anonymous>)\n    at args (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/bearer-auth-middleware.js:10:12)\n    at Object.<anonymous>.module.exports (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/bearer-auth-middleware.js:28:40)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/logger-middleware.js:8:10)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","expose":true,"statusCode":401,"status":401,"level":"info","timestamp":"2017-12-22T06:56:59.360Z"}
{"level":"info","message":"Responding with a 401 status and message jwt malformed","timestamp":"2017-12-22T06:56:59.362Z"}
{"level":"info","message":"Processing: GET on: /images/5a3cacbbfbf9995918be59a5","timestamp":"2017-12-22T06:56:59.391Z"}
{"level":"info","message":"Processing: GET on: /images/BADID","timestamp":"2017-12-22T06:56:59.424Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T06:56:59.427Z"}
{"message":"Cast to ObjectId failed for value \"BADID\" at path \"_id\" for model \"image\"","stack":"CastError: Cast to ObjectId failed for value \"BADID\" at path \"_id\" for model \"image\"\n    at new CastError (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/kareem/index.js:250:8\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"BADID\"","kind":"ObjectId","value":"BADID","path":"_id","level":"info","timestamp":"2017-12-22T06:56:59.427Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T06:56:59.428Z"}
{"level":"info","message":"Processing: GET on: /images/5a3cacbbfbf9995918be59a9","timestamp":"2017-12-22T06:56:59.461Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T06:56:59.461Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/bearer-auth-middleware.js:11:13)\n    at new Promise (<anonymous>)\n    at args (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/bearer-auth-middleware.js:10:12)\n    at Object.<anonymous>.module.exports (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/bearer-auth-middleware.js:28:40)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/logger-middleware.js:8:10)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","expose":true,"statusCode":401,"status":401,"level":"info","timestamp":"2017-12-22T06:56:59.461Z"}
{"level":"info","message":"Responding with a 401 status and message jwt malformed","timestamp":"2017-12-22T06:56:59.463Z"}
{"level":"info","message":"Processing: DELETE on: /images/5a3cacbbfbf9995918be59ab","timestamp":"2017-12-22T06:56:59.492Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T06:56:59.492Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/bearer-auth-middleware.js:21:92)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/logger-middleware.js:8:10)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T06:56:59.493Z"}
{"level":"info","message":"Responding with a 400 status and message __ERROR__ authorization header required","timestamp":"2017-12-22T06:56:59.493Z"}
{"level":"info","message":"Processing: DELETE on: /images/INVALID_ID","timestamp":"2017-12-22T06:56:59.498Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T06:56:59.498Z"}
{"message":"__ERROR__ authorization header required","stack":"BadRequestError: __ERROR__ authorization header required\n    at Object.<anonymous>.module.exports (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/bearer-auth-middleware.js:21:92)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/logger-middleware.js:8:10)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T06:56:59.498Z"}
{"level":"info","message":"Responding with a 400 status and message __ERROR__ authorization header required","timestamp":"2017-12-22T06:56:59.499Z"}
{"level":"info","message":"Server OFF","timestamp":"2017-12-22T06:56:59.503Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T06:59:45.666Z"}
{"level":"info","message":"Processing: POST on: /images","timestamp":"2017-12-22T06:59:45.805Z"}
{"level":"info","message":"Processing: POST on: /images","timestamp":"2017-12-22T06:59:45.865Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T06:59:45.868Z"}
{"message":"__ERROR__ invalid request","stack":"BadRequestError: __ERROR__ invalid request\n    at Object.<anonymous>.imageRouter.post (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/route/image-router.js:25:90)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/route.js:137:13)\n    at Immediate._onImmediate (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/multer/lib/make-middleware.js:53:37)\n    at runCallback (timers.js:804:20)\n    at tryOnImmediate (timers.js:762:5)\n    at processImmediate [as _immediateCallback] (timers.js:733:5)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T06:59:45.868Z"}
{"level":"info","message":"Responding with a 400 status and message __ERROR__ invalid request","timestamp":"2017-12-22T06:59:45.869Z"}
{"level":"info","message":"Processing: POST on: /images","timestamp":"2017-12-22T06:59:45.899Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T06:59:45.900Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/bearer-auth-middleware.js:11:13)\n    at new Promise (<anonymous>)\n    at args (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/bearer-auth-middleware.js:10:12)\n    at Object.<anonymous>.module.exports (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/bearer-auth-middleware.js:28:40)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/logger-middleware.js:8:10)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","expose":true,"statusCode":401,"status":401,"level":"info","timestamp":"2017-12-22T06:59:45.900Z"}
{"level":"info","message":"Responding with a 401 status and message jwt malformed","timestamp":"2017-12-22T06:59:45.902Z"}
{"level":"info","message":"Processing: GET on: /images/5a3cad61b076075988bbb375","timestamp":"2017-12-22T06:59:45.931Z"}
{"level":"info","message":"Processing: GET on: /images/BADID","timestamp":"2017-12-22T06:59:45.967Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T06:59:45.970Z"}
{"message":"Cast to ObjectId failed for value \"BADID\" at path \"_id\" for model \"image\"","stack":"CastError: Cast to ObjectId failed for value \"BADID\" at path \"_id\" for model \"image\"\n    at new CastError (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/kareem/index.js:250:8\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"BADID\"","kind":"ObjectId","value":"BADID","path":"_id","level":"info","timestamp":"2017-12-22T06:59:45.970Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T06:59:45.971Z"}
{"level":"info","message":"Processing: GET on: /images/5a3cad61b076075988bbb379","timestamp":"2017-12-22T06:59:46.000Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T06:59:46.000Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/bearer-auth-middleware.js:11:13)\n    at new Promise (<anonymous>)\n    at args (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/bearer-auth-middleware.js:10:12)\n    at Object.<anonymous>.module.exports (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/bearer-auth-middleware.js:28:40)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/logger-middleware.js:8:10)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","expose":true,"statusCode":401,"status":401,"level":"info","timestamp":"2017-12-22T06:59:46.000Z"}
{"level":"info","message":"Responding with a 401 status and message jwt malformed","timestamp":"2017-12-22T06:59:46.001Z"}
{"level":"info","message":"Processing: DELETE on: /images/5a3cad62b076075988bbb37b","timestamp":"2017-12-22T06:59:46.030Z"}
{"level":"info","message":"Processing: DELETE on: /images/5a3cad62b076075988bbb37d","timestamp":"2017-12-22T06:59:46.065Z"}
{"level":"info","message":"Server OFF","timestamp":"2017-12-22T06:59:46.072Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T07:00:37.133Z"}
{"level":"info","message":"Processing: POST on: /images","timestamp":"2017-12-22T07:00:37.272Z"}
{"level":"info","message":"Processing: POST on: /images","timestamp":"2017-12-22T07:00:37.332Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T07:00:37.336Z"}
{"message":"__ERROR__ invalid request","stack":"BadRequestError: __ERROR__ invalid request\n    at Object.<anonymous>.imageRouter.post (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/route/image-router.js:25:90)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/route.js:137:13)\n    at Immediate._onImmediate (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/multer/lib/make-middleware.js:53:37)\n    at runCallback (timers.js:804:20)\n    at tryOnImmediate (timers.js:762:5)\n    at processImmediate [as _immediateCallback] (timers.js:733:5)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T07:00:37.336Z"}
{"level":"info","message":"Responding with a 400 status and message __ERROR__ invalid request","timestamp":"2017-12-22T07:00:37.337Z"}
{"level":"info","message":"Processing: POST on: /images","timestamp":"2017-12-22T07:00:37.367Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T07:00:37.368Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/bearer-auth-middleware.js:11:13)\n    at new Promise (<anonymous>)\n    at args (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/bearer-auth-middleware.js:10:12)\n    at Object.<anonymous>.module.exports (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/bearer-auth-middleware.js:28:40)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/logger-middleware.js:8:10)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","expose":true,"statusCode":401,"status":401,"level":"info","timestamp":"2017-12-22T07:00:37.368Z"}
{"level":"info","message":"Responding with a 401 status and message jwt malformed","timestamp":"2017-12-22T07:00:37.370Z"}
{"level":"info","message":"Processing: GET on: /images/5a3cad95daeda159b31866b1","timestamp":"2017-12-22T07:00:37.399Z"}
{"level":"info","message":"Processing: GET on: /images/BADID","timestamp":"2017-12-22T07:00:37.432Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T07:00:37.436Z"}
{"message":"Cast to ObjectId failed for value \"BADID\" at path \"_id\" for model \"image\"","stack":"CastError: Cast to ObjectId failed for value \"BADID\" at path \"_id\" for model \"image\"\n    at new CastError (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/kareem/index.js:250:8\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"BADID\"","kind":"ObjectId","value":"BADID","path":"_id","level":"info","timestamp":"2017-12-22T07:00:37.436Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T07:00:37.437Z"}
{"level":"info","message":"Processing: GET on: /images/5a3cad95daeda159b31866b5","timestamp":"2017-12-22T07:00:37.465Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T07:00:37.466Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/bearer-auth-middleware.js:11:13)\n    at new Promise (<anonymous>)\n    at args (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/bearer-auth-middleware.js:10:12)\n    at Object.<anonymous>.module.exports (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/bearer-auth-middleware.js:28:40)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/logger-middleware.js:8:10)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","expose":true,"statusCode":401,"status":401,"level":"info","timestamp":"2017-12-22T07:00:37.466Z"}
{"level":"info","message":"Responding with a 401 status and message jwt malformed","timestamp":"2017-12-22T07:00:37.467Z"}
{"level":"info","message":"Processing: DELETE on: /images/5a3cad95daeda159b31866b7","timestamp":"2017-12-22T07:00:37.496Z"}
{"level":"info","message":"Processing: DELETE on: /images/INVALID_ID","timestamp":"2017-12-22T07:00:37.528Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T07:00:37.530Z"}
{"message":"Cast to ObjectId failed for value \"INVALID_ID\" at path \"_id\" for model \"image\"","stack":"CastError: Cast to ObjectId failed for value \"INVALID_ID\" at path \"_id\" for model \"image\"\n    at new CastError (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/kareem/index.js:250:8\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"INVALID_ID\"","kind":"ObjectId","value":"INVALID_ID","path":"_id","level":"info","timestamp":"2017-12-22T07:00:37.530Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T07:00:37.531Z"}
{"level":"info","message":"Server OFF","timestamp":"2017-12-22T07:00:37.533Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T07:01:32.007Z"}
{"level":"info","message":"Processing: POST on: /images","timestamp":"2017-12-22T07:01:32.145Z"}
{"level":"info","message":"Processing: POST on: /images","timestamp":"2017-12-22T07:01:32.205Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T07:01:32.209Z"}
{"message":"__ERROR__ invalid request","stack":"BadRequestError: __ERROR__ invalid request\n    at Object.<anonymous>.imageRouter.post (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/route/image-router.js:25:90)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/route.js:137:13)\n    at Immediate._onImmediate (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/multer/lib/make-middleware.js:53:37)\n    at runCallback (timers.js:804:20)\n    at tryOnImmediate (timers.js:762:5)\n    at processImmediate [as _immediateCallback] (timers.js:733:5)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T07:01:32.209Z"}
{"level":"info","message":"Responding with a 400 status and message __ERROR__ invalid request","timestamp":"2017-12-22T07:01:32.210Z"}
{"level":"info","message":"Processing: POST on: /images","timestamp":"2017-12-22T07:01:32.239Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T07:01:32.240Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/bearer-auth-middleware.js:11:13)\n    at new Promise (<anonymous>)\n    at args (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/bearer-auth-middleware.js:10:12)\n    at Object.<anonymous>.module.exports (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/bearer-auth-middleware.js:28:40)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/logger-middleware.js:8:10)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","expose":true,"statusCode":401,"status":401,"level":"info","timestamp":"2017-12-22T07:01:32.240Z"}
{"level":"info","message":"Responding with a 401 status and message jwt malformed","timestamp":"2017-12-22T07:01:32.241Z"}
{"level":"info","message":"Processing: GET on: /images/5a3cadcc7cf29859ecb123cb","timestamp":"2017-12-22T07:01:32.271Z"}
{"level":"info","message":"Processing: GET on: /images/BADID","timestamp":"2017-12-22T07:01:32.304Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T07:01:32.307Z"}
{"message":"Cast to ObjectId failed for value \"BADID\" at path \"_id\" for model \"image\"","stack":"CastError: Cast to ObjectId failed for value \"BADID\" at path \"_id\" for model \"image\"\n    at new CastError (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/kareem/index.js:250:8\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"BADID\"","kind":"ObjectId","value":"BADID","path":"_id","level":"info","timestamp":"2017-12-22T07:01:32.307Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T07:01:32.308Z"}
{"level":"info","message":"Processing: GET on: /images/5a3cadcc7cf29859ecb123cf","timestamp":"2017-12-22T07:01:32.337Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T07:01:32.337Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/bearer-auth-middleware.js:11:13)\n    at new Promise (<anonymous>)\n    at args (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/bearer-auth-middleware.js:10:12)\n    at Object.<anonymous>.module.exports (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/bearer-auth-middleware.js:28:40)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/logger-middleware.js:8:10)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","expose":true,"statusCode":401,"status":401,"level":"info","timestamp":"2017-12-22T07:01:32.337Z"}
{"level":"info","message":"Responding with a 401 status and message jwt malformed","timestamp":"2017-12-22T07:01:32.338Z"}
{"level":"info","message":"Processing: DELETE on: /images/5a3cadcc7cf29859ecb123d1","timestamp":"2017-12-22T07:01:32.367Z"}
{"level":"info","message":"Processing: DELETE on: /images/INVALID_ID","timestamp":"2017-12-22T07:01:32.399Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T07:01:32.401Z"}
{"message":"Cast to ObjectId failed for value \"INVALID_ID\" at path \"_id\" for model \"image\"","stack":"CastError: Cast to ObjectId failed for value \"INVALID_ID\" at path \"_id\" for model \"image\"\n    at new CastError (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/kareem/index.js:250:8\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"INVALID_ID\"","kind":"ObjectId","value":"INVALID_ID","path":"_id","level":"info","timestamp":"2017-12-22T07:01:32.401Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T07:01:32.401Z"}
{"level":"info","message":"Processing: DELETE on: /images/5a3cadcc7cf29859ecb123d5","timestamp":"2017-12-22T07:01:32.431Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T07:01:32.431Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/bearer-auth-middleware.js:11:13)\n    at new Promise (<anonymous>)\n    at args (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/bearer-auth-middleware.js:10:12)\n    at Object.<anonymous>.module.exports (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/bearer-auth-middleware.js:28:40)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/logger-middleware.js:8:10)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","expose":true,"statusCode":401,"status":401,"level":"info","timestamp":"2017-12-22T07:01:32.431Z"}
{"level":"info","message":"Responding with a 401 status and message jwt malformed","timestamp":"2017-12-22T07:01:32.432Z"}
{"level":"info","message":"Server OFF","timestamp":"2017-12-22T07:01:32.434Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T07:03:07.170Z"}
{"level":"info","message":"Processing: POST on: /images","timestamp":"2017-12-22T07:03:07.230Z"}
{"level":"info","message":"Processing: POST on: /images","timestamp":"2017-12-22T07:03:07.282Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T07:03:07.286Z"}
{"message":"__ERROR__ invalid request","stack":"BadRequestError: __ERROR__ invalid request\n    at Object.<anonymous>.imageRouter.post (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/route/image-router.js:25:90)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/route.js:137:13)\n    at Immediate._onImmediate (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/multer/lib/make-middleware.js:53:37)\n    at runCallback (timers.js:804:20)\n    at tryOnImmediate (timers.js:762:5)\n    at processImmediate [as _immediateCallback] (timers.js:733:5)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T07:03:07.286Z"}
{"level":"info","message":"Responding with a 400 status and message __ERROR__ invalid request","timestamp":"2017-12-22T07:03:07.286Z"}
{"level":"info","message":"Processing: POST on: /images","timestamp":"2017-12-22T07:03:07.310Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T07:03:07.311Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/bearer-auth-middleware.js:11:13)\n    at new Promise (<anonymous>)\n    at args (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/bearer-auth-middleware.js:10:12)\n    at Object.<anonymous>.module.exports (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/bearer-auth-middleware.js:28:40)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/logger-middleware.js:8:10)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","expose":true,"statusCode":401,"status":401,"level":"info","timestamp":"2017-12-22T07:03:07.311Z"}
{"level":"info","message":"Responding with a 401 status and message jwt malformed","timestamp":"2017-12-22T07:03:07.312Z"}
{"level":"info","message":"Processing: GET on: /images/5a3cae2be978f55a294e7b6d","timestamp":"2017-12-22T07:03:07.340Z"}
{"level":"info","message":"Processing: GET on: /images/BADID","timestamp":"2017-12-22T07:03:07.366Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T07:03:07.369Z"}
{"message":"Cast to ObjectId failed for value \"BADID\" at path \"_id\" for model \"image\"","stack":"CastError: Cast to ObjectId failed for value \"BADID\" at path \"_id\" for model \"image\"\n    at new CastError (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/kareem/index.js:250:8\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"BADID\"","kind":"ObjectId","value":"BADID","path":"_id","level":"info","timestamp":"2017-12-22T07:03:07.369Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T07:03:07.370Z"}
{"level":"info","message":"Processing: GET on: /images/5a3cae2be978f55a294e7b71","timestamp":"2017-12-22T07:03:07.393Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T07:03:07.393Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/bearer-auth-middleware.js:11:13)\n    at new Promise (<anonymous>)\n    at args (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/bearer-auth-middleware.js:10:12)\n    at Object.<anonymous>.module.exports (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/bearer-auth-middleware.js:28:40)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/logger-middleware.js:8:10)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","expose":true,"statusCode":401,"status":401,"level":"info","timestamp":"2017-12-22T07:03:07.393Z"}
{"level":"info","message":"Responding with a 401 status and message jwt malformed","timestamp":"2017-12-22T07:03:07.394Z"}
{"level":"info","message":"Processing: DELETE on: /images/5a3cae2be978f55a294e7b73","timestamp":"2017-12-22T07:03:07.417Z"}
{"level":"info","message":"Processing: DELETE on: /images/INVALID_ID","timestamp":"2017-12-22T07:03:07.443Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T07:03:07.444Z"}
{"message":"Cast to ObjectId failed for value \"INVALID_ID\" at path \"_id\" for model \"image\"","stack":"CastError: Cast to ObjectId failed for value \"INVALID_ID\" at path \"_id\" for model \"image\"\n    at new CastError (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/kareem/index.js:250:8\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"INVALID_ID\"","kind":"ObjectId","value":"INVALID_ID","path":"_id","level":"info","timestamp":"2017-12-22T07:03:07.445Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T07:03:07.445Z"}
{"level":"info","message":"Processing: DELETE on: /images/5a3cae2be978f55a294e7b77","timestamp":"2017-12-22T07:03:07.467Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T07:03:07.468Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/bearer-auth-middleware.js:11:13)\n    at new Promise (<anonymous>)\n    at args (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/bearer-auth-middleware.js:10:12)\n    at Object.<anonymous>.module.exports (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/bearer-auth-middleware.js:28:40)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/logger-middleware.js:8:10)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","expose":true,"statusCode":401,"status":401,"level":"info","timestamp":"2017-12-22T07:03:07.468Z"}
{"level":"info","message":"Responding with a 401 status and message jwt malformed","timestamp":"2017-12-22T07:03:07.468Z"}
{"level":"info","message":"Server OFF","timestamp":"2017-12-22T07:03:07.470Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T07:03:07.683Z"}
{"level":"info","message":"Processing: POST on: /heroes","timestamp":"2017-12-22T07:03:07.763Z"}
{"level":"info","message":"Processing: POST on: /heroes","timestamp":"2017-12-22T07:03:07.801Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T07:03:07.803Z"}
{"message":"heroe validation failed: sidekick: Cast to String failed for value \"{}\" at path \"sidekick\"","errors":{"sidekick":{"message":"Cast to String failed for value \"{}\" at path \"sidekick\"","name":"CastError","stringValue":"\"{}\"","kind":"String","value":{},"path":"sidekick","reason":{"message":"Cast to string failed for value \"{}\" at path \"sidekick\"","name":"CastError","stringValue":"\"{}\"","kind":"string","value":{},"path":"sidekick"}}},"_message":"heroe validation failed","stack":"ValidationError: sidekick: Cast to String failed for value \"{}\" at path \"sidekick\"\n    at new ValidationError (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/error/validation.js:28:11)\n    at model.Object.<anonymous>.Document.invalidate (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/document.js:1673:32)\n    at model.Object.<anonymous>.Document.$set (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/document.js:771:10)\n    at model._handleIndex (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/document.js:593:14)\n    at model.Object.<anonymous>.Document.$set (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/document.js:553:24)\n    at model.Document (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/document.js:83:12)\n    at model.Model (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/model.js:55:12)\n    at new model (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/model.js:3901:13)\n    at Object.<anonymous>.heroRouter.post (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/route/hero-router.js:16:10)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/route.js:137:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/raw-body/index.js:224:16)\n    at done (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/raw-body/index.js:273:7)\n    at IncomingMessage.emit (events.js:159:13)\n    at endReadableNT (_stream_readable.js:1054:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"ValidationError","level":"info","timestamp":"2017-12-22T07:03:07.803Z"}
{"level":"info","message":"Responding with a 400 status code","timestamp":"2017-12-22T07:03:07.806Z"}
{"level":"info","message":"Processing: POST on: /heroes","timestamp":"2017-12-22T07:03:07.829Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T07:03:07.829Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/bearer-auth-middleware.js:11:13)\n    at new Promise (<anonymous>)\n    at args (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/bearer-auth-middleware.js:10:12)\n    at Object.<anonymous>.module.exports (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/bearer-auth-middleware.js:28:40)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/logger-middleware.js:8:10)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","expose":true,"statusCode":401,"status":401,"level":"info","timestamp":"2017-12-22T07:03:07.829Z"}
{"level":"info","message":"Responding with a 401 status and message jwt malformed","timestamp":"2017-12-22T07:03:07.830Z"}
{"level":"info","message":"Processing: GET on: /heroes/5a3cae2bb693ef5a2973b679","timestamp":"2017-12-22T07:03:07.854Z"}
{"level":"info","message":"Processing: GET on: /heroes/invalidid","timestamp":"2017-12-22T07:03:07.880Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T07:03:07.882Z"}
{"message":"Cast to ObjectId failed for value \"invalidid\" at path \"_id\" for model \"heroe\"","stack":"CastError: Cast to ObjectId failed for value \"invalidid\" at path \"_id\" for model \"heroe\"\n    at new CastError (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/kareem/index.js:250:8\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"invalidid\"","kind":"ObjectId","value":"invalidid","path":"_id","level":"info","timestamp":"2017-12-22T07:03:07.882Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-22T07:03:07.882Z"}
{"level":"info","message":"Processing: GET on: /heroes/5a3cae2bb693ef5a2973b67d","timestamp":"2017-12-22T07:03:07.906Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T07:03:07.906Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/bearer-auth-middleware.js:11:13)\n    at new Promise (<anonymous>)\n    at args (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/bearer-auth-middleware.js:10:12)\n    at Object.<anonymous>.module.exports (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/bearer-auth-middleware.js:28:40)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/logger-middleware.js:8:10)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","expose":true,"statusCode":401,"status":401,"level":"info","timestamp":"2017-12-22T07:03:07.906Z"}
{"level":"info","message":"Responding with a 401 status and message jwt malformed","timestamp":"2017-12-22T07:03:07.907Z"}
{"level":"info","message":"Server OFF","timestamp":"2017-12-22T07:03:07.908Z"}
{"level":"info","message":"Server is listening on port 7000","timestamp":"2017-12-22T07:03:08.087Z"}
{"level":"info","message":"Processing: POST on: /signup","timestamp":"2017-12-22T07:03:08.090Z"}
{"level":"info","message":"Processing: POST on: /signup","timestamp":"2017-12-22T07:03:08.119Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T07:03:08.119Z"}
{"message":"__ERROR__ username, email and password required to create an account","stack":"BadRequestError: __ERROR__ username, email and password required to create an account\n    at Object.<anonymous>.authRouter.post (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/route/auth-router.js:15:91)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/route.js:137:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/raw-body/index.js:224:16)\n    at done (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/raw-body/index.js:273:7)\n    at IncomingMessage.emit (events.js:159:13)\n    at endReadableNT (_stream_readable.js:1054:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T07:03:08.119Z"}
{"level":"info","message":"Responding with a 400 status and message __ERROR__ username, email and password required to create an account","timestamp":"2017-12-22T07:03:08.120Z"}
{"level":"info","message":"Processing: POST on: /signup","timestamp":"2017-12-22T07:03:08.123Z"}
{"level":"info","message":"Processing: POST on: /signup","timestamp":"2017-12-22T07:03:08.144Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T07:03:08.163Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: email_1 dup key: { : \"hound@hound.com\" }","op":{"username":"hound","email":"hound@hound.com","passwordHash":"$2a$08$oexds28myygUHo40F2yW0O1kia06/MHH9v2zago6gUCB7EyCJpe36","tokenSeed":"39d42ebed47d25bdcdf81bd3ae0e531d5c24e3c7d34106262de63741449702e54c73352496fc5ef3d5e4130e669534266a2c34f2f1ba374657fd29bea6f6d5c3","_id":"5a3cae2c9609bb5a2916adc9","created":"2017-12-22T07:03:08.161Z","__v":0}}
{"level":"info","message":"Responding with a 409 status code","timestamp":"2017-12-22T07:03:08.168Z"}
{"level":"info","message":"Processing: GET on: /login","timestamp":"2017-12-22T07:03:08.193Z"}
{"level":"info","message":"Processing: GET on: /login","timestamp":"2017-12-22T07:03:08.234Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T07:03:08.235Z"}
{"message":"__ERROR__ username and password required","stack":"BadRequestError: __ERROR__ username and password required\n    at Object.<anonymous>.module.exports (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/basic-auth-middleware.js:19:92)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/lib/logger-middleware.js:8:10)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:317:13)\n    at /Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-22T07:03:08.235Z"}
{"level":"info","message":"Responding with a 400 status and message __ERROR__ username and password required","timestamp":"2017-12-22T07:03:08.236Z"}
{"level":"info","message":"Processing: GET on: /login","timestamp":"2017-12-22T07:03:08.258Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-22T07:03:08.277Z"}
{"message":"__AUTH__ incorrect username or password","stack":"UnauthorizedError: __AUTH__ incorrect username or password\n    at bcrypt.compare.then.response (/Users/predragjosifovic/Documents/codefellows/sea-401d19/lab/16-19-auth/lab-pedja/model/account.js:39:86)\n    at <anonymous>","name":"UnauthorizedError","level":"info","timestamp":"2017-12-22T07:03:08.277Z"}
{"level":"info","message":"Responding with a 401 status and message __AUTH__ incorrect username or password","timestamp":"2017-12-22T07:03:08.277Z"}
{"level":"info","message":"Server OFF","timestamp":"2017-12-22T07:03:08.279Z"}
